<!doctype html>
<script>
function test()
{
    if (window.testRunner) {
        testRunner.dumpAsText();
        testRunner.dumpNavigationPolicy();
        testRunner.waitUntilDone();

        var isMac = navigator.userAgent.search(/\bMac OS X\b/) != -1;
        var a = document.querySelector("#link");
        eventSender.mouseMoveTo(a.offsetLeft + 10, a.offsetTop + 10);
        eventSender.mouseDown(0, [isMac ? 'metaKey' : 'ctrlKey']);
        eventSender.mouseUp(0, [isMac ? 'metaKey' : 'ctrlKey']);
    }
}
</script>
<body onload="test()">
<p>Tests that hitting ctrl-click on a link results in a new background tab.</p>
<a href="resources/notify-done.html" id="link">link</a>
</body>
