<!DOCTYPE html>
<script src="../resources/text-based-repaint.js"></script>
<script>
if (window.testRunner)
  testRunner.dumpAsText();

function repaintTest() {
  var things = document.getElementsByClassName("before");
  while (things.length)
    things[0].classList.remove("before");
}
onload = runRepaintAndPixelTest;
</script>
<style>
.box {
  width: 200px;
  height: 200px;
  margin: 20px;
  background-color: green;
  filter: url(#composite);
}
.before {
  background-color: red;
}
</style>
<div class="before box"></div>
<svg width="0" height="0">
  <filter id="composite" x="-0.5" y="-0.5" width="2" height="2">
    <feFlood x="100" y="100" width="200" height="200" flood-color="blue"/>
    <feComposite operator="atop" in="SourceGraphic"/>
  </filter>
</svg>
