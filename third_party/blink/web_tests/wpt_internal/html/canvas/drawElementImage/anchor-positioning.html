<!DOCTYPE html>
<title>Canvas.drawElementImage with out-of-canvas anchored element</title>
<link rel="help" href="https://github.com/WICG/html-in-canvas">
<link rel="match" href="anchor-positioning-ref.html">
<style>
  #canvas {
    width: 200px;
    height: 200px;
    background: lightgray;
  }
  #anchor {
    width: 100px;
    height: 100px;
    background: green;
    anchor-name: --anchor;
  }
  #anchored {
    position-anchor: --anchor;
    position-visibility: always;
    position-area: bottom center;
    width: 100px;
    height: 100px;
    background: lightgreen;
    position: absolute;
    top: 0;
    left: 0;
  }
</style>

<canvas id=canvas width="200" height="200" layoutsubtree>
  <div id=anchor></div>
</canvas>
<div id=anchored></div>

<script>
function runTest() {
  var context = canvas.getContext('2d');
  let matrix = context.drawElementImage(anchor, 50, 50);
  anchor.style.transform = matrix.toString();
}
onload = () => runTest();
</script>
