<!doctype html>
<html>
<link rel="preload" as="fetch" crossorigin="anonymous" href="resources/hello.txt"></link>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<body>
<script>
promise_test(async (t) => {
  await fetch('resources/hello.txt', {mode: 'same-origin'});
}, 'Preload match fails because the request mode does not match (see the console log).');
</script>
</body>
</html>

