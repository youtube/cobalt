<!DOCTYPE html>
<script src=../resources/text-based-repaint.js></script>
<script src=../../../resources/ahem.js></script>
<svg>
  <pattern id="pat" patternUnits="userSpaceOnUse" width="200" height="200">
    <rect width="200" height="100" fill="red"/>
    <rect y="100" width="200" height="100" fill="green"/>
  </pattern>
  <text y="80" fill="green" font-size="100" font-family="Ahem">X<tspan fill="url(#pat)">Y</tspan>Z</text>
</svg>
<script>
function repaintTest() {
    var pattern = document.querySelector('pattern');
    pattern.setAttribute('y', 100);
}
onload = runRepaintAndPixelTest;
</script>
