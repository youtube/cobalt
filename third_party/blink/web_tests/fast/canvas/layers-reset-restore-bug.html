
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script>
function runTest() {
  var canvas = document.createElement("canvas");
  var ctx = canvas.getContext('2d');
  ctx.beginLayer();
  ctx.reset();
  ctx.restore();
  ctx.reset();
  ctx.endLayer();
}

async_test(t => {
    window.onload = function() {
        t.step(runTest);
        t.done();
    }
}, 'Verify that using reset and restore will not crash.');

</script>