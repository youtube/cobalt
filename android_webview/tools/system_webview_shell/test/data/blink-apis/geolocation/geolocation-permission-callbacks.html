<!DOCTYPE html>
<html>
  <script src="../../resources/js-test.js"></script>
  <body>
    <script type="text/javascript">
      description("Test Geolocation API permission callbacks in WebView");
      window.jsTestIsAsync = true;

      function gotPosition() {
        testFailed("geolocation should have been denied");
        finishJSTest();
      }

      function onError(err) {
        debug("onError: code=" + err.code + ", message=" + err.message);
        finishJSTest();
      }

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(gotPosition, onError);
      } else {
        debug('geolocation not supported');
        finishJSTest();
      }
    </script>
  </body>
</html>