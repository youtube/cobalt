<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Starboard Module Reference: decode_target.h</title>

            <!-- Webfont -->
    
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    


    <!-- Material Design Lite -->
    <link href="/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    <!-- Bootstrap -->
    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/js/common.js" type="text/javascript" charset="utf-8"></script>


    <!-- metadata -->
    <meta name="og:title" content="Cobalt / Starboard Module Reference: decode_target.h"/>
    <meta name="og:image" content="/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
    <link rel="shortcut icon" type="image/png" href="/favicon.ico">
  </head>
  <body class="docs" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>



    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">
        <img class="logo" src="/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
        
  
    
  
  
    
      <li><a href="/starboard/porting.html">Porters</a></li>
    
  

  
    
  
  
    
      <li><a href="/development/setup-linux.html">Developers</a></li>
    
  

  
    
  
  
    
      <li><a href="/contributors/index.html">Contributors</a></li>
    
  

  
    
  
  
    
      
        <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      
    
  


      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  



        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>


    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: decode_target.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu no-top-margin"><a href="/overview.html">Overview</a></h4>
      
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Porters</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/starboard/porting.html">Port Cobalt to your platform</a></li>
              
            
              
        <li><a href="/starboard/testing.html">Testing with NPLB</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/reference/starboard/configuration-public.html">configuration_public.h</a></li>
              
            
              
        <li><a href="/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
              
            
              
                <li><b>Starboard modules</b>
                
          <ul>
                  
                    
                      <li><a href="/reference/starboard/modules/atomic.html">atomic.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/blitter.html">blitter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/character.html">character.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/configuration.html">configuration.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/decode_target.html">decode_target.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/directory.html">directory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/double.html">double.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/drm.html">drm.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/event.html">event.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/export.html">export.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/file.html">file.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/image.html">image.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/input.html">input.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/key.html">key.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/log.html">log.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/media.html">media.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory.html">memory.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/memory_reporter.html">memory_reporter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/microphone.html">microphone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/mutex.html">mutex.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/once.html">once.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/player.html">player.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/queue.html">queue.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket.html">socket.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/speech_synthesis.html">speech_synthesis.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/storage.html">storage.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/string.html">string.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/system.html">system.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread.html">thread.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time.html">time.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/types.html">types.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/user.html">user.h</a></li>
                    
                  
                    
                      <li><a href="/reference/starboard/modules/window.html">window.h</a></li>
                    
                  
          </ul>
                
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
        
          <h4 class="submenu">Developers</h4>
        
      
  <ul class="content">
      
        
    <li><b>Guides</b>
          
      <ul>
            
              
        <li><a href="/development/setup-linux.html">Setup - Linux</a></li>
              
            
              
        <li><a href="/development/setup-raspi.html">Setup - RasPi</a></li>
              
            
      </ul>
    </li>
          
        
      
        
    <li><b>Reference</b>
          
      <ul>
            
              
        <li><a href="/development/reference/supported-features.html">Cobalt support</a></li>
              
            
      </ul>
    </li>
          
        
      
  </ul>
    
</li>
  

  
<li class="expand-container" data-expander-target-search="relative">
    
      
      
<h4 class="no-submenu"><a href="/contributors/index.html">Contributors</a></h4>
      
    
</li>
  



      </ul>
    </div>
    <div class="col-md-3 " id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>A target for decoding image and video data into. This corresponds roughly to
an EGLImage, but that extension may not be fully supported on all GL
platforms. SbDecodeTarget supports multi-plane targets. We need a mechanism
for SbBlitter as well, and this is able to more-or-less unify the two.<br>
An SbDecodeTarget can be passed into any function which decodes video or
image data. This allows the application to allocate fast graphics memory, and
have decoding done directly into this memory, avoiding unnecessary memory
copies, and also avoiding pushing data between CPU and GPU memory
unnecessarily.<br></p>

<h4 id="sbdecodetargetformat">SbDecodeTargetFormat</h4>

<p>SbDecodeTargets support several different formats that can be used to decode
into and render from. Some formats may be easier to decode into, and others
may be easier to render. Some may take less memory. Each decoder needs to
support the SbDecodeTargetFormat passed into it, or the decode will produce
an error. Each decoder provides a way to check if a given
SbDecodeTargetFormat is supported by that decoder.<br></p>

<h4 id="sbdecodetargetprovider">SbDecodeTargetProvider</h4>

<p>Some components may need to acquire SbDecodeTargets compatible with a certain
rendering context, which may need to be created on a particular thread. The
SbDecodeTargetProvider is a way for the primary rendering context to provide
an interface that can create SbDecodeTargets on demand by other system.<br>
The primary usage is likely to be the the SbPlayer implementation on some
platforms.<br></p>

<h4 id="sbdecodetarget-example">SbDecodeTarget Example</h4>

<p>Let&#39;s say there&#39;s an image decoder for .foo files:<br>
bool SbImageDecodeFooSupportsFormat(SbDecodeTargetFormat format);
SbDecodeTarget SbImageDecodeFoo(void* data, int data_size,
SbDecodeTargetFormat format);<br>
First, the client should enumerate which SbDecodeTargetFormats are supported
by that decoder.<br>
SbDecodeTargetFormat kPreferredFormats[] = {
kSbDecodeTargetFormat3PlaneYUVI420,
kSbDecodeTargetFormat1PlaneRGBA,
kSbDecodeTargetFormat1PlaneBGRA,
};<br>
SbDecodeTargetFormat format = kSbDecodeTargetFormatInvalid;
for (int i = 0; i &lt; SB_ARRAY_SIZE_INT(kPreferredFormats); ++i) {
if (SbImageDecodeFooSupportsFormat(kPreferredFormats[i])) {
format = kPreferredFormats[i];
break;
}
}<br>
Now that the client has a format, it can create a decode target that it
will use to decode the .foo file into. Let&#39;s assume format is
kSbDecodeTargetFormat1PlaneRGBA, that we are on an EGL/GLES2 platform.
Also, we won&#39;t do any error checking, to keep things even simpler.<br>
SbDecodeTarget target = SbImageDecodeFoo(encoded_foo_data,
encoded_foo_data_size, format);<br>
// If the decode works, you can get the texture out and render it.
GLuint texture =
SbDecodeTargetGetPlane(target, kSbDecodeTargetPlaneRGBA);<br></p>

<h2 id="enums">Enums</h2>

<h3 id="sbdecodetargetformat">SbDecodeTargetFormat</h3>

<p>The list of all possible decoder target formats. An SbDecodeTarget consists
of one or more planes of data, each plane corresponding with a surface. For
some formats, different planes will be different sizes for the same
dimensions.<br>
NOTE: For enumeration entries with an alpha component, the alpha will always
be premultiplied unless otherwise explicitly specified.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbDecodeTargetFormat1PlaneRGBA</code> - A decoder target format consisting of a single RGBA plane, in that channelorder.</li>
<li>  <code class="prettyprint">kSbDecodeTargetFormat1PlaneBGRA</code> - A decoder target format consisting of a single BGRA plane, in that channelorder.</li>
<li>  <code class="prettyprint">kSbDecodeTargetFormat2PlaneYUVNV12</code> - A decoder target format consisting of Y and interleaved UV planes, in thatplane and channel order.</li>
<li>  <code class="prettyprint">kSbDecodeTargetFormat3PlaneYUVI420</code> - A decoder target format consisting of Y, U, and V planes, in that order.</li>
<li>  <code class="prettyprint">kSbDecodeTargetFormatInvalid</code> - An invalid decode target format.</li>
</ul>

<h3 id="sbdecodetargetplane">SbDecodeTargetPlane</h3>

<p>All the planes supported by SbDecodeTarget.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbDecodeTargetPlaneRGBA</code> - The RGBA plane for the RGBA format.</li>
<li>  <code class="prettyprint">kSbDecodeTargetPlaneBGRA</code> - The BGRA plane for the BGRA format.</li>
<li>  <code class="prettyprint">kSbDecodeTargetPlaneY</code> - The Y plane for multi-plane YUV formats.</li>
<li>  <code class="prettyprint">kSbDecodeTargetPlaneUV</code> - The UV plane for 2-plane YUV formats.</li>
<li>  <code class="prettyprint">kSbDecodeTargetPlaneU</code> - The U plane for 3-plane YUV formats.</li>
<li>  <code class="prettyprint">kSbDecodeTargetPlaneV</code> - The V plane for 3-plane YUV formats.</li>
</ul>

<h2 id="structs">Structs</h2>

<h3 id="sbdecodetargetprivate">SbDecodeTargetPrivate</h3>

<p>Private structure representing a target for image data decoding.</p>

<h3 id="sbdecodetargetprovider">SbDecodeTargetProvider</h3>

<p>An object that can acquire and release SbDecodeTarget instances.</p>

<p><strong>Members</strong></p>

<table class="responsive">
  <tr><th colspan="2">Members</th></tr>
  <tr>
    <td><code>SbDecodeTargetAcquireFunction</code><br>        <code>acquire</code></td>    <td>The function to acquire a new SbDecodeTarget from the provider.</td>  </tr>
  <tr>
    <td><code>SbDecodeTargetReleaseFunction</code><br>        <code>release</code></td>    <td>The function to release an acquired SbDecodeTarget back to the provider.</td>  </tr>
</table>

<h2 id="functions">Functions</h2>

<h3 id="sbdecodetarget">SbDecodeTarget</h3>

<p><strong>Description</strong></p>

<p>Inline convenience function to acquire an <code>SbDecodeTarget</code> of type <code class="prettyprint">format</code>,
<code class="prettyprint">width</code>, and <code class="prettyprint">height</code> from <code class="prettyprint">provider</code>.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE SbDecodeTarget
SbDecodeTargetAcquireFromProvider(SbDecodeTargetProvider* provider,
                                  SbDecodeTargetFormat format,
                                  int width,
                                  int height) {
  return provider-&gt;acquire(provider-&gt;context, format, width, height);
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTargetAcquireFromProvider(SbDecodeTargetProvider*</code><br>
        <code>provider</code></td>
    <td> </td>
  </tr>
  <tr>
    <td><code>SbDecodeTargetFormat</code><br>
        <code>format</code></td>
    <td> </td>
  </tr>
  <tr>
    <td><code>int</code><br>
        <code>width</code></td>
    <td> </td>
  </tr>
  <tr>
    <td><code>int</code><br>
        <code>height</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetcreate">SbDecodeTargetCreate</h3>

<p><strong>Description</strong></p>

<p>Creates a new EGL/GLES2-compatible <code><a href="#sbdecodetarget">SbDecodeTarget</a></code> from one or more <code class="prettyprint">planes</code>
owned by <code class="prettyprint">context</code>, created from <code class="prettyprint">display</code>. Must be called from a thread
where <code class="prettyprint">context</code> is current.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SB_EXPORT SbDecodeTarget SbDecodeTargetCreate(EGLDisplay display,
                                              EGLContext context,
                                              SbDecodeTargetFormat format,
                                              GLuint* planes);
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>EGLDisplay</code><br>        <code>display</code></td>
    <td>The EGLDisplay being targeted.</td>
  </tr>
  <tr>
    <td><code>EGLContext</code><br>        <code>context</code></td>
    <td>The EGLContext used for this operation, or EGL_NO_CONTEXT if a
context is not required.</td>
  </tr>
  <tr>
    <td><code>SbDecodeTargetFormat</code><br>        <code>format</code></td>
    <td>The format of the decode target being created.</td>
  </tr>
  <tr>
    <td><code>GLuint*</code><br>        <code>planes</code></td>
    <td>An array of GLES Texture handles to be bundled into an
SbDecodeTarget. Must not be NULL. Is expected to have the same number of
entries as the number of planes for <code>format</code>, in the order and size expected
by that format.</td>
  </tr>
</table>

<h3 id="sbdecodetargetdestroy">SbDecodeTargetDestroy</h3>

<p><strong>Description</strong></p>

<p>Destroys the given <code><a href="#sbdecodetarget">SbDecodeTarget</a></code>. Note that calling this function does NOT
destroy the associated surfaces with it, in order to accommodate the case
in which it is desirable for the lifetime of the surface to outlive the
SbDecodeTarget that contains it. If the surfaces should be destroyed along
with the <code><a href="#sbdecodetarget">SbDecodeTarget</a></code>, then they should be extracted with
<code class="prettyprint">SbDecodeTargetGetPlane</code> and destroyed manually by the client.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbDecodeTargetDestroy-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbDecodeTargetDestroy-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbDecodeTargetDestroy-declaration">
<pre>
SB_EXPORT void SbDecodeTargetDestroy(SbDecodeTarget decode_target);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbDecodeTargetDestroy-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/decode_target.h&quot;

void SbDecodeTargetDestroy(SbDecodeTarget /*decode_target*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTarget</code><br>
        <code>decode_target</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetgetformat">SbDecodeTargetGetFormat</h3>

<p><strong>Description</strong></p>

<p>Gets the format that <code class="prettyprint">decode_target</code> was created with.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbDecodeTargetGetFormat-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbDecodeTargetGetFormat-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbDecodeTargetGetFormat-declaration">
<pre>
SB_EXPORT SbDecodeTargetFormat
SbDecodeTargetGetFormat(SbDecodeTarget decode_target);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbDecodeTargetGetFormat-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/decode_target.h&quot;

SbDecodeTargetFormat SbDecodeTargetGetFormat(SbDecodeTarget /*decode_target*/) {
  return kSbDecodeTargetFormatInvalid;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTarget</code><br>
        <code>decode_target</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetgetplane">SbDecodeTargetGetPlane</h3>

<p><strong>Description</strong></p>

<p>Stub function for when graphics aren&#39;t enabled.  There is no concept of a
plane, and <code class="prettyprint">NULL</code> is always returned.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE void* SbDecodeTargetGetPlane(SbDecodeTarget decode_target,
                                                SbDecodeTargetPlane plane) {
  SB_UNREFERENCED_PARAMETER(decode_target);
  SB_UNREFERENCED_PARAMETER(plane);
  return NULL;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTarget</code><br>
        <code>decode_target</code></td>
    <td> </td>
  </tr>
  <tr>
    <td><code>SbDecodeTargetPlane</code><br>
        <code>plane</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetisformatvalid">SbDecodeTargetIsFormatValid</h3>

<p><strong>Description</strong></p>

<p>Returns whether a given format is valid.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE bool SbDecodeTargetIsFormatValid(
    SbDecodeTargetFormat format) {
  return format != kSbDecodeTargetFormatInvalid;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTargetFormat</code><br>
        <code>format</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetisopaque">SbDecodeTargetIsOpaque</h3>

<p><strong>Description</strong></p>

<p>Gets whether <code class="prettyprint">decode_target</code> is opaque or not.  The underlying source of
this value is expected to be properly maintained by the Starboard
implementation.  So, for example, if an opaque only image type were decoded
into an <code><a href="#sbdecodetarget">SbDecodeTarget</a></code>, then the implementation would configure things in
such a way that this function would return true.  By opaque, it is meant
that all alpha values are guaranteed to be 255, if <code class="prettyprint">decode_target</code> is of a
format that has alpha values.  If <code class="prettyprint">decode_target</code> is of a format that does
not have alpha values, then this function should return <code class="prettyprint">true</code>.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbDecodeTargetIsOpaque-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbDecodeTargetIsOpaque-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbDecodeTargetIsOpaque-declaration">
<pre>
SB_EXPORT bool SbDecodeTargetIsOpaque(SbDecodeTarget decode_target);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbDecodeTargetIsOpaque-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/configuration.h&quot;
#include &quot;starboard/decode_target.h&quot;

#if !(SB_VERSION(3) &amp;&amp; SB_HAS(GRAPHICS))
#error &quot;SbDecodeTargetIsOpaque requires SB_VERSION(3) and SB_HAS(GRAPHICS).&quot;
#endif

bool SbDecodeTargetIsOpaque(SbDecodeTarget decode_target) {
  return false;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTarget</code><br>
        <code>decode_target</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetisvalid">SbDecodeTargetIsValid</h3>

<p><strong>Description</strong></p>

<p>Returns whether the given file handle is valid.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE bool SbDecodeTargetIsValid(SbDecodeTarget handle) {
  return handle != kSbDecodeTargetInvalid;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTarget</code><br>
        <code>handle</code></td>
    <td> </td>
  </tr>
</table>

<h3 id="sbdecodetargetreleasetoprovider">SbDecodeTargetReleaseToProvider</h3>

<p><strong>Description</strong></p>

<p>Inline convenience function to release <code class="prettyprint">decode_target</code> back to <code class="prettyprint">provider</code>.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE void SbDecodeTargetReleaseToProvider(
    SbDecodeTargetProvider* provider,
    SbDecodeTarget decode_target) {
  provider-&gt;release(provider-&gt;context, decode_target);
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbDecodeTargetProvider*</code><br>
        <code>provider</code></td>
    <td> </td>
  </tr>
  <tr>
    <td><code>SbDecodeTarget</code><br>
        <code>decode_target</code></td>
    <td> </td>
  </tr>
</table>

        
          
        
      </div>
    </div>
  </div>

</div>


    
      <footer>
<div class="container">
    <div class="row">
      
        <div class="col-md-5 column-left">
          
          
            
              
  
    <span class="copyright-text">Â© Google 2016</span>
  


            
            
            
            
            
            
          
        </div>
      
        <div class="col-md-2 column-middle">
          
          
            
            
            
            
              
  <img class="footer-logo" src="/images/cobalt-logo.png" alt="Cobalt"/>


            
            
            
          
        </div>
      
        <div class="col-md-5 column-right">
          
          
            
            
            
            
            
            
              &nbsp;
            
          
        </div>
      
    </div>
</div>
</footer>

    

    
  </body>
</html>
