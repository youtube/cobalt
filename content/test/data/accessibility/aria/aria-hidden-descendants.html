<!--
@WAIT-FOR:finished
@BLINK-DENY:*ForRange*
-->
<html>
<body>
  <div id="starts-visible-ends-hidden" role="group" aria-hidden="true" aria-label="Subtree starts visible ends hidden">
    <div role="group">
      <div role="group">
        <!-- Focusable objects remain in hidden trees but are marked with invisible state -->
        <div role="slider" tabindex="0" aria-label="Slider#1 now inside hidden subtree"></div>
      </div>
    </div>
  </div>
  <div id="starts-hidden-ends-visible" role="group" aria-label="Subtree starts hidden ends visible">
    <div role="group">
      <div role="group">
        <div role="slider" tabindex="0" aria-label="Slider #2 now inside visible subtree"></div>
      </div>
    </div>
  </div>
  <div role="group" id="test-status" aria-label="running"></div>
  <script>
    setTimeout(() => {
      document.getElementById('starts-hidden-ends-visible').removeAttribute('aria-hidden');
      document.getElementById('starts-visible-ends-hidden').setAttribute('aria-hidden', 'true');
      document.getElementById('test-status').setAttribute('aria-label', 'finished');
    }, 100);
  </script>
</body>
</html>
