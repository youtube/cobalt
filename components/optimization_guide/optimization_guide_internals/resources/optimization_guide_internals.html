<!doctype html>
<html lang="en" dir="ltr">
<!--
Copyright 2022 The Chromium Authors
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

  <head>
    <meta charset="utf-8">
    <title>Optimization Guide Internals</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="optimization_guide_internals.css">
    <link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
<if expr="is_ios">
    <!-- TODO(crbug.com/41173939): Remove this once injected by web. -->
    <script src="chrome://resources/js/ios/web_ui.js"></script>
    <script src="chrome://resources/js/ios/mojo_api.js"></script>
</if>
  </head>

  <body>

    <h1>Optimization Guide Internals - Debug Logs</h1>
    <div>
      Enable the <a href="chrome://flags/#optimization-guide-debug-logs">optimization guide debug flags</a> to record debug messages from the browser startup.
    </div>

    <cr-tab-box hidden>
      <div slot="tab">Event Logs</div>
      <div slot="tab">Models</div>
      <div slot="tab">Client Ids</div>

      <div slot="panel" id="tabpanel-event-logs">
        <div>
          <div>
            <h2 class="row-sep">
              <span>Event Logs</span>
              <button id="log-messages-dump">Dump</button>
              <label>Include: <input id="log-message-include"></label>
              <label>Exclude: <input id="log-message-exclude"></label>
              <span id="log-message-filter-stats"></span>
            </h2>
            <table id="log-message-container">
              <thead>
                <tr>
                  <th class="event-logs-time">Time</th>
                  <th class="event-logs-log-source filterable">Log source</th>
                  <th class="event-logs-source-location filterable">Source Location</th>
                  <th class="event-logs-message filterable">Log Message</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>

      <div slot="panel" id="tabpanel-models">
        <div>
          <div>
            <h2>Models</h2>
            Downloaded models:
            <table id="downloaded-models-container">
              <thead>
                <tr>
                  <th class="downloaded-models-optimization-target">Optimization target</th>
                  <th class="downloaded-models-version">Version</th>
                  <th class="downloaded-models-file-path">File path</th>
                </tr>
              </thead>
            </table>
          </div>
        </div>
      </div>

      <div slot="panel" id="tabpanel-client-ids">
        <div>
          <div>
            <h2>Logged Client Ids</h2>
            Logged Client ids:
            <table id="logged-client-ids-container">
              <thead>
                <tr>
                  <th class="logged-client-ids">Client Id</th>
                </tr>
              </thead>
            </table>
          </div>
        </div>
      </div>
    </cr-tab-box>

  </body>
  <script type="module" src="optimization_guide_internals.js"></script>

</html>
