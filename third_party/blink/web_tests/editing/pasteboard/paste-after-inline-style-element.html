<!DOCTYPE html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../assert_selection.js"></script>
<script>
// This test ensures WebKit does not crash when pasting content immediately
// after an inline style element.
// This test exhibits a bug. The inserted content should be on a separate line
// but it is not.
selection_test(
    [
      '<div contenteditable>',
        '<blockquote type="cite"><b>line 1<br></b>\u00A0</blockquote>|',
      '</div>',
    ],
    selection => selection.document.execCommand('InsertHTML', false,
        '<blockquote type="cite">line 2</blockquote>'),
    [
      '<div contenteditable>',
        '<blockquote type="cite"><b>line 1<br></b>\u00A0line 2|</blockquote>',
      '</div>',
    ]);
</script>
