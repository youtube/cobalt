<!DOCTYPE html>
<!--
Copyright 2016 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/tracing/base/xhr.html">
<link rel="import" href="/tracing/value/chart_json_converter.html">
<link rel="import" href="/tracing/value/histogram_set.html">

<script>
'use strict';
/* eslint-disable no-console */

if (tr.isHeadless) {
  const charts = JSON.parse(tr.b.getSync('file://' + sys.argv[1]));
  const histograms = new tr.v.HistogramSet();
  tr.v.ChartJsonConverter.convertChartJson(charts, histograms);
  console.log(JSON.stringify(histograms.asDicts()));
}
</script>
