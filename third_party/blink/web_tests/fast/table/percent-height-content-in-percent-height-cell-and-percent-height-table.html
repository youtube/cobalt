<!DOCTYPE HTML>
<style>
  .full {
    height: 100%;
    line-height: 20px;
  }
  table {
    height: 100%;
    width: 200px;
  }
  .container {
    background: red;
  }
</style>
<p>crbug.com/762330 and crbug.com/798478: A table with percent height and nothing to resolve against should be treated as auto per the spec but we make an exception for the sake of interoperability.</p>
<table>
    <tr class="full">
        <td class="full">
          <div class='full container' id="test" data-expected-height=50>
            <div class='full'>
              Text
            </div>
          </div>
        </td>
        <td>
            <div style="height: 50px; width: 50px;"></div>
        </td>
    </tr>
</table>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../../resources/check-layout-th.js"></script>
<script>
    checkLayout("#test");
</script>
