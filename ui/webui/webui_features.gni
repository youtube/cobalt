# Copyright 2018 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chrome_build.gni")
import("//build/config/coverage/coverage.gni")

declare_args() {
  # Optimize parts of Chrome's UI written with web technologies (HTML/CSS/JS)
  # for runtime performance purposes. This does more work at compile time for
  # speed benefits at runtime (so we skip in debug builds).
  optimize_webui = !is_debug

  # Enable the WebUI version of the browser's tab strip.
  enable_webui_tab_strip = is_chromeos || is_linux || is_win

  # Whether to inline source maps during build. Cannot be enabled when
  # `optimize_webui=true`.
  enable_webui_inline_sourcemaps = use_javascript_coverage

  # Flag used for loading WebUI files directly from disk instead of .pak files.
  # It causes additional file path info for each file to be added into Grit
  # generated '*_resource_map.cc' files during the build, which is then used at
  # runtime to read such files.
  # Meant to be used during local development only (requires a local checkout
  # and build) with the runtime --load-webui-from-disk command line switch.
  load_webui_from_disk = false
}

if (load_webui_from_disk) {
  assert(is_linux || is_mac || is_win || is_chromeos,
         "load_webui_from_disk not available")
}
