<!DOCTYPE html>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr style="background: gray">
    <td>
      <div id="target" style="display: none;">
        Text should have a gray background.
      </div>
    </td>
  </tr>
  <tr>
    <td style="background-color: green">
      Another line in green.
    </td>
  </tr>
</table>
<script src="../../../resources/run-after-layout-and-paint.js"></script>
<script>
runAfterLayoutAndPaint(function() {
  document.querySelector("#target").style.display = 'block';
}, true);
</script>
