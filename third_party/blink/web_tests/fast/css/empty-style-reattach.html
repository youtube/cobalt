<!DOCTYPE html>

<style>
    #empty:empty {
        display: none;
    }
</style>

<div id="empty"></div>

<script>
    if (window.testRunner)
        testRunner.dumpAsText();

    var isEmpty = true;
    var div = document.getElementById("empty");

    function toggle()
    {
        div.innerHTML = isEmpty ? "Should be visible" : "";
        isEmpty = !isEmpty;
        div.offsetLeft;
    }

    onload = function() {
        toggle(); // not empty
        toggle(); // empty
        toggle(); // not empty
    };
</script>

