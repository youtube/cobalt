<!DOCYTPE html>
<html>
<style>
input { background: red; }
input:focus { background: green; }
</style>
<body>
<p>The following text box should have focus and should be green.</p>
<input type="text" id="test" autofocus onfocus="setTimeout(test, 0)">
<div id="result">FAIL</div>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

function test() {
    var target = document.getElementById("test");
    target.offsetTop;
    if (document.defaultView.getComputedStyle(target, null).getPropertyValue('background-color') == "rgb(0, 128, 0)")
        result.innerHTML = "PASS";
    if (window.testRunner)
        testRunner.notifyDone();
}
</script>
</body>
</html>
