# Copyright 2021 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/compiled_action.gni")

source_set("chrome_colors") {
  sources = [
    "chrome_colors_util.cc",
    "chrome_colors_util.h",
  ]
  public_deps = [
    "//skia",
    "//ui/base/mojom",
  ]
  deps = [
    ":generate_chrome_colors_info",
    "//chrome/browser/ui/webui/cr_components/theme_color_picker",
  ]
}

executable("generate_colors_info") {
  sources = [
    "generate_colors_info.cc",
    "selected_colors_info.h",
  ]
  deps = [
    # Avoid adding big generic deps as this target is build for host
    # toolchain. For example, see the problem with adding //chrome in
    # crbug.com/1000916.
    "//base",
    "//chrome/app:generated_resources",
    "//chrome/common/themes:autogenerated_theme_util",
    "//skia",
  ]
}

compiled_action("generate_chrome_colors_info") {
  tool = ":generate_colors_info"
  outputs = [ "$target_gen_dir/generated_colors_info.h" ]
  args = rebase_path(outputs, root_build_dir)
}
