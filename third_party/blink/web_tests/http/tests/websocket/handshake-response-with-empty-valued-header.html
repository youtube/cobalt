<html>
<body>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script>
var t = async_test('An empty valued header in a WebSocket handshake response doesn\'t fail a WebSocket');
t.step(function() {
    var ws = new WebSocket('ws://127.0.0.1:8880/handshake-response-with-empty-valued-header');
    ws.onopen = function() {
        t.done();
    };
    ws.onmessage = t.step_func(function(e) {
        assert_unreached('Unexpected message event' + e);
    });
    ws.onerror = t.step_func(function() {
        assert_unreached('Unexpected error event');
    });
    ws.onclose = t.step_func(function(e) {
        assert_unreached('Unexpected close event' + e);
    });
});
</script>
</body>
