include_rules = [
  # //chrome/browser/ui/ash is conceptually part of "ash". See the "Lacros:
  # ChromeOS source code directory migration" design doc at
  # https://docs.google.com/document/d/1g-98HpzA8XcoGBWUv1gQNr4rbnD5yfvbtYZyPDDbkaE
  "+ash",

  # ChromeOS should not depend on //chrome. See //docs/chromeos/code.md for
  # details.
  "-chrome",

  # These dependencies are currently in //chrome but are semantically part of
  # ChromeOS.
  "+chrome/browser/apps/app_service",
  "+chrome/browser/apps/browser_instance",
  "+chrome/browser/ash",
  "+chrome/browser/chromeos",
  "+chrome/browser/exo_parts.h",
  "+chrome/browser/nearby_sharing",
  "+chrome/browser/sharesheet",
  "+chrome/browser/ui/ash",
  "+chrome/browser/ui/chromeos",
  "+chrome/browser/ui/views/crostini",
  "+chrome/browser/ui/webui/ash",
  "+chrome/services/media_gallery_util",
  "+chrome/test/base/chrome_ash_test_base.h",
  "+chrome/test/base/chromeos",

  # Dependencies on //chrome. Try to avoid adding new dependencies. Exceptions
  # are allowed for now. https://crbug.com/1506357.
  "+chrome/app/chrome_command_ids.h",
  "+chrome/app/vector_icons/vector_icons.h",
  "+chrome/browser/about_flags.h",
  "+chrome/browser/app_mode/app_mode_utils.h",
  "+chrome/browser/apps/icon_standardizer.h",
  "+chrome/browser/apps/link_capturing/chromeos_link_capturing_delegate.h",
  "+chrome/browser/apps/platform_apps",  # platform apps are being deleted
  "+chrome/browser/bitmap_fetcher/bitmap_fetcher.h",
  "+chrome/browser/bitmap_fetcher/bitmap_fetcher_delegate.h",
  "+chrome/browser/browser_process.h",
  "+chrome/browser/browser_process_platform_part.h",
  "+chrome/browser/browser_process_platform_part_ash.h",
  # Used by launcher and //ash/picker, will be removed post-Lacros.
  "+chrome/browser/bookmarks/bookmark_model_factory.h",
  "+chrome/browser/chrome_browser_main_extra_parts.h",
  "+chrome/browser/content_settings/host_content_settings_map_factory.h",
  "+chrome/browser/download/chrome_download_manager_delegate.h",
  "+chrome/browser/download/download_core_service.h",
  "+chrome/browser/download/download_core_service_factory.h",
  "+chrome/browser/download/download_prefs.h",
  "+chrome/browser/download/notification/multi_profile_download_notifier.h",
  "+chrome/browser/enterprise/connectors/device_trust/attestation/ash/ash_attestation_cleanup_manager.h",
  "+chrome/browser/enterprise/data_controls/dlp_reporting_manager.h",
  "+chrome/browser/enterprise/data_controls/dlp_reporting_manager_test_helper.h",
  "+chrome/browser/extensions/api/messaging/native_message_port.h",
  "+chrome/browser/extensions/chrome_app_icon_loader.h",
  "+chrome/browser/extensions/component_loader.h",
  "+chrome/browser/extensions/context_menu_matcher.h",
  "+chrome/browser/extensions/extension_apitest.h",
  "+chrome/browser/extensions/extension_browsertest.h",
  "+chrome/browser/extensions/extension_service.h",
  "+chrome/browser/extensions/extension_uninstall_dialog.h",
  "+chrome/browser/extensions/extension_util.h",
  "+chrome/browser/extensions/launch_util.h",
  "+chrome/browser/extensions/menu_manager.h",
  "+chrome/browser/extensions/test_extension_system.h",
  "+chrome/browser/favicon/favicon_service_factory.h",
  "+chrome/browser/feature_engagement/tracker_factory.h",
  "+chrome/browser/file_system_access/chrome_file_system_access_permission_context.h",
  "+chrome/browser/file_system_access/file_system_access_permission_context_factory.h",
  "+chrome/browser/history/history_service_factory.h",
  "+chrome/browser/history/history_test_utils.h",
  "+chrome/browser/image_decoder/image_decoder.h",
  "+chrome/browser/lifetime/application_lifetime.h",
  "+chrome/browser/lifetime/browser_shutdown.h",
  "+chrome/browser/lifetime/termination_notification.h",
  "+chrome/browser/media/router/chrome_media_router_factory.h",
  "+chrome/browser/media/router/discovery/access_code/access_code_cast_feature.h",
  "+chrome/browser/media/router/discovery/mdns/dns_sd_registry.h",
  "+chrome/browser/media/router/media_router_feature.h",
  "+chrome/browser/media/webrtc/media_capture_devices_dispatcher.h",
  "+chrome/browser/media/webrtc/media_stream_capture_indicator.h",
  "+chrome/browser/notifications/notification_display_service.h",
  "+chrome/browser/notifications/notification_display_service_factory.h",
  "+chrome/browser/notifications/notification_display_service_tester.h",
  "+chrome/browser/notifications/notification_handler.h",
  "+chrome/browser/notifications/profile_notification.h",
  "+chrome/browser/notifications/system_notification_helper.h",
  "+chrome/browser/picture_in_picture/picture_in_picture_window_manager.h",
  "+chrome/browser/platform_util.h",
  "+chrome/browser/policy/networking/policy_cert_service.h",
  "+chrome/browser/policy/networking/policy_cert_service_factory.h",
  "+chrome/browser/policy/policy_test_utils.h",
  "+chrome/browser/policy/profile_policy_connector.h",
  "+chrome/browser/policy/system_features_disable_list_policy_handler.h",
  "+chrome/browser/prefs/browser_prefs.h",
  "+chrome/browser/prefs/incognito_mode_prefs.h",
  "+chrome/browser/prefs/pref_service_syncable_util.h",
  "+chrome/browser/prefs/session_startup_pref.h",
  "+chrome/browser/profiles/keep_alive/profile_keep_alive_types.h",
  "+chrome/browser/profiles/keep_alive/scoped_profile_keep_alive.h",
  "+chrome/browser/profiles/profile.h",
  "+chrome/browser/profiles/profile_keyed_service_factory.h",
  "+chrome/browser/profiles/profile_manager.h",
  "+chrome/browser/profiles/profile_manager_observer.h",
  "+chrome/browser/profiles/profile_metrics.h",
  "+chrome/browser/profiles/profile_observer.h",
  "+chrome/browser/profiles/profile_selections.h",
  "+chrome/browser/profiles/profile_test_util.h",
  "+chrome/browser/profiles/profiles_state.h",
  "+chrome/browser/renderer_context_menu/render_view_context_menu_test_util.h",
  "+chrome/browser/resources/preinstalled_web_apps/internal/container.h",
  "+chrome/browser/search_engines/template_url_service_factory.h",
  "+chrome/browser/scalable_iph/scalable_iph_factory.h",
  "+chrome/browser/sessions/session_restore.h",
  "+chrome/browser/sessions/tab_restore_service_factory.h",
  "+chrome/browser/signin/identity_manager_factory.h",
  "+chrome/browser/signin/identity_test_environment_profile_adaptor.h",
  "+chrome/browser/speech/cros_speech_recognition_service_factory.h",
  "+chrome/browser/speech/fake_speech_recognition_service.h",
  "+chrome/browser/speech/speech_recognition_recognizer_client_impl.h",
  "+chrome/browser/speech/speech_recognizer_delegate.h",
  "+chrome/browser/supervised_user/supervised_user_service_factory.h",
  "+chrome/browser/sync/desk_sync_service_factory.h",
  "+chrome/browser/sync/session_sync_service_factory.h",
  "+chrome/browser/sync/sync_service_factory.h",
  "+chrome/browser/ui/app_icon_loader.h",
  "+chrome/browser/ui/app_icon_loader_delegate.h",
  "+chrome/browser/ui/apps/app_info_dialog.h",
  "+chrome/browser/ui/apps/chrome_app_delegate.h",
  "+chrome/browser/ui/aura/accessibility/automation_manager_aura.h",
  "+chrome/browser/ui/browser.h",
  "+chrome/browser/ui/browser_command_controller.h",
  "+chrome/browser/ui/browser_commands.h",
  "+chrome/browser/ui/browser_dialogs.h",
  "+chrome/browser/ui/browser_element_identifiers.h",
  "+chrome/browser/ui/browser_finder.h",
  "+chrome/browser/ui/browser_list.h",
  "+chrome/browser/ui/browser_list_observer.h",
  "+chrome/browser/ui/browser_navigator.h",
  "+chrome/browser/ui/browser_navigator_params.h",
  "+chrome/browser/ui/browser_tab_strip_tracker.h",
  "+chrome/browser/ui/browser_tabstrip.h",
  "+chrome/browser/ui/browser_ui_prefs.h",
  "+chrome/browser/ui/browser_window.h",
  "+chrome/browser/ui/chrome_pages.h",
  "+chrome/browser/ui/color/chrome_color_id.h",
  "+chrome/browser/ui/extensions/app_launch_params.h",
  "+chrome/browser/ui/extensions/application_launch.h",
  "+chrome/browser/ui/extensions/extension_enable_flow.h",
  "+chrome/browser/ui/extensions/extension_enable_flow_delegate.h",
  "+chrome/browser/ui/global_media_controls/cast_media_notification_item.h",
  "+chrome/browser/ui/global_media_controls/cast_media_notification_producer.h",
  "+chrome/browser/ui/global_media_controls/media_item_ui_device_selector_delegate.h",
  "+chrome/browser/ui/global_media_controls/supplemental_device_picker_producer.h",
  "+chrome/browser/ui/managed_ui.h",
  "+chrome/browser/ui/quick_answers/read_write_cards_manager_impl.h",
  "+chrome/browser/ui/scoped_tabbed_browser_displayer.h",
  "+chrome/browser/ui/settings_window_manager_chromeos.h",
  "+chrome/browser/ui/settings_window_manager_observer_chromeos.h",
  "+chrome/browser/ui/simple_message_box.h",
  "+chrome/browser/ui/singleton_tabs.h",
  "+chrome/browser/ui/tab_contents/tab_contents_iterator.h",
  "+chrome/browser/ui/tabs/tab_enums.h",
  "+chrome/browser/ui/tabs/tab_group.h",
  "+chrome/browser/ui/tabs/tab_group_model.h",
  "+chrome/browser/ui/tabs/tab_model.h",
  "+chrome/browser/ui/tabs/tab_strip_model.h",
  "+chrome/browser/ui/tabs/tab_strip_model_observer.h",
  "+chrome/browser/ui/test/test_app_window_icon_observer.h",
  "+chrome/browser/ui/test/test_browser_dialog.h",
  "+chrome/browser/ui/ui_features.h",
  "+chrome/browser/ui/views/accelerator_table.h",
  "+chrome/browser/ui/views/apps/app_dialog/app_dialog_view.h",
  "+chrome/browser/ui/views/apps/app_dialog/shortcut_removal_dialog_view.h",
  "+chrome/browser/ui/views/chrome_browser_main_extra_parts_views.h",
  "+chrome/browser/ui/views/chrome_constrained_window_views_client.h",
  "+chrome/browser/ui/views/chrome_layout_provider.h",
  "+chrome/browser/ui/views/chrome_typography.h",
  "+chrome/browser/ui/views/frame/browser_frame.h",
  "+chrome/browser/ui/views/frame/browser_non_client_frame_view_chromeos.h",
  "+chrome/browser/ui/views/frame/browser_view.h",
  "+chrome/browser/ui/views/frame/webui_tab_strip_container_view.h",
  "+chrome/browser/ui/views/global_media_controls/media_item_ui_device_selector_view.h",
  "+chrome/browser/ui/views/global_media_controls/media_item_ui_helper.h",
  "+chrome/browser/ui/views/permissions/permission_prompt_bubble_base_view.h",
  "+chrome/browser/ui/views/relaunch_notification/relaunch_required_timer.h",
  "+chrome/browser/ui/views/select_file_dialog_extension.h",
  "+chrome/browser/ui/views/select_file_dialog_extension_factory.h",
  "+chrome/browser/ui/views/tabs/tab_scrubber_chromeos.h",
  "+chrome/browser/ui/views/user_education/browser_user_education_service.h",
  "+chrome/browser/ui/web_applications/app_browser_controller.h",
  "+chrome/browser/ui/web_applications/diagnostics/web_app_icon_diagnostic.h",
  "+chrome/browser/ui/web_applications/test/web_app_browsertest_util.h",
  "+chrome/browser/ui/web_applications/test/web_app_navigation_browsertest.h",
  "+chrome/browser/ui/web_applications/web_app_dialogs.h",
  "+chrome/browser/ui/web_applications/web_app_launch_utils.h",
  "+chrome/browser/ui/webui/access_code_cast/access_code_cast_dialog.h",
  "+chrome/browser/ui/webui/chrome_web_contents_handler.h",
  "+chrome/browser/ui/webui/chrome_web_ui_controller_factory.h",
  "+chrome/browser/ui/webui/print_preview/pdf_printer_handler.h",
  "+chrome/browser/ui/webui/tab_strip/tab_strip_ui_layout.h",
  "+chrome/browser/ui/webui/tab_strip/tab_strip_ui_util.h",
  "+chrome/browser/ui/webui/theme_source.h",
  "+chrome/browser/upgrade_detector/upgrade_detector.h",
  "+chrome/browser/upgrade_detector/upgrade_observer.h",
  "+chrome/browser/user_education/user_education_service.h",
  "+chrome/browser/user_education/user_education_service_factory.h",
  "+chrome/browser/web_applications/commands/web_app_icon_diagnostic_command.h",
  "+chrome/browser/web_applications/external_install_options.h",
  "+chrome/browser/web_applications/externally_managed_app_manager.h",
  "+chrome/browser/web_applications/locks/app_lock.h",
  "+chrome/browser/web_applications/mojom/user_display_mode.mojom.h",
  "+chrome/browser/web_applications/os_integration/os_integration_manager.h",
  "+chrome/browser/web_applications/policy/web_app_policy_constants.h",
  "+chrome/browser/web_applications/policy/web_app_policy_manager.h",
  "+chrome/browser/web_applications/preinstalled_web_app_manager.h",
  "+chrome/browser/web_applications/test/fake_web_app_provider.h",
  "+chrome/browser/web_applications/test/profile_test_helper.h",
  "+chrome/browser/web_applications/test/web_app_install_test_utils.h",
  "+chrome/browser/web_applications/test/web_app_test_observers.h",
  "+chrome/browser/web_applications/test/web_app_test_utils.h",
  "+chrome/browser/web_applications/test/with_crosapi_param.h",
  "+chrome/browser/web_applications/web_app_command_manager.h",
  "+chrome/browser/web_applications/web_app_command_scheduler.h",
  "+chrome/browser/web_applications/web_app_constants.h",
  "+chrome/browser/web_applications/web_app_helpers.h",
  "+chrome/browser/web_applications/web_app_id_constants.h",
  "+chrome/browser/web_applications/web_app_install_info.h",
  "+chrome/browser/web_applications/web_app_install_manager.h",
  "+chrome/browser/web_applications/web_app_launch_params.h",
  "+chrome/browser/web_applications/web_app_launch_queue.h",
  "+chrome/browser/web_applications/web_app_provider.h",
  "+chrome/browser/web_applications/web_app_registrar.h",
  "+chrome/browser/web_applications/web_app_sync_bridge.h",
  "+chrome/browser/web_applications/web_app_tab_helper.h",
  "+chrome/browser/web_applications/web_app_utils.h",
  "+chrome/browser/webshare/prepare_directory_task.h",
  "+chrome/common/buildflags.h",
  "+chrome/common/channel_info.h",
  "+chrome/common/chrome_constants.h",
  "+chrome/common/chrome_features.h",
  "+chrome/common/chrome_paths.h",
  "+chrome/common/chrome_switches.h",
  "+chrome/common/extensions/extension_constants.h",
  "+chrome/common/extensions/manifest_handlers/app_launch_info.h",
  "+chrome/common/pref_names.h",
  "+chrome/common/url_constants.h",
  "+chrome/common/webui_url_constants.h",
  "+chrome/grit/branded_strings.h",
  "+chrome/grit/browser_resources.h",
  "+chrome/grit/chrome_unscaled_resources.h",
  "+chrome/grit/generated_resources.h",
  "+chrome/grit/theme_resources.h",
  "+chrome/test/base/browser_with_test_window_test.h",
  "+chrome/test/base/chrome_render_view_host_test_harness.h",
  "+chrome/test/base/fake_gaia_mixin.h",
  "+chrome/test/base/in_process_browser_test.h",
  "+chrome/test/base/interactive_test_utils.h",
  "+chrome/test/base/mixin_based_in_process_browser_test.h",
  "+chrome/test/base/scoped_testing_local_state.h",
  "+chrome/test/base/test_browser_window_aura.h",
  "+chrome/test/base/test_chrome_web_ui_controller_factory.h",
  "+chrome/test/base/testing_browser_process.h",
  "+chrome/test/base/testing_profile.h",
  "+chrome/test/base/testing_profile_manager.h",
  "+chrome/test/base/ui_test_utils.h",
  "+chrome/test/interaction/interactive_browser_test.h",
  "+chrome/test/media_router/access_code_cast/access_code_cast_integration_browsertest.h",
  "+chrome/test/views/chrome_views_test_base.h",

  "+media",
  "+components/app_constants",
  "+components/desks_storage"
]

specific_include_rules = {
  ".*test.*": [
    "+components/user_education/views",
    "+ui/message_center/message_center.h",
  ],
  "app_icon_color_cache.cc": [
    "+services/preferences/public/cpp/dictionary_value_update.h",
    "+services/preferences/public/cpp/scoped_pref_update.h",
  ],
  "assistant_timers_browsertest\.cc": [
    "+ui/message_center",
  ],
  "chrome_shell_delegate\.cc": [
    "+cc/input/touch_action.h",
    "+content/public/browser/chromeos/multi_capture_service.h",
  ],
  "chrome_shelf_controller_unittest\.cc": [
    "+components/viz/test/test_gpu_service_holder.h",
  ],
  "shelf_context_menu_unittest\.cc": [
    "+components/viz/test/test_gpu_service_holder.h",
  ],
}
