<!DOCTYPE html>
<script src="../../resources/run-after-layout-and-paint.js"></script>
<script>
  if (window.testRunner) {
    testRunner.overridePreference("WebKitWebSecurityEnabled", false);
    testRunner.waitUntilDone();
  }

  function runTest() {
    runAfterLayoutAndPaint(function(){
        var frame = document.getElementById("frame");
        frame.contentDocument.documentElement.style.background = "green";
    }, true);
  }
</script>
<iframe id="frame" src="data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20style%3D%22background%3Ared%3B%22%3E%3C%2Fsvg%3E" onload="runTest();"></iframe>

