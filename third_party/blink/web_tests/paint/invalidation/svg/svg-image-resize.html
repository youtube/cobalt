<!DOCTYPE html>
<html>
<head>
<script src="../resources/text-based-repaint.js" type="text/javascript"></script>
<script>
  window.outputRepaintRects = false;
  function repaintTest() {
    var wrapper = document.getElementById('wrapper');
    wrapper.style.height = '200px';
  }
</script>
</head>

<body onload="runRepaintAndPixelTest();">
  <!-- http://crbug.com/313083
       The red div should be obscured by SVG content after re-layout -->
  <div style="position: absolute; top: 100px; width: 100px; height: 100px; background-color: red;"></div>

  <div id="wrapper" style="position: absolute; top: 0px; width: 100px; height: 100px;">
    <img style="width: 100%; height: 100%;" src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox = '0 0 10 10' preserveAspectRatio='xMaxYMax'>
        <rect width='10' height='10' fill='green'/>
      </svg>">
  </div>
</body>
</html>
