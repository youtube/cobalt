<!--
Copyright 2025 The Chromium Authors
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<!--
This file is used to generate a comprehensive list of Private Metrics histograms
along with a detailed description for each histogram.

For best practices on writing histogram descriptions, see
https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md

Please follow the instructions in the OWNERS file in this directory to find a
reviewer. If no OWNERS file exists, please consider signing up at
go/reviewing-metrics (Googlers only), as all subdirectories are expected to
have an OWNERS file. As a last resort you can send the CL to
chromium-metrics-reviews@google.com.
-->

<histogram-configuration>

<histograms>

<histogram name="PrivateMetrics.DataUploadConfig.DownloadSize" units="KiB"
    expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    The size of the downloaded DataUploadConfig in kibibytes. Recorded on a
    successful download of the config.
  </summary>
</histogram>

<histogram name="PrivateMetrics.LogSize.OnSuccess" units="KB"
    expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    Size in kilobytes (after compression) of an uploaded Private Metrics log.
    Recorded after a successful Private Metrics upload.
  </summary>
</histogram>

<histogram name="PrivateMetrics.LogUpload.Canceled.CellularConstraint"
    enum="BooleanCanceled" expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    Logs whether a log was not uploaded due to cellular log throttling logic.
    Android only.
  </summary>
</histogram>

<histogram name="PrivateMetrics.LogUpload.ResponseOrErrorCode"
    enum="CombinedHttpResponseAndNetErrorCode" expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    HTTP response codes and network errors encountered by Private Metrics when
    attempting to upload logs to the server.
  </summary>
</histogram>

<histogram name="PrivateMetrics.PersistentLogRecall.Status"
    enum="PersistedLogsLogReadStatus" expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    The status when loading Private Metrics PersistedLogs from Prefs.
  </summary>
</histogram>

<histogram name="PrivateMetrics.ProtoCompressionRatio" units="%"
    expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    Compression ratio of the serialized protobuf that will be uploaded to the
    Private Metrics server. This serialized protobuf is compressed using gzip.
  </summary>
</histogram>

<histogram name="PrivateMetrics.PUMA.LogRotationOutcome"
    enum="PumaLogRotationOutcome" expires_after="2026-05-29">
  <owner>kjarosz@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    The outcome of a PUMA log rotation. Logged for each triggered rotation.
  </summary>
</histogram>

<histogram name="PrivateMetrics.PUMA.ReportBuildingOutcome.Rc"
    enum="PumaReportBuildingOutcome" expires_after="2026-05-29">
  <owner>kjarosz@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    The outcome of building a report for PUMA for Regional Capabilities. Logged
    for each triggered report build.
  </summary>
</histogram>

<histogram name="PrivateMetrics.PUMA.ReportStoringOutcome.Rc"
    enum="PumaReportStoringOutcome" expires_after="2026-05-29">
  <owner>kjarosz@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    The outcome of storing a report for PUMA for Regional Capabilities. Logged
    for each triggered report store request.
  </summary>
</histogram>

<histogram name="PrivateMetrics.UnsentLogs.DroppedSize" units="bytes"
    expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    Number of bytes in an excessively large log that was discarded while
    persisting Private Metrics logs to disk to retry during next chrome run.
  </summary>
</histogram>

<histogram name="PrivateMetrics.UnsentLogs.NumDropped" units="units"
    expires_after="2026-03-01">
  <owner>zhouzj@google.com</owner>
  <owner>private-metrics@google.com</owner>
  <summary>
    Counter for number of Private Metrics unsent logs removed from persistent
    storage.
  </summary>
</histogram>

</histograms>

</histogram-configuration>
