<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="/js-test-resources/js-test.js"></script>
</head>
<body>
<script>
window.jsTestIsAsync = true;

description("Verify that a blob URL can be used as subframe source.");

req = new XMLHttpRequest;
req.open("GET", "resources/blob-url-in-subframe-frame.html", true);
req.responseType = "blob";
req.onload = didLoad;
req.send();

function didLoad()
{
    var ifr = document.createElement("iframe");
    ifr.setAttribute("src", URL.createObjectURL(req.response));
    document.body.appendChild(ifr);
}

</script>
</body>
</html>
