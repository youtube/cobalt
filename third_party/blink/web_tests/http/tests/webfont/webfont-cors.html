<!DOCTYPE html>
<style>
@font-face {
    font-family: corsOK;
    src: url(http://127.0.0.1:8080/css/resources/cors-ahem.php);
}
@font-face {
    font-family: corsNG;
    src: url(http://127.0.0.1:8080/resources/Ahem.ttf);
}
@font-face {
    font-family: redirectCorsOK;
    src: url(/resources/redirect.php?url=http://127.0.0.1:8080/css/resources/cors-ahem.php);
}
@font-face {
    font-family: redirectCorsNG;
    src: url(/resources/redirect.php?url=http://127.0.0.1:8080/resources/Ahem.ttf);
}
</style>
<div style="font-family: corsOK;">
This text should be rendered with ahem font.
</div>
<div style="font-family: corsNG;">
This text should NOT be rendered with ahem font.
</div>
<div style="font-family: redirectCorsOK;">
This text should be rendered with ahem font.
</div>
<div style="font-family: redirectCorsNG;">
This text should NOT be rendered with ahem font.
</div>
<script>
if (window.testRunner)
    testRunner.waitUntilDone();
    
document.fonts.ready.then(function() {
    if (window.testRunner)
        testRunner.notifyDone();
});
</script>
