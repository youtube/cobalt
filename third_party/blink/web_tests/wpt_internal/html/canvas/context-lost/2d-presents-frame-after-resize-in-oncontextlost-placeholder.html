<!doctype html>
<html class="reftest-wait">
<link rel="match" href="2d-presents-frame-after-resize-in-oncontextlost-expected.html">
<script src="./2d-presents-frame-after-resize-in-oncontextlost-impl.js"></script>

<title>
  Tests that a 2D OffscreenCanvas with an HTMLCanvasElement placeholder can send
  frames to the compositor after being resized from inside the oncontextlost
  event.
</title>

<canvas id="canvas" width="200" height="200"></canvas>
<script type="module">
  const placeholder = document.getElementById('canvas');
  const canvas = placeholder.transferControlToOffscreen();
  await TestResizeInOnContextLost(canvas);
  await waitForFramePropagation(placeholder);
  document.documentElement.classList.remove('reftest-wait');
</script>
</html>
