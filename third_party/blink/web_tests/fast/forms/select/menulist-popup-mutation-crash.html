<!DOCTYPE html>
<script src="../../../resources/testharness.js"></script>
<script src="../../../resources/testharnessreport.js"></script>
<script src="../../../resources/testdriver.js"></script>
<script src="../../../resources/testdriver-vendor.js"></script>
<script src="../resources/picker-common.js"></script>
<select id=select1>
<script>
test(() => {
  var select1 = document.getElementById("select1")
  openPicker(select1, {});
  var div = select1.appendChild(document.createElement("div"))
  div.appendChild(document.createElement("optgroup"))
  select1.innerText = "";
  div.replaceChild(select1, div.lastChild)
}, "No crash even if an internal MutationObserver callback is called after the MutationObserver was diconnected.");
</script>
