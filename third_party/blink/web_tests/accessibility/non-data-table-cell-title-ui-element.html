<html>
<script>
    if (window.testRunner)
        testRunner.dumpAsText();
</script>
<body id="body">

    <!-- This test makes sure that tables that are not exposed as tables do not have title ui elements incorrectly set  -->

<TABLE>
<tbody><tr><td colspan="6"><h2>ATS</h2></td></tr>
<tr tabindex="0" id="tr2">
<td>pass</td>
<td>issue</td>
<td>fail</td>
<td>blocked</td>
<td>skip</td>
<td>test</td>
</tr>
</tbody>
</tABLE>

    <div id="result"></div>


    <script>
        if (window.accessibilityController) {
            var result = document.getElementById("result");

            var pass = document.getElementById("tr2");
            pass.focus();
            // get the <td>skip</td> element
            var group = accessibilityController.focusedElement.childAtIndex(4);
            var titleUI = group.nameElementAtIndex(0);
            var allAttributes = "";
            if (titleUI)
                allAttributes = titleUI.allAttributes();

            // verify it has no title ui element
            if (!allAttributes) {
                result.innerText += "Test passed\n";
            }
            else {
                 result.innerText += "Test failed\n";
            }
        }
    </script>
</body>
</html>
