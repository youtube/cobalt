<!doctype html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../assert_selection.js"></script>
<script>
// This tests deleting a selection that ends inside an empty table cell.
// No merging should happen, only editable selected content should be removed.

selection_test(
    [
        '<div contenteditable="true">',
            '<table border="1"><tbody><tr>',
                '<td></td>',
                '<td>^Editable</td>',
            '</tr></tbody></table>',
            '<table border="1"><tbody><tr>',
                '<td>|</td>',
                '<td>There should be one empty cell to the left of this one.</td>',
            '</tr></tbody></table>',
        '</div>'
    ],
    "Delete",
    [
        '<div contenteditable="true">',
            '<table border="1"><tbody><tr>',
                '<td></td>',
                '<td>|<br></td>',
            '</tr></tbody></table>',
            '<table border="1"><tbody><tr>',
                '<td></td>',
                '<td>There should be one empty cell to the left of this one.</td>',
            '</tr></tbody></table>',
        '</div>'
    ],
    'Deleting a selection that ends inside an empty table cell');
</script>
