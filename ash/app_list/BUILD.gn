# Copyright 2014 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chromeos/ui_mode.gni")

assert(is_chromeos_ash)

source_set("app_list") {
  sources = [
    "app_list_badge_controller.cc",
    "app_list_badge_controller.h",
    "app_list_bubble_event_filter.cc",
    "app_list_bubble_event_filter.h",
    "app_list_bubble_presenter.cc",
    "app_list_bubble_presenter.h",
    "app_list_controller_impl.cc",
    "app_list_controller_impl.h",
    "app_list_event_targeter.cc",
    "app_list_event_targeter.h",
    "app_list_feature_usage_metrics.cc",
    "app_list_feature_usage_metrics.h",
    "app_list_item_util.cc",
    "app_list_item_util.h",
    "app_list_metrics.cc",
    "app_list_metrics.h",
    "app_list_model_provider.cc",
    "app_list_model_provider.h",
    "app_list_presenter_event_filter.cc",
    "app_list_presenter_event_filter.h",
    "app_list_presenter_impl.cc",
    "app_list_presenter_impl.h",
    "app_list_util.cc",
    "app_list_util.h",
    "app_list_view_delegate.h",
    "app_list_view_provider.h",
    "apps_grid_row_change_animator.cc",
    "apps_grid_row_change_animator.h",
    "grid_index.cc",
    "grid_index.h",
    "home_launcher_animation_info.h",
    "quick_app_access_model.cc",
    "quick_app_access_model.h",
    "views/app_drag_icon_proxy.cc",
    "views/app_drag_icon_proxy.h",
    "views/app_list_a11y_announcer.cc",
    "views/app_list_a11y_announcer.h",
    "views/app_list_bubble_apps_page.cc",
    "views/app_list_bubble_apps_page.h",
    "views/app_list_bubble_search_page.cc",
    "views/app_list_bubble_search_page.h",
    "views/app_list_bubble_view.cc",
    "views/app_list_bubble_view.h",
    "views/app_list_drag_and_drop_host.h",
    "views/app_list_folder_controller.h",
    "views/app_list_folder_view.cc",
    "views/app_list_folder_view.h",
    "views/app_list_item_view.cc",
    "views/app_list_item_view.h",
    "views/app_list_keyboard_controller.cc",
    "views/app_list_keyboard_controller.h",
    "views/app_list_main_view.cc",
    "views/app_list_main_view.h",
    "views/app_list_menu_model_adapter.cc",
    "views/app_list_menu_model_adapter.h",
    "views/app_list_nudge_controller.cc",
    "views/app_list_nudge_controller.h",
    "views/app_list_page.cc",
    "views/app_list_page.h",
    "views/app_list_search_view.cc",
    "views/app_list_search_view.h",
    "views/app_list_toast_container_view.cc",
    "views/app_list_toast_container_view.h",
    "views/app_list_toast_view.cc",
    "views/app_list_toast_view.h",
    "views/app_list_view.cc",
    "views/app_list_view.h",
    "views/app_list_view_util.cc",
    "views/app_list_view_util.h",
    "views/apps_container_view.cc",
    "views/apps_container_view.h",
    "views/apps_grid_context_menu.cc",
    "views/apps_grid_context_menu.h",
    "views/apps_grid_view.cc",
    "views/apps_grid_view.h",
    "views/apps_grid_view_folder_delegate.h",
    "views/assistant/app_list_bubble_assistant_page.cc",
    "views/assistant/app_list_bubble_assistant_page.h",
    "views/assistant/assistant_dialog_plate.cc",
    "views/assistant/assistant_dialog_plate.h",
    "views/assistant/assistant_main_stage.cc",
    "views/assistant/assistant_main_stage.h",
    "views/assistant/assistant_main_view.cc",
    "views/assistant/assistant_main_view.h",
    "views/assistant/assistant_page_view.cc",
    "views/assistant/assistant_page_view.h",
    "views/contents_view.cc",
    "views/contents_view.h",
    "views/continue_section_view.cc",
    "views/continue_section_view.h",
    "views/continue_task_container_view.cc",
    "views/continue_task_container_view.h",
    "views/continue_task_view.cc",
    "views/continue_task_view.h",
    "views/folder_background_view.cc",
    "views/folder_background_view.h",
    "views/folder_header_view.cc",
    "views/folder_header_view.h",
    "views/folder_header_view_delegate.h",
    "views/ghost_image_view.cc",
    "views/ghost_image_view.h",
    "views/page_switcher.cc",
    "views/page_switcher.h",
    "views/paged_apps_grid_view.cc",
    "views/paged_apps_grid_view.h",
    "views/pulsing_block_view.cc",
    "views/pulsing_block_view.h",
    "views/recent_apps_view.cc",
    "views/recent_apps_view.h",
    "views/remove_query_confirmation_dialog.cc",
    "views/remove_query_confirmation_dialog.h",
    "views/result_selection_controller.cc",
    "views/result_selection_controller.h",
    "views/scrollable_apps_grid_view.cc",
    "views/scrollable_apps_grid_view.h",
    "views/search_box_view.cc",
    "views/search_box_view.h",
    "views/search_box_view_delegate.h",
    "views/search_notifier_controller.cc",
    "views/search_notifier_controller.h",
    "views/search_result_actions_view.cc",
    "views/search_result_actions_view.h",
    "views/search_result_actions_view_delegate.h",
    "views/search_result_base_view.cc",
    "views/search_result_base_view.h",
    "views/search_result_container_view.cc",
    "views/search_result_container_view.h",
    "views/search_result_image_list_view.cc",
    "views/search_result_image_list_view.h",
    "views/search_result_image_view.cc",
    "views/search_result_image_view.h",
    "views/search_result_image_view_delegate.cc",
    "views/search_result_image_view_delegate.h",
    "views/search_result_inline_icon_view.cc",
    "views/search_result_inline_icon_view.h",
    "views/search_result_list_view.cc",
    "views/search_result_list_view.h",
    "views/search_result_page_anchored_dialog.cc",
    "views/search_result_page_anchored_dialog.h",
    "views/search_result_page_dialog_controller.cc",
    "views/search_result_page_dialog_controller.h",
    "views/search_result_page_view.cc",
    "views/search_result_page_view.h",
    "views/search_result_view.cc",
    "views/search_result_view.h",
    "views/top_icon_animation_view.cc",
    "views/top_icon_animation_view.h",
  ]

  # Needed because this source_set implements part of the "ash" component.
  defines = [ "ASH_IMPLEMENTATION" ]

  deps = [
    "//ash/app_menu",
    "//ash/assistant/model",
    "//ash/assistant/ui",
    "//ash/assistant/ui:constants",
    "//ash/assistant/ui/colors:assistant_colors_views",
    "//ash/assistant/util",
    "//ash/keyboard/ui",
    "//ash/public/cpp/app_list/vector_icons",
    "//ash/public/cpp/resources:ash_public_unscaled_resources",
    "//ash/resources/vector_icons",
    "//ash/search_box",
    "//ash/strings",
    "//ash/style",
    "//base",
    "//base:i18n",
    "//base/third_party/dynamic_annotations",
    "//cc/paint",
    "//chromeos",
    "//chromeos/ash/components/feature_usage",
    "//chromeos/ash/services/assistant/public/cpp",
    "//chromeos/ui/vector_icons",
    "//chromeos/ui/wm",
    "//chromeos/utils",
    "//components/keyed_service/core",
    "//components/pref_registry",
    "//components/prefs",
    "//components/services/app_service",
    "//components/sync",
    "//components/vector_icons",
    "//extensions/common:common_constants",
    "//mojo/public/cpp/bindings",
    "//skia",
    "//third_party/icu",
    "//ui/accessibility",
    "//ui/aura",
    "//ui/base",
    "//ui/base/ime",
    "//ui/base/ime/ash",
    "//ui/chromeos/styles:cros_styles_views",
    "//ui/chromeos/styles:cros_tokens_color_mappings",
    "//ui/color",
    "//ui/compositor",
    "//ui/compositor_extra",
    "//ui/display",
    "//ui/display/manager",
    "//ui/display/util",
    "//ui/events",
    "//ui/events/devices",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/native_theme",
    "//ui/resources",
    "//ui/strings",
    "//ui/views",
    "//ui/wm",
    "//ui/wm/public",
  ]

  # TODO(hejq): Remove this once app_list is migrated. http://crbug.com/733662
  public_deps = [
    "//ash/app_list/model:app_list_model",
    "//ash/public/cpp",
    "//base",
    "//mojo/public/cpp/bindings",
    "//ui/aura",
    "//ui/compositor",
    "//ui/gfx/geometry",
    "//ui/views",
    "//ui/wm",
    "//ui/wm/public",
  ]
}

source_set("test_support") {
  testonly = true

  sources = [
    "app_list_test_view_delegate.cc",
    "app_list_test_view_delegate.h",
    "model/app_list_test_model.cc",
    "model/app_list_test_model.h",
    "model/search/test_search_result.cc",
    "model/search/test_search_result.h",
    "views/apps_grid_view_test_api.cc",
    "views/apps_grid_view_test_api.h",
    "views/pagination_model_transition_waiter.cc",
    "views/pagination_model_transition_waiter.h",
  ]

  deps = [
    ":app_list",
    "//base",
    "//ui/base",
    "//ui/compositor:test_support",
    "//ui/events",
    "//ui/events:test_support",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/views",
  ]
}

source_set("unit_tests") {
  testonly = true

  sources = [
    "app_list_bubble_event_filter_unittest.cc",
    "app_list_bubble_presenter_unittest.cc",
    "app_list_controller_impl_unittest.cc",
    "app_list_feature_usage_metrics_unittest.cc",
    "app_list_metrics_unittest.cc",
    "app_list_presenter_impl_unittest.cc",
    "app_list_presenter_unittest.cc",
    "app_list_unittest.cc",
    "folder_image_unittest.cc",
    "model/app_list_item_list_unittest.cc",
    "model/app_list_item_unittest.cc",
    "model/app_list_model_unittest.cc",
    "views/app_drag_icon_proxy_unittest.cc",
    "views/app_list_bubble_apps_page_unittest.cc",
    "views/app_list_bubble_search_page_unittest.cc",
    "views/app_list_bubble_view_unittest.cc",
    "views/app_list_folder_view_unittest.cc",
    "views/app_list_item_view_unittest.cc",
    "views/app_list_keyboard_controller_unittest.cc",
    "views/app_list_main_view_unittest.cc",
    "views/app_list_menu_model_adapter_unittest.cc",
    "views/app_list_nudge_controller_unittest.cc",
    "views/app_list_search_view_unittest.cc",
    "views/app_list_view_unittest.cc",
    "views/apps_container_view_unittest.cc",
    "views/apps_grid_view_unittest.cc",
    "views/assistant/assistant_dialog_plate_unittest.cc",
    "views/assistant/assistant_main_stage_unittest.cc",
    "views/assistant/assistant_page_view_unittest.cc",
    "views/continue_section_view_unittest.cc",
    "views/folder_header_view_unittest.cc",
    "views/paged_apps_grid_view_unittest.cc",
    "views/recent_apps_view_unittest.cc",
    "views/result_selection_controller_unittest.cc",
    "views/scrollable_apps_grid_view_unittest.cc",
    "views/search_box_view_unittest.cc",
    "views/search_result_list_view_unittest.cc",
    "views/search_result_view_unittest.cc",
  ]

  deps = [
    ":app_list",
    ":test_support",
    "//ash:test_support",
    "//ash/app_menu",
    "//ash/assistant/model",
    "//ash/assistant/ui",
    "//ash/assistant/ui:constants",
    "//ash/assistant/ui/colors:assistant_colors_views",
    "//ash/constants",
    "//ash/keyboard/ui",
    "//ash/keyboard/ui:test_support",
    "//ash/public/cpp",
    "//ash/public/cpp:test_support",
    "//ash/public/cpp/app_list/vector_icons",
    "//ash/search_box",
    "//ash/style",
    "//base",
    "//base/test:test_support",
    "//chromeos/ash/components/feature_usage",
    "//chromeos/ash/services/assistant/public/cpp",
    "//mojo/core/embedder",
    "//mojo/public/cpp/bindings",
    "//skia",
    "//testing/gtest",
    "//ui/accessibility",
    "//ui/aura:test_support",
    "//ui/base",
    "//ui/base:test_support",
    "//ui/chromeos/styles:cros_tokens_color_mappings",
    "//ui/color",
    "//ui/compositor",
    "//ui/compositor:test_support",
    "//ui/display:display_manager_test_api",
    "//ui/events:test_support",
    "//ui/gfx:test_support",
    "//ui/gl:test_support",
    "//ui/message_center",
    "//ui/native_theme",
    "//ui/resources",
    "//ui/touch_selection",
    "//ui/views",
    "//ui/views:test_support",
  ]

  data_deps = [
    "//third_party/mesa_headers",
    "//ui/resources:ui_test_pak_data",
  ]
}
