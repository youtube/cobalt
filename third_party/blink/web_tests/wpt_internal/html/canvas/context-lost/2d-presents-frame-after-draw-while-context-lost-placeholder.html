<!doctype html>
<html class="reftest-wait">
<link rel="match" href="2d-presents-frame-after-draw-while-context-lost-expected.html">
<script src="./2d-presents-frame-after-draw-while-context-lost-impl.js"></script>

<title>
  Tests that a 2d offscreen canvas with an HTMLCanvasElement placeholder can
  still present frames to the compositor if the canvas is drawn to while the
  GPU context is lost.
</title>

<canvas id="canvas"></canvas>
<script type="module">
  const placeholder = document.getElementById('canvas');
  const canvas = placeholder.transferControlToOffscreen();
  await TestDrawWhile2dContextLost(canvas);
  await waitForFramePropagation(placeholder);
  document.documentElement.classList.remove('reftest-wait');
</script>
</html>
