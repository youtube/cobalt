<!DOCTYPE HTML>
<script src="../resources/text-based-repaint.js"></script>
<script>
if (window.internals)
  internals.settings.setPreferCompositingToLCDTextEnabled(true);
function repaintTest() {
  document.getElementById('content').style.backgroundColor = 'green';
  var container = document.getElementById('container');
  container.scrollLeft = 500;
  container.scrollTop = 400;
}
window.onload = runRepaintAndPixelTest;
</script>
<style>
#container {
  width: 400px;
  height: 300px;
  overflow: scroll;
}
#content {
  width: 1000px;
  height: 1000px;
  background-color: red;
}
</style>
<div id="container">
  <div id="content">
  Tests invalidation of scrolling layer. Passes if the repaint rect is not clipped,
  and there is no red when the scrolling container is scrolled.<br>
  Note for manual testing: must run with --enable-prefer-compositing-to-lcd-text
  on non-high-dpi machines to enable composited scrolling.
  </div>
</div>
