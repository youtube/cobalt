<!DOCTYPE html>
If this does not assert in a debug build, the test passed.
<div id="f1">
<div id="f2"></div>
<script>
if (window.testRunner)
    testRunner.dumpAsText();

var doc = document.implementation.createDocument("http://www.w3.org/2000/svg",
                                                 null);
f1.addEventListener("DOMNodeRemovedFromDocument", function () {
    doc.appendChild(f2);
});
try {
    doc.appendChild(f1);
} catch (e) {
    console.log(e.message);
}
</script>
