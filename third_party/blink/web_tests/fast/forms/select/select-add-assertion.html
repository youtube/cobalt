<!DOCTYPE html>
<body>
<script src="../../../resources/testharness.js"></script>
<script src="../../../resources/testharnessreport.js"></script>
<select></select>
<script>
test(() => {
  var select = document.querySelector('select');
  select.addEventListener('DOMSubtreeModified', () => {
    if (select.options[0])
      select.removeChild(select.options[0]);
  }, false);
  select[0] = new Option('option1', '', true, true);
}, 'select.add() should not trigger an assertion failure.');
</script>
</body>
