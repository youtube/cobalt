<!DOCTYPE html>
<style>
.container {
    position: relative;
    top: 180px;
}
</style>

<!--
    This test checks that the selection in an iframe in a relative positioned container
    is correctly invalidated.
    We should be able to manually select all the text. The invalidation rects should
    be positioned correctly and encompass all the lines.
-->
<div class="container">
    <iframe src="../resources/selection-change-in-iframe-with-relative-parent-iframe.html"></iframe>
</div>

<script src="../resources/text-based-repaint.js" type="text/javascript"></script>
<script>
function repaintTest()
{
    var iframe = document.getElementsByTagName("iframe")[0];
    iframe.contentWindow.getSelection().selectAllChildren(iframe.contentDocument.body);
}
window.addEventListener("load", runRepaintAndPixelTest, false);
</script>
