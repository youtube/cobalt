<!--
@WAIT-FOR:finished
@BLINK-DENY:*ForRange*
-->
<html>
<body>
  <div aria-hidden="true">
    <div role="group">
      <div role="group">
        <div role="slider" id="slider1" tabindex="0" aria-label="Slider#1 now unfocusable"></div>
      </div>
    </div>
  </div>
  <div aria-hidden="true">
    <div role="group">
      <div role="group">
        <!-- Focusable objects remain in hidden trees but are marked with invisible state -->
        <div role="slider" id="slider2" aria-label="Slider #2 now focusable"></div>
      </div>
    </div>
  </div>
  <div role="group" id="test-status" aria-label="running"></div>
  <script>
    setTimeout(() => {
      document.getElementById('slider1').removeAttribute('tabindex');
      document.getElementById('slider2').tabIndex = 0;
      document.getElementById('test-status').setAttribute('aria-label', 'finished');
    }, 100);
  </script>
</body>
</html>
