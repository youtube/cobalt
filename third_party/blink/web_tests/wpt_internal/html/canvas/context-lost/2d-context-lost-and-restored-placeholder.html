<!doctype html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="./2d-context-lost-and-restored-impl.js"></script>
<canvas id="canvas"></canvas>
<script>

promise_test(async () => {
  const placeholder = document.getElementById('canvas');
  const canvas = placeholder.transferControlToOffscreen();
  await Test2dContextLostAndRestored(canvas);
}, 'OffscreenCanvas with an HTMLCanvasElement placeholder should lose and ' +
   'restore 2d context when the GPU process is terminated.');

</script>
