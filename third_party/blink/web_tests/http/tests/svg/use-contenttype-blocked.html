<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<svg>
  <rect width="100" height="100" fill="green"/>
  <use xlink:href="resources/echo-query.php?type=application/json&payload=%3C%3Fxml%20version%3D%271.0%27%3F%3E%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Crect%20id%3D%27rectangle%27%20width%3D%27100%27%20height%3D%27100%27%20fill%3D%27red%27/%3E%3C/svg%3E#rectangle">
    <script>
      var t = async_test("Unrecognized Content-Type for external &lt;use> is blocked.");
      var useElement = document.querySelector('use');
      useElement.onerror = t.step_func_done();
      useElement.onload = t.unreached_func();
    </script>
  </use>
</svg>
