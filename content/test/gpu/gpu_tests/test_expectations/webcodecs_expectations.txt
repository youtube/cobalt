# BEGIN TAG HEADER (autogenerated, see validate_tag_consistency.py)
# OS
# tags: [ android android-oreo android-pie android-q android-r android-s
#             android-t android-14 android-15 android-16
#         chromeos
#         fuchsia
#         linux ubuntu
#         mac highsierra mojave catalina bigsur monterey ventura sonoma sequoia
#         win win8 win10 win11 ]
# Devices
# tags: [ android-nexus-5x android-pixel-2 android-pixel-4
#             android-pixel-6 android-shield-android-tv android-sm-a137f
#             android-sm-a236b android-sm-s911u1
#         android-brya android-corsola
#         chromeos-board-amd64-generic chromeos-board-eve chromeos-board-jacuzzi
#             chromeos-board-octopus chromeos-board-volteer
#         fuchsia-board-astro fuchsia-board-nelson fuchsia-board-sherlock
#             fuchsia-board-qemu-x64 ]
# Platform
# tags: [ desktop
#         mobile ]
# Browser
# tags: [ android-chromium
#         android-webview-instrumentation
#         debug debug-x64
#         release release-x64
#         fuchsia-chrome
#         web-engine-shell
#         cros-chrome ]
# GPU
# tags: [ amd amd-0x6613 amd-0x679e amd-0x67ef amd-0x6821 amd-0x7340 amd-0x7480
#         amd64
#         apple apple-apple-m1 apple-apple-m2 apple-apple-m3
#             apple-angle-metal-renderer:-apple-m1
#             apple-angle-metal-renderer:-apple-m2
#             apple-angle-metal-renderer:-apple-m3
#         arm
#         google google-0xffff google-0xc0de
#         imagination
#         intel intel-gen-9 intel-gen-12 intel-0xa2e intel-0xd26 intel-0xa011
#             intel-0x3e92 intel-0x3e9b intel-0x4680 intel-0x46a8 intel-0x5912
#             intel-0x9bc5
#         microsoft microsoft-0xffff
#         nvidia nvidia-0xfe9 nvidia-0x1cb3 nvidia-0x2184 nvidia-0x2783
#         qualcomm qualcomm-0x41333430 qualcomm-0x36333630 qualcomm-0x36334330 ]
# Architecture
# tags: [ mac-arm64 mac-x86_64 ]
# Decoder
# tags: [ passthrough no-passthrough ]
# Browser Target CPU
# tags: [ target-cpu-64 target-cpu-32 target-cpu-31 ]
# ANGLE Backend
# tags: [ angle-disabled
#         angle-d3d9 angle-d3d11
#         angle-metal
#         angle-opengl angle-opengles
#         angle-swiftshader
#         angle-vulkan ]
# Skia Renderer
# tags: [ renderer-skia-gl
#         renderer-skia-vulkan
#         renderer-software ]
# Driver
# tags: [ mesa_lt_19.1
#         mesa_ge_21.0
#         mesa_ge_23.2
#         nvidia_ge_31.0.15.4601 nvidia_lt_31.0.15.4601
#         nvidia_ge_535.183.01 nvidia_lt_535.183.01 ]
# ASan
# tags: [ asan no-asan ]
# Display Server
# tags: [ display-server-wayland display-server-x ]
# WebGPU Backend Validation
# tags: [ dawn-backend-validation dawn-no-backend-validation ]
# WebGPU Adapter
# tags: [ webgpu-adapter-default webgpu-adapter-swiftshader ]
# WebGPU DXC
# tags: [ webgpu-dxc-enabled webgpu-dxc-disabled ]
# WebGPU worker usage
# tags: [ webgpu-no-worker
#         webgpu-service-worker
#         webgpu-dedicated-worker
#         webgpu-shared-worker ]
# WebGPU Compat context
# tags: [ compat-default compat-min-es31 ]
# Clang coverage
# tags: [ clang-coverage no-clang-coverage ]
# Skia Graphite
# tags: [ graphite-enabled graphite-disabled ]
# Memory capacity
# tags: [ memory_lt_16gb memory_ge_16gb ]
# results: [ Failure RetryOnFailure Skip Slow ]
# END TAG HEADER

# full_wildcard_support: true

###############################
# Permanent Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to never be removed.
# This is for things like tests that will never be supported on a particular
# platform/configuration.

###############################
# Temporary Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to be removable at some
# point. This is for things like tests that fail in a way that negatively and
# significantly impacts other tests, e.g. killing the test device.

# Suspected of causing flakes in other tests.
crbug.com/1311091 WebCodecs_WebRTCPeerConnection_* [ Skip ]

# There could be a maximum 25% bitrate deviation for high bitrate HEVC encoding on x64 or arm64 Macs.
crbug.com/1379766 [ mac ] WebCodecs_EncodingRateControl_hvc1.1.6.L123.00_prefer-hardware_constant_3000000 [ Skip ]

###################
# Failures/Flakes #
###################
# Non-"Skip" expectations go here to suppress regular flakes/failures.

# AVC, HEVC, and VP8 VBR seems to be unreliable on some Android devices
crbug.com/1368785 [ android-pixel-6 arm renderer-skia-gl graphite-enabled target-cpu-64 ] WebCodecs_EncodingRateControl_avc1.420034_prefer-software_variable_* [ Failure ]
crbug.com/1368785 [ android-pixel-6 arm renderer-skia-vulkan target-cpu-64 ] WebCodecs_EncodingRateControl_avc1.420034_prefer-software_variable_* [ Failure ]
crbug.com/1368785 [ android-pixel-4 android-r qualcomm renderer-skia-gl target-cpu-32 ] WebCodecs_EncodingRateControl_avc1.420034_prefer-hardware_variable_* [ Failure ]
crbug.com/1368785 [ android-pixel-4 android-r qualcomm renderer-skia-gl target-cpu-32 ] WebCodecs_EncodingRateControl_hvc1.1.6.L123.00_prefer-hardware_variable_3000000 [ Failure ]

# Platform API doesn't report correct 8k 30 framerate for vp09 coded on ChromeOS intel devices.
crbug.com/373648897 [ chromeos intel angle-vulkan graphite-disabled ] WebCodecs_EncodingFramerateResolutions_7680x3840_30_vp09.00.62.08_prefer-hardware_quality [ Failure ]

# MediaFoundation report `max_macroblocks_per_second=194400`, but only supports 1920x1080
# up to 238fps instead of 240fps.
crbug.com/373648897 [ win qualcomm ] WebCodecs_EncodingFramerateResolutions_1920x1080_240_hvc1.1.6.L186.B0_prefer-hardware_quality [ Failure ]


# Encoding rate control bitrate is too far off on older Windows Qualcomm GPUs.
crbug.com/348632352 [ win qualcomm-0x41333430 ] WebCodecs_EncodingRateControl_avc1.420034_prefer-hardware_constant_3000000 [ Failure ]
crbug.com/348632352 [ win qualcomm-0x41333430 ] WebCodecs_EncodingRateControl_avc1.420034_prefer-hardware_variable_3000000 [ Failure ]
crbug.com/348632352 [ win qualcomm-0x41333430 ] WebCodecs_EncodingRateControl_hvc1.1.6.L123.00_prefer-hardware_constant_2000000 [ Failure ]
crbug.com/348632352 [ win qualcomm-0x41333430 ] WebCodecs_EncodingRateControl_hvc1.1.6.L123.00_prefer-hardware_constant_3000000 [ Failure ]
crbug.com/348632352 [ win qualcomm-0x41333430 ] WebCodecs_EncodingRateControl_hvc1.1.6.L123.00_prefer-hardware_variable_3000000 [ Failure ]

crbug.com/1470336 [ android-oreo android-nexus-5x ] WebCodecs_EncodingRateControl_vp8_prefer-hardware_constant_3000000 [ Failure ]
crbug.com/1474916 [ android-nexus-5x ] WebCodecs_EncodeColorSpace_avc1.42001E_prefer-hardware [ Failure ]

# Graphite failures
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_EncodeDecode_capture_vp8_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_MixedSourceEncoding_avc1.42001E_prefer-software [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_EncodeDecode_capture_vp09.00.10.08_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_MixedSourceEncoding_hvc1.1.6.L123.00_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_MixedSourceEncoding_vp09.00.10.08_prefer-software [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_Encode_capture_avc1.42001E_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_MixedSourceEncoding_vp8_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_MixedSourceEncoding_avc1.42001E_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_Encode_capture_vp8_prefer-hardware [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_EncodeDecode_capture_vp8_prefer-software [ Failure ]
crbug.com/419454905 [ android graphite-enabled ] WebCodecs_MixedSourceEncoding_vp8_prefer-software [ Failure ]

# Known issues with hvc1 variants with hvc1 + camera + prefers-software to reproduce
crbug.com/371802469 [ angle-opengl bigsur graphite-disabled no-asan nvidia-0xfe9 ] WebCodecs_EncodeDecode_camera_hvc1.1.6.L123.00_prefer-software [ Failure ]
crbug.com/371802469 [ mac intel ] WebCodecs_Encode_camera_hvc1.1.6.L123.00_prefer-software [ Failure ]
crbug.com/371802469 [ mac intel ] WebCodecs_FrameSizeChange_hvc1.1.6.L123.00_camera [ Failure ]
# Same with prefer-hardware
crbug.com/371802469 [ amd-0x7340 angle-opengl asan graphite-disabled mac ] WebCodecs_Encode_camera_hvc1.1.6.L123.00_prefer-hardware [ Failure ]

crbug.com/389978730 [ win11 nvidia-0x2783 ] WebCodecs_EncodeColorSpace_av01.0.04M.08_prefer-hardware [ Failure ]

# Win/AMD RX 7600 Failures
crbug.com/398904317 [ win11 amd-0x7480 ] WebCodecs_DrawImage_hw_decoder [ Failure ]
crbug.com/398904317 [ win11 amd-0x7480 ] WebCodecs_TexImage2d_hw_decoder [ Failure ]
crbug.com/398904317 [ win11 amd-0x7480 ] WebCodecs_copyTo_hw_decoder [ Failure ]

# Android Desktop/Brya Failures
crbug.com/416483573 [ android android-brya ] WebCodecs_DrawImage_hw_decoder [ Failure ]
crbug.com/416483573 [ android android-brya ] WebCodecs_EncodingRateControl_avc1.420034_prefer-hardware_variable_1500000 [ Failure ]
crbug.com/416483573 [ android android-brya ] WebCodecs_EncodingRateControl_avc1.420034_prefer-software_variable_1500000 [ Failure ]
crbug.com/416483573 [ android android-brya ] WebCodecs_TexImage2d_hw_decoder [ Failure ]
crbug.com/416483573 [ android android-brya ] WebCodecs_copyTo_hw_decoder [ Failure ]

# Android Desktop/Corsola Failures
crbug.com/416483573 [ android android-corsola ] WebCodecs_EncodingRateControl_avc1.420034_prefer-hardware_variable_1500000 [ Failure ]
crbug.com/416483573 [ android android-corsola ] WebCodecs_EncodingRateControl_avc1.420034_prefer-software_variable_1500000 [ Failure ]
crbug.com/419321448 [ android android-corsola ] WebCodecs_FrameSizeChange_avc1.42001E_arraybuffer [ Failure ]
crbug.com/419321448 [ android android-corsola ] WebCodecs_FrameSizeChange_avc1.42001E_camera [ Failure ]
crbug.com/419321448 [ android android-corsola ] WebCodecs_FrameSizeChange_avc1.42001E_capture [ Failure ]
crbug.com/419321448 [ android android-corsola ] WebCodecs_FrameSizeChange_avc1.42001E_hw_decoder [ Failure ]
crbug.com/419321448 [ android android-corsola ] WebCodecs_FrameSizeChange_avc1.42001E_offscreen [ Failure ]
crbug.com/419321448 [ android android-corsola ] WebCodecs_FrameSizeChange_avc1.42001E_sw_decoder [ Failure ]

# Flaky failures that started when upgrading to Mac 15.4
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_*hvc*prefer-hardware* [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_ContentHint_hvc1.1.6.L123.00_detail [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_ContentHint_hvc1.1.6.L123.00_motion [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_ContentHint_hvc1.1.6.L123.00_text [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_FrameSizeChange_hvc1.1.6.L123.00_arraybuffer [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_FrameSizeChange_hvc1.1.6.L123.00_capture [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_FrameSizeChange_hvc1.1.6.L123.00_hw_decoder [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_FrameSizeChange_hvc1.1.6.L123.00_offscreen [ Failure ]
crbug.com/416294710 [ sequoia intel-0x3e9b ] WebCodecs_FrameSizeChange_hvc1.1.6.L123.00_sw_decoder [ Failure ]

#######################################################################
# Automated Entries After This Point - Do Not Manually Add Below Here #
#######################################################################
