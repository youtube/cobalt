<!DOCTYPE html>
<script>
  function runTest() {
    if (window.testRunner)
      testRunner.dumpAsText();

    if (window.internals)
      internals.setPageScaleFactor(1.5);

    document.body.innerHTML =
      "This test checks that page scale does not affect a plugin object's height when it depends on the window height."
      + " The test scales the page and is considered to pass if the embed object occupies the full height of the window."
      + "<br>"
      + "<br>"
      + "EXPECTED:<br>"
      + "layer at (0,0) size 800x600 LayoutEmbeddedObject {EMBED} at (0,0) size 800x600<br>"
      + "ACTUAL:<br>"
      + internals.elementLayoutTreeAsText(document.getElementById('box'));
  }
</script>
<style>
html, body {
  height: 100%;
}
</style>
<body style="margin: 0px; overflow: hidden" onload="runTest()">
  <embed id="box" width="100%" height="100%" name="plugin" src="fileDoesNotExist.pdf" type="application/pdf"></embed>
</body>
