<!DOCTYPE html>
<style>
    body {
	margin:0;
    }

    #mc {
	-webkit-columns: 3;
	-webkit-column-gap: 20px;
        direction: rtl;
        unicode-bidi: bidi-override;
        -webkit-writing-mode: vertical-rl;
	height: 280px;
	margin:20px 100px;
	font: 20px/1 Ahem;
        background:lime;
    }

    #log {
	position: absolute;
	top: 320px;
    }
</style>
<div id="log">
    <p id="description"></p>
    <div id="console"></div>
</div>
<div id="mc">
    <div>
        <!-- Here's an empty block to trigger wrapping of the sibling text inside an anonymous block. -->
    </div>xxx xxx xxx xxx xxx xxx xxx xxx xxx</div>
<script src="../../../resources/js-test.js"></script>
<script>
    description("Test that hitting an anonymous block child of a multicol container takes us to the right text content.");

    debug("First column:");
    shouldBe("document.caretRangeFromPoint(159,230).startOffset", "3");
    shouldBe("document.caretRangeFromPoint(120,230).startOffset", "7");
    shouldBe("document.caretRangeFromPoint(100,230).startOffset", "11");

    debug("Second column:");
    shouldBe("document.caretRangeFromPoint(159,130).startOffset", "15");
    shouldBe("document.caretRangeFromPoint(120,130).startOffset", "19");
    shouldBe("document.caretRangeFromPoint(100,130).startOffset", "23");

    debug("Third column:");
    shouldBe("document.caretRangeFromPoint(159,30).startOffset", "27");
    shouldBe("document.caretRangeFromPoint(120,30).startOffset", "31");
    shouldBe("document.caretRangeFromPoint(100,30).startOffset", "35");
</script>
