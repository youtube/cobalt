<!--
Copyright 2020 The Chromium Authors
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<!--
This file is used to generate a comprehensive list of invalidation
(cf. components/invalidation/) histograms along with a detailed description for
each one.

For best practices on writing histogram descriptions, see
https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md

Please follow the instructions in the OWNERS file in this directory to find a
reviewer. If no OWNERS file exists, please consider signing up at
go/reviewing-metrics (Googlers only), as all subdirectories are expected to
have an OWNERS file. As a last resort you can send the CL to
chromium-metrics-reviews@google.com.
-->

<histogram-configuration>

<histograms>

<histogram
    name="FCMInvalidations.DirectInvalidation.RegistrationTokenRetrievalStatus"
    enum="InstanceIDResult" expires_after="2026-04-12">
  <owner>asumaneev@google.com</owner>
  <owner>rbock@google.com</owner>
  <owner>chromeos-commercial-remote-management@google.com</owner>
  <summary>
    Status of an attempt to register with FM and retrieve a registration token.
    Recorded on every registration attempt or cached token retrieval.
  </summary>
</histogram>

<histogram name="FCMInvalidations.TokenStateOnRegistrationRequest2"
    enum="TokenStateOnRegistrationRequest" expires_after="2025-06-08">
  <owner>asumaneev@google.com</owner>
  <owner>rbock@google.com</owner>
  <owner>chromeos-commercial-remote-management@google.com</owner>
  <summary>
    Records the outcome of instance ID token requests (i.e. whether the token
    changed). Such requests are made when invalidations are first enabled (e.g.
    on sign-in), and then periodically every 24 hours.
  </summary>
</histogram>

</histograms>

</histogram-configuration>
