<html>
<head>
    <style>
    div {
        transform: scale(2.7937); 
        background-image: url('./resources/pixel-crack-image-background-webkit-transform-scale.png');
        background-position: 16px 16px;
        height: 16px;
        width: 16px;
        position:absolute;
    }
    </style>

    <script type = "text/javascript">

    function runTest()
    {
        for (var j=6; j<=35; ++j)
            for (var i=1; i<=40; ++i) {
                var div = document.createElement('div');
                div.style.left = i*12;
                div.style.top = j*12;
                document.body.appendChild(div);
            }        
    }
    if (window.testRunner) {
        testRunner.waitUntilDone();
        window.addEventListener('load', () => {
            // This is a workaroud for an issue that the load event may be
            // dispatched before loading the background image. See
            // https://crbug.com/675870.
            const id = setInterval(() => {
                // Force layout.
                document.body.offsetTop;
                if (internals.isLoading('./resources/pixel-crack-image-background-webkit-transform-scale.png')) {
                    return;
                }
                clearInterval(id);
                testRunner.notifyDone();
            }, 50);
        });
    }
    </script>
</head>
<body onload="runTest()">
<p>
Test pixel cracks when background sprite is transformed with scale.  Need to run pixel test to verify if it is successful.
</p>
</body>
</html>
