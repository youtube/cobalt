<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Set up your environment - Raspberry Pi</title>

            <!-- Webfont -->
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    
    <!-- Material Design Lite -->
    <link href="/cobalt/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/cobalt/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/cobalt/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/cobalt/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/cobalt/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/cobalt/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/cobalt/js/common.js" type="text/javascript" charset="utf-8"></script>

    <!-- metadata -->
    <meta name="og:title" content="Cobalt / "/>
    <meta name="og:image" content="/cobalt/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
    <link rel="shortcut icon" type="image/png" href="/cobalt/favicon.ico">
  </head>
  <body class="" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>
    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/cobalt/">
        <img class="logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
      <li><a href="/cobalt/starboard/porting.html">Porters</a></li>
      <li><a href="/cobalt/development/setup-linux.html">Developers</a></li>
      <li><a href="/cobalt/contributors/index.html">Contributors</a></li>
      <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
  

<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>
    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Set up your environment - Raspberry Pi</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu no-top-margin"><a href="/cobalt/overview.html">Overview</a></h4>
</li>
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>These instructions explain how to set up Cobalt for your workstation and your
Raspberry Pi device.</p>

<h2 id="set-up-your-device">Set up your device</h2>

<aside class="note">
<b>Note:</b> Raspberry Pi <em>cannot</em> have MesaGL installed and will return
an error, like `DRI2 not supported` or `DRI2 failed to authenticate` if MesaGL
is installed.
</aside>

<p>The following commands update the package configuration on your Raspberry Pi
so that Cobalt can run properly:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ apt-get remove -y --purge --auto-remove libgl1-mesa-dev \
          libegl1-mesa-dev libgles2-mesa libgles2-mesa-dev
$ apt-get install -y libpulse-dev libasound2-dev libavformat-dev \
          libavresample-dev
</code></pre></div>
<h2 id="set-up-your-workstation">Set up your workstation</h2>

<p>The following steps install the cross-compiling toolchain on your workstation.
The toolchain runs on an x86 workstation and compiles binaries for your ARM
Raspberry Pi.</p>

<ol>
<li><p>Choose a location for the installed toolchain &ndash; e.g. <code class="prettyprint">raspi-tools</code>
&ndash; and set <code class="prettyprint">$RASPI_HOME</code> to that location.</p></li>
<li><p>Add <code class="prettyprint">$RASPI_HOME</code> to your <code class="prettyprint">.bashrc</code> (or equivalent).</p></li>
<li><p>Create the directory for the installed toolchain and go to it:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">mkdir -p $RASPI_HOME
cd $RASPI_HOME
</code></pre></div></li>
<li><p>Clone the GitHub repository for Raspberry Pi tools:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git clone git://github.com/raspberrypi/tools.git
</code></pre></div></li>
<li><p>Sync your sysroot by completing the following steps:</p>

<ol>
<li> Boot up your RasPi, and set <code class="prettyprint">$RASPI_ADDR</code> to the device&#39;s IP address.</li>
<li> Run <code class="prettyprint">mkdir -p $RASPI_HOME/sysroot</code></li>
<li><p>Run:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">rsync -avzh --safe-links \
      --delete-after pi@$RASPI_ADDR:/{opt,lib,usr}
      --exclude=&quot;lib/firmware&quot; --exclude=&quot;lib/modules&quot; \
      --include=&quot;usr/lib&quot; --include=&quot;usr/include&quot; \
      --include=&quot;usr/local/include&quot; --include=&quot;usr/local/lib&quot; \
      --exclude=&quot;usr/*&quot; --include=&quot;opt/vc&quot; --exclude=&quot;opt/*&quot; \
      $RASPI_HOME/sysroot
password: raspberry
</code></pre></div></li>
</ol></li>
</ol>

<h2 id="build-install-and-run-cobalt-for-raspberry-pi">Build, install, and run Cobalt for Raspberry Pi</h2>

<ol>
<li><p>Run the following commands to build Cobalt:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ gyp_cobalt raspi-1
$ ninja -C out/raspi-1_debug cobalt
</code></pre></div></li>
<li><p>Run the following command to install your Cobalt binary (and content)
on the device:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">rsync -avzh --exclude=&quot;obj*&quot; \
      $COBALT_SRC/out/raspi-1_debug pi@$RASPI_ADDR:~/
</code></pre></div>
<p>The <code class="prettyprint">rsyncs</code> get somewhat faster after the first time, as <code class="prettyprint">rsync</code> is good at
doing the minimum necessary effort.</p></li>
<li><p>Even if you have a keyboard hooked up to the RasPi, you should SSH
into the device to run Cobalt. Using SSH will make it easy for you
to quit or restart Cobalt.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ssh pi@$RASPI_ADDR
cd raspi-1_debug
./cobalt
</code></pre></div>
<p>With this approach, you can just hit <code class="prettyprint">[CTRL-C]</code> to close Cobalt. If you
were to run it from the console, you would have no way to quit without
SSHing into the device and killing the Cobalt process by its PID.</p>

<p>Note that you can also exit YouTube on Cobalt by hitting the <code class="prettyprint">[Esc]</code> key
enough times to bring up the &quot;Do you want to quit YouTube?&quot; dialog and
selecting &quot;yes&quot;.</p></li>
</ol>

        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    

<footer>
<div class="container">
    <div class="row">
        <div class="col-md-5 column-left">
    <span class="copyright-text">Â© Google 2016</span>
        </div>
        <div class="col-md-2 column-middle">
  <img class="footer-logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt"/>
        </div>
        <div class="col-md-5 column-right">&nbsp;</div>
            </div>
</div>
</footer>

    
  </body>
</html>
