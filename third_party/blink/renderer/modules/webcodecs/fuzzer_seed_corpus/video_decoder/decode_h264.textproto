# Simulates reasonable (mis)usage of VideoDecoder
#  configure(h264)
#  decode() a real key then delta frame
#  flush(), reset(), re configure(h264)
#  decode() the delta frame again (trigger decode error)
#  close() (trigger exception (already closed by error))

invocations: [
  {
    configure {
      codec: 'avc1.64000c',
      description: "\001d\000\014\377\341\000\031gd\000\014\254\331AA\373\001\020\000\000\003\000\020\000\000\003\001@\361B\231`\001\000\006h\353\343\313\"\300\375\370\370\000"
    }
  },
  {
    decode {
      chunk {
        type: KEY,
        timestamp: 0,
        duration: 33333,

        # H.264 I frame
        data: "\000\000\002\256\006\005\377\377\252\334E\351\275\346\331H\267\226,\330 \331#\356\357x264 - core 155 r2917 0a84d98 - H.264/MPEG-4 AVC codec - Copyleft 2003-2018 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=7 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=10 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00\000\200\000\000\014\361e\210\204\000\021\377\376\367\210\0372\313o\234j\327L\204\000\222\213\017\374\345;\r\376]6\305\027~\244J\277\360\274o\371U\212\242.u\376\361\357\246\375\" \005\271\317q(\222\312U\323\311\357\013\024\020d\017\363B\224dv\357d\342X\255\203\214\034\230\357\216\274\320M8!\361\247f\246B\000\257h\372\321\275^\217\024\361n\216\344\251\255e\231\0036\217\326\234\332\031,\250\316\250^\364\341\355\"\251A-\326\332B\232\026@s\305\016[.b\321\0022&}\241\243>\262\341\025\237^\003\332I\301\035w#fl\347Q|\334\014D`\001;\236\325\235\247\257*{.M\200\014q\367\367\223\347\265w@`J\332jI}\311\367\271\375v?\333\327\016\224\271\311\212\006\314\340\022I\342\310\252;\254\023d\233\334\265\376\343,^k<\331\226\200\2366\274c\267B\002\354T;\001\211\327\3711\274k{\236O\331\021-\363\334\226\235c\000\277+W\307E9\326\335\200\251\320c+\033)\2733\0302\010>^\016R\200\336\312V\373L\030\0270\032\023$\250Ca\261\254\2425\345\3107\"\206\315\227Sw\215m\\\005hG\350\013}B\003\233\235\271\336\201\r[\216M\351*$\020\034\327\325\362\304Q\317\225^\206b@\227\207\317\022\207?\323:\342\0179\260\2325%\246t\301:\257\230\210\327\301~\262\270C\351/{zF%\201\2371\333\205\243W\364?\355k\316\334WV\227\220s\366\311\355E\366\034r\3672\355\346\236|Jk\2267\331\317\270\263\230\333\357\351Z\210\371\007\274\256x\372\036\203N\224.,D\r\030\355Q*\326\322d\246\005\003\344\224{gM6\335<\307\3250\225\003P\253\247\3461\226\345%\377\273\330\033\016\343\333\211/\344\276\243\323\323\362\226i\355\351\3244\354\254\t\366\r \234\262A\215\350~_\272kTx%\026\272z\022I\010G\272O@a\252\254\332i\022#\241\267\210V+\361\324\351\006\233\3222\254\352\334\257s,,[\r\273\331\311I\"d.\013a\333f/?\341\307\367V:\220.Y\006_\207\327\207\366=bK\345\027\240\226\337a{\247\354`\001,\022\346U\272\306\306\t}-)\236&b.\r0\206[\214\302\265U\327\374DMW\0030\253|\247\241\001\360\036\327\232&\\\301\003\376\334\323sC\220\036\032J;G\376pg\224cG\021t\246\021]dK\253\320\"\306H8\323\000\370\371\326z\231D\302\326c\034\224T>\'\277\275\273\325E\364\205\267^\02612F\016\322Gu\244r\001P>4#\220\342\350\344\243;\\\244\355\307\235\323\0176j\2340J\261\023\232A\026A\343\210\374\314\002\374\223\363\244\177\274\371\021\270f\3263\312\333\261/\224\014\017}2M\014\265\253I1k\226\322\306\201\016\217\215\312\0147\255\234\020\311ec\001>\316_B\270E\230\240\241\231\214\322\247\364\217\200\321]\004p.\331hNQA\207?C\274\373]f\020\335^\226\245\337\320\005\342\316\314\362[D\213\361E~\363c\365\31721#\336{\010Z\272\225\007_\023Y\035\033\034\010\007\346\300\027{\000\357\'Y\001\2338\013\r\026\\,\265\341%\t\2278R\321\303\232N\356\377\313R\032\202k\314\372M\\1&\022\305Xgx\004\202\246r\264\334\177\0224\350W!\235\261\310\024\261\342M\352-\2458*B\307b\277\0064.\261<e\007\325~?h\302\235G\310\215\217\270\037\204\313%s\341\347\273\375-\316\212\243\r\377\213\271\317\004bG\231\354\212_R\325\211\326\216\033\310V:\234\370\224_>\2519\210>\275M<O&\205e\272\027\026:Y\035\310\351\217\305&\273\345\031\276\261\355\317\260\022\001\014\303\264\256=f\313\275KOt\3315\350\027v}\033Ixv=\233\002\030T\033\254\317A-\331|\253C\370\372\246!L\335\261G\306\202\025\374C\020\312M1\373Do(Q\272\244\037\341b\205lk\2466/S\323\304\241\323Vs6+X\332E/\264\323\007\036\002||9&\013\302L@\305\200] \206\331GK\371\243{\325\274\247\340\374\273*\361+\362\322ZUq;\"\217\377\212\322\234\227\352\203\t\372y~\372\223{\272)\332#^\t\030\251\036\304\340\0261\225-\300c\303\033vy\266]\014\'S\323\rP\355\000\037\030\335\017\023\322\222\237\317\271hp\306g\010\2145!\3112\263\302\243Y\253\204<h\002\317\373\313\016\354\302\272\272=%#\206\325F}\037\230omM\332\221\222\201K\314\210\340\017v\005\021MS\031\232\014\310;\256T\227\355\200\245B\331\307\303h\016\036b\243=\377\373\2169v\247\375\275\245\014\244\207t\327\305\244\277\345Fs\361\370\024{g\367\300\\\375h5\242|}\210%\344K\035\177\340j\216j\204y\200\343B4j\351\017\246\017AHz&\373\247[\205Q\231\276V\236pm\273\355\363\222\037\325:L!\2062\2317\020\205e\226 mf\306\346C\242(\361\334\337\365\275\313\230\026\227\243\324\225\347\226\225f\030\231\322\031h_y\377?\250\323\306\376\300\270\236M\257\220Q\251y\314\335\361?\377\n\316P\337i\206\373\321.Fu\372\004\316\335\214\325V\331kf#\363\365\221\253\356\247\314\201-\363\227\321(\373\255{\204BZ\343\037\002\266\030\236uCN\356\236\020\275\023xb\2063\375\314\3217bvB\0061\023<&\007[\370\322s@\236\\]L\340\350-\225\"\001\246\324\021=\331I(iF\215\017b\271z=/\005\325\271\375\004R\274J\027|U\016P\017)\355\346\022b\202\306)V\031g\2338\367!V\240>0\253-\232~\260\357x\215@\335\217\353\326D\010R\232\307\317\257\3137\310\n\3673#\266\341\311\247\265%\231\342\355\005\266\010Z\265\331\326/M\002\314h\014\026\211\0001\346O\253\367\366\324f\211\246%\314\002\007\034\034=;\255\234\276\370\301v\320\263P\237\223%6\210\375\247\025\225\022\332\272\360#U\237S\207\230\030\306l\311\250X]G\313NK\025\333\313\226\275\203\2201\004I\272j\314\271\266\366I=8\2546\341:\244k\231aqjI\265\241\327\326+h2\303\354\0068\240\013\317\030p\035\306\263\255\366\n\233\235\034\272V\302\270\t,\3056\346E\370\274v\256\3475F\332\316,\266\207Y\241\n\326\370CM\rg\353\242\315\211\204\332\221\036\302\n\304QY\260\3235\246\313\272\270L\347x\222\327\250w\334\201\241\000\233\001,\272\264SujV\214\377\177V\014\207\206\206V\376u\304\204Ko\312dG\376\006\272\022\322\024\035\235\303\236w\367,2f\327R\027\002?@\235\265bU+\311\347\355\326\343\036\324\270\246\010;\247J\210\373Ul\001e\306v\207\'\257\370\327U\266\355SIp4\365\202\253W~g\331\255;\256M\306 2 ^~mV\241v\235\315x\321,h\315\004\305\001\313\301\021\335\020\3254\031\200\322\313_\\\230\263#\014\367\346%)B\r=}s\332F\2534\253d\t\301VZ~\035O\022\\\240\325\03793\t\236(\r9\315\375~\332bI\305\\\270\300\323\250$0\014\234O\374\002\264\322\323}\324\253\211\033\272\325r!KL\246\310\\\031\346m\267\204\263\354\r\204\253V\210\255x;\220\006\254\322g\023\341\306\266\377\366qG\006Mz\221\022\237\226s\370\262@A<@SO\263}\310\342Z\016\00563n\205{\276\000x\275\002F\002\2779\275\267\332e\346o\037\036<\r\331\271\320H\221|\017\030C\343\n\022\373jT\300\366\371\243\241\310\306I\272\252\260\341\371\362\367l\304CSd\352+\274%\276\213\370\354\207\250\234\264t\335\316\363}\361jg+\313\276\362A\254\371r8Z\331\351\377O\313O\001M\276\247\177\370\007\032:>4\264AOH\021\316\002\211\316\334\302C\333n\347\2022\223\2233S\207\303\270n\200\270\341B\307\274$\222\252\235\325\025F\024\315\227\3041&\223\031\026\366\244\201jp\027\3772\236\247Q\3450\025\342\032\342\277O\325\220_\276\355On$\320\017\201\226\343o\213l\033\325P\322\033\2636\260\014*:\356c\332\357\307\016tpu\2536\206\347\3401\364@\007Z\320\345\231\320\021\3300\372!\243w\236E\364\'\362]:\263\315\235X\022\343E\247?_{\271\233}\200\022\027_\256V\0041\"\313\202$\027|\300\257%\374\311E-\034\226\217:\213\224\247C$\321\275\364\344\000\002\355\245\366}?\211*D\315a\265\2705\352\216\r\037i\351vj\313\363\354\325I[\233}\354h\347\254\226\270C\2252L\341Z*%\031w\236\'W\023\226\273\3515]<\331\312\275\027\3746\0167\344\250\3344?\233\314\024\014Y\2049\200\215\337 \307z\333\315z\260\275\nT\365Z\212\"q\322\236w\253T\233=U\213\335\217D\351\302ug\032\256\2129\313\256\206{<\341\3017\366L\253^\275\221\026\202\2024Y\217\3722hs\222\327H+\3643\t\226\020\242\200\326q\003\254\326\265O\334b\207-\272\350\361\332\266\361\203]\236lq0\\Qb$\332\241\020{\245\216\034\270W\266\3237\356\234\260\354\210\3311\262\005S\013]>|w\214>\341e\020c\333\314\264\020\214u\023\271e\013l\000}\005\007\203C.\335`V\223\330d\317\315\306\017\326<\252\"\020\367\263\211q\031\032p|\366\'O\312\311\274\2546:\301T\035\246,#\310d\263\276w\366\323\222\302\346\214\322n\001>\263\342\236\350\330\342\232\265_;\020y\312\234\264\301\360\020\355\321\203\n\016p\212\327\335X\377\267Z$\271R\356\301\343\231\315\314\350\263u\270HkWT\272D2\317 \302\177\255\027\233\375\224iy\252p4\010\256\235\213~}C\030 \032\235\352\207#=p\317\222\177\306\356\035\252\014(\330\265\ra\255\225|\316\263\275)\326\024s\247\000\031h\020\347\200\027\360\023:_\301P\251LC\213\215\361\177rP||? I]\373\206\337W\277\2479\014/\264W\337u\256\220\216A\334\362\367j\020\356\250\t\375\270\244\274;Q\033\301\216Ib3\335\2575v\300\264\204\013\262_\257}\223]\371\327\351\017Hg<\232\264[L\367\341\035\023m\020\324\376\251W-\335\340\360\003\367\025c*\260\250\217\375\363!\013\345?\307@\243\304Xi\'\226\307lF\344.3R\356\177\217H\010\361\330\214<?\327\26763\253\t\232u~\331\361\246\025\312\266\3178s\005\200\330#\213e9\263\364\210\014\272O\365\006J1r\r\240\345\026\3711\202\354?\206\234P\343N\223\331\257t\310\2758\375\242L_W^IC\345\301\365t\353\243\n\334\217\347[\366d\323\201\354u\320$E\226b\036^\216T\003\300tS\346\233[p\367*-?4\335!\246\377a\364\345P\004\016\333AG\\}\376Ff5\273y\233_\332\337Q\210\324\235\301\373Rx\004\315\016\\\2230\224\272\300>W\315\033\231S\266Yf4*E\260\370\340j{\261\035\024C.v\307\256\032\345\275\000G\001$\335\237\352\275\013\245\2651\312\376\002\205\214\213\262\276\370kA\033O\021\252$\252\320p\364Q\212\311Ax\203\334~\337\353\324v4@\366*\310\232\330#\327\020O9\023y\217\367u\002*\343\201OH|\'\260\211=\025\267\317$\326\262\304\266\220\202\007\366V\007\261\234N\246%\225(e\364\205}\305\303\2203\323\001Z\367\325\016g\\\215\263\237\007\023k\345\177\347w\221\301\316.L\n\235\214.m\213\223\237\242\377\306*j&7#9sv\321\nN\375\273\315QU\320\034\220i\0356o\237\346\202\201\306\003\373\265\213;{\205=-\352\2325pO\341V\014y_0\341*Rk\216\351\244\206\347\375\302/\202\355Ue\2444f\203\026\256\356\005\034;Z\254\337!\232]G\3138\266_\357\251\207q\377\3250}\324n\243\017\373\006\224\034y\320\253=\r\264\226\332l\010\3029\212\215S6\300P\037\315\3000\354.\214\r\322\016\3467\000\202o\377\222\035<\026Q\031\022\215\371\300G\345\240\306\263\266@\270c\367\214\035__\241Ol\321\252\263\362\227\020\023\371"
      }
    }
  },
  {
    decode {
      chunk {
        type: DELTA,
        timestamp: 33333,
        duration: 33333,
        
        # H.264 P frame
        data: "\000\000\003\232A\232$lA\017\376\252U\000\310\361d@\002\037\t\356]KJ\224\327\214\274 \032\024u\370\323)\347\226\247\365&\235\315\037\334\034\257\342\020n*\221\327P\340Q\264\n\27339O`\333\231g\337\214\031E\220-b3\226\214\341\336\332\201\326Z\326y\251)\274\021~\311\262\036E\'\367\300H3\206\371R\300\250+3^&\251\245\277a\206\006\263\210D!iE\2235\261\235p5\327\266\245\2366\212\337\023X\363\372\263zi\347L\215N\033v\340\317\2407\000\346$\225]\211k:\254ytD!\237\034\241\242&\037C3\'\026y\335Bh\202\242S\264]?+dN\373Ki\342p\370o\270\007\263\204\343\356\207\2135C/U\236p%&\300v\035id\013\215\350G\270\327\237\014y\246\347\352O\275\220\350\222.\270\327\371\343?\372\210\\P\341G\306\027\272df\201}\315\003 *8\032!,e\237\"\261[\352\223\'\036\312\202\275Y\270P\006\271B\310\326\255\245m\262P\273\'\375\235\254\3109\332-\360+fXX\271\356\366\257\277\3039\351?\245\336\324\271\266\353D\321\243:\312\334\217l\177\374}!\304\036\213\307\372\016\007\334\303\003i+x\303\340\027\366(_z\346\251\243@\3460\202\337\342\275)\203\237~\345\316\237\202O#\251\347C\252\261\345\232Q\226\213\365\304=\243q\251I\323\332\340\303\007lca\026\335=l\216\360\263\266\375t\342Rb\276\3505i\261\356\313\216\321\232\337\310\223VDP\033\247k\005\332\3474\357\271\3611\251\203\326\367\247\301R\243\374\315\223\252hZ\316\322n\220o^\273}\375\025X\317\237\215.\236\037\032w*\376Q\300N)\177\245\234\033\004\247N\347\376g\234\256\030GL\226\245\353\250\333@\362\215p\256a\313a\243\223\347V\210@\357yV\025\251,C\"\3330\315d\026Q\002!\031\315\251\013q\232f\231b\207\003\250\010\253=U))\357\275L0\242\267m\255\366\336\027\037\266C\307\342\200.8\353M\344<\0136\3501Qo\325\365\373\310\241%j\277,-\362\265E\312w\350\221\351\306a/z83q/]KE\r\031\332\003\325\022\t\221\355Ph\275\312\240\223c\200\1776cu\250\320(dy\266$p\320\032!\226\221\247\213\274\223h\'\342\3458\215\341\030\204aujK\000\021\212\3109P\263\027\026\376i\300\006\201\227p\t\344\005\006g\361\226\311\272\037ln\242\347\331U\276\345\267\340(M\332\376?\342\335\3060\376\023\266\377*8\200\002:\223\352\210\350\005\202\206u\321\016\315I\225\207\026\337\253c\216u\033\243rB\366Cb]Z\375\367S?\331\313\036x\335\311Gc\233\034}\031!mdq\315\371\242Bz\244\025\350\000\323b\274&\244/ 2#4K_:>\375\322\230\277>\313\231\265\345\203}\363H\305W% \0265\214\243ZB\316\3124W\037\326e\005wl\210\223}?\250\330\010\233\320\366\347\342\305\264\020\304^\374&\203j\224\312\271\337\211\001\376\276|\265\335\216\345d\363\025y\353N\367XRa\321\334So\016\236\254Jr\200\257H\n\310x\300HF\303\031Y\240pW\026\027\247BN\303F\356\026\357\177\367d\206%\356\375\212=1\235\032\263\001\247\305\2144\226fE\377\024\351\022\326W\264\366\302uQ\313\006\272\376\211\212\263\263\212m\251V\332"
      }
    }
  },
  {
    flush {}
  },
  {
    reset {}
  },
  {
    configure {
      codec: 'avc1.64000c',
      description: "\001d\000\014\377\341\000\031gd\000\014\254\331AA\373\001\020\000\000\003\000\020\000\000\003\001@\361B\231`\001\000\006h\353\343\313\"\300\375\370\370\000"
    }
  },
  {
    decode {
      chunk {
        type: DELTA,
        timestamp: 33333,
        duration: 33333,
        
        # H.264 P frame
        data: "\000\000\003\232A\232$lA\017\376\252U\000\310\361d@\002\037\t\356]KJ\224\327\214\274 \032\024u\370\323)\347\226\247\365&\235\315\037\334\034\257\342\020n*\221\327P\340Q\264\n\27339O`\333\231g\337\214\031E\220-b3\226\214\341\336\332\201\326Z\326y\251)\274\021~\311\262\036E\'\367\300H3\206\371R\300\250+3^&\251\245\277a\206\006\263\210D!iE\2235\261\235p5\327\266\245\2366\212\337\023X\363\372\263zi\347L\215N\033v\340\317\2407\000\346$\225]\211k:\254ytD!\237\034\241\242&\037C3\'\026y\335Bh\202\242S\264]?+dN\373Ki\342p\370o\270\007\263\204\343\356\207\2135C/U\236p%&\300v\035id\013\215\350G\270\327\237\014y\246\347\352O\275\220\350\222.\270\327\371\343?\372\210\\P\341G\306\027\272df\201}\315\003 *8\032!,e\237\"\261[\352\223\'\036\312\202\275Y\270P\006\271B\310\326\255\245m\262P\273\'\375\235\254\3109\332-\360+fXX\271\356\366\257\277\3039\351?\245\336\324\271\266\353D\321\243:\312\334\217l\177\374}!\304\036\213\307\372\016\007\334\303\003i+x\303\340\027\366(_z\346\251\243@\3460\202\337\342\275)\203\237~\345\316\237\202O#\251\347C\252\261\345\232Q\226\213\365\304=\243q\251I\323\332\340\303\007lca\026\335=l\216\360\263\266\375t\342Rb\276\3505i\261\356\313\216\321\232\337\310\223VDP\033\247k\005\332\3474\357\271\3611\251\203\326\367\247\301R\243\374\315\223\252hZ\316\322n\220o^\273}\375\025X\317\237\215.\236\037\032w*\376Q\300N)\177\245\234\033\004\247N\347\376g\234\256\030GL\226\245\353\250\333@\362\215p\256a\313a\243\223\347V\210@\357yV\025\251,C\"\3330\315d\026Q\002!\031\315\251\013q\232f\231b\207\003\250\010\253=U))\357\275L0\242\267m\255\366\336\027\037\266C\307\342\200.8\353M\344<\0136\3501Qo\325\365\373\310\241%j\277,-\362\265E\312w\350\221\351\306a/z83q/]KE\r\031\332\003\325\022\t\221\355Ph\275\312\240\223c\200\1776cu\250\320(dy\266$p\320\032!\226\221\247\213\274\223h\'\342\3458\215\341\030\204aujK\000\021\212\3109P\263\027\026\376i\300\006\201\227p\t\344\005\006g\361\226\311\272\037ln\242\347\331U\276\345\267\340(M\332\376?\342\335\3060\376\023\266\377*8\200\002:\223\352\210\350\005\202\206u\321\016\315I\225\207\026\337\253c\216u\033\243rB\366Cb]Z\375\367S?\331\313\036x\335\311Gc\233\034}\031!mdq\315\371\242Bz\244\025\350\000\323b\274&\244/ 2#4K_:>\375\322\230\277>\313\231\265\345\203}\363H\305W% \0265\214\243ZB\316\3124W\037\326e\005wl\210\223}?\250\330\010\233\320\366\347\342\305\264\020\304^\374&\203j\224\312\271\337\211\001\376\276|\265\335\216\345d\363\025y\353N\367XRa\321\334So\016\236\254Jr\200\257H\n\310x\300HF\303\031Y\240pW\026\027\247BN\303F\356\026\357\177\367d\206%\356\375\212=1\235\032\263\001\247\305\2144\226fE\377\024\351\022\326W\264\366\302uQ\313\006\272\376\211\212\263\263\212m\251V\332"
      }
    }
  },
  {
    close {}
  }
]