# BEGIN TAG HEADER (autogenerated, see validate_tag_consistency.py)
# OS
# tags: [ android android-oreo android-pie android-q android-r android-s
#             android-t android-14 android-15 android-16
#         chromeos
#         fuchsia
#         linux ubuntu
#         mac highsierra mojave catalina bigsur monterey ventura sonoma sequoia
#         win win8 win10 win11 ]
# Devices
# tags: [ android-pixel-2 android-pixel-4 android-pixel-6 android-pixel-10
#             android-shield-android-tv android-sm-a137f android-sm-a236b
#             android-sm-s911u1
#         android-brya android-corsola
#         chromeos-board-amd64-generic chromeos-board-eve chromeos-board-jacuzzi
#             chromeos-board-octopus
#         fuchsia-board-astro fuchsia-board-nelson fuchsia-board-sherlock
#             fuchsia-board-qemu-x64 ]
# Platform
# tags: [ desktop
#         mobile ]
# Browser
# tags: [ android-chromium
#         android-webview-instrumentation
#         debug debug-x64
#         release release-x64
#         fuchsia-chrome
#         web-engine-shell
#         cros-chrome ]
# GPU
# tags: [ amd amd-0x150e amd-0x1900 amd-0x6613 amd-0x679e amd-0x67ef amd-0x6821
#             amd-0x7340 amd-0x7480
#         apple apple-apple-m1 apple-apple-m2 apple-apple-m3
#             apple-angle-metal-renderer:-apple-m1
#             apple-angle-metal-renderer:-apple-m2
#             apple-angle-metal-renderer:-apple-m3
#         arm
#         google google-0xffff google-0xc0de
#         imagination
#         imagination-technologies
#         intel intel-gen-9 intel-gen-12 intel-0xa2e intel-0xa011 intel-0xe20c
#             intel-0x3e92 intel-0x3e9b intel-0x4680 intel-0x46a8 intel-0x5912
#             intel-0x9bc5
#         microsoft microsoft-0xffff
#         nvidia nvidia-0x1cb3 nvidia-0x2184 nvidia-0x2783
#         qualcomm qualcomm-0x41333430 qualcomm-0x36333630 qualcomm-0x36334330 ]
# Architecture
# tags: [ arch-arm64 arch-x86_64 ]
# Decoder
# tags: [ passthrough no-passthrough ]
# Browser Target CPU
# tags: [ target-cpu-64 target-cpu-32 target-cpu-31 ]
# ANGLE Backend
# tags: [ angle-disabled
#         angle-d3d9 angle-d3d11
#         angle-metal
#         angle-opengl angle-opengles
#         angle-swiftshader
#         angle-vulkan ]
# Skia Renderer
# tags: [ renderer-skia-gl
#         renderer-skia-vulkan
#         renderer-software ]
# Driver
# tags: [ mesa_lt_19.1
#         mesa_ge_21.0
#         mesa_ge_23.2
#         mesa_ge_24.2
#         nvidia_ge_31.0.15.4601 nvidia_lt_31.0.15.4601
#         nvidia_ge_535.183.01 nvidia_lt_535.183.01 ]
# ASan
# tags: [ asan no-asan ]
# Display Server
# tags: [ display-server-wayland display-server-x ]
# WebGPU Backend Validation
# tags: [ dawn-backend-validation dawn-no-backend-validation ]
# WebGPU Adapter
# tags: [ webgpu-adapter-default webgpu-adapter-swiftshader ]
# WebGPU DXC
# tags: [ webgpu-dxc-enabled webgpu-dxc-disabled ]
# WebGPU worker usage
# tags: [ webgpu-no-worker
#         webgpu-service-worker
#         webgpu-dedicated-worker
#         webgpu-shared-worker ]
# WebGPU Compat context
# tags: [ compat-default compat-min-es31 ]
# Clang coverage
# tags: [ clang-coverage no-clang-coverage ]
# Skia Graphite
# tags: [ graphite-enabled graphite-disabled ]
# Memory capacity
# tags: [ memory_lt_16gb memory_ge_16gb ]
# results: [ Failure RetryOnFailure Skip Slow ]
# END TAG HEADER

###############################
# Permanent Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to never be removed.
# This is for things like tests that will never be supported on a particular
# platform/configuration.

# Mac NVIDIA only uses the low-power GPU.
crbug.com/1441633 [ mac angle-opengl nvidia ] ContextLost_MacWebGLCopyTexSubImage2DHighPowerSwitchDoesNotCrash [ Skip ]
crbug.com/1186582 [ mac angle-opengl nvidia ] ContextLost_MacWebGLMultisamplingHighPowerSwitchDoesNotCrash [ Skip ]
crbug.com/681341 [ mac angle-opengl nvidia ] ContextLost_MacWebGLMultisamplingHighPowerSwitchLosesContext [ Skip ]
crbug.com/681341 [ mac angle-opengl nvidia ] ContextLost_MacWebGLPreserveDBHighPowerSwitchLosesContext [ Skip ]

# Metal does not switch the GPU of existing contexts.
crbug.com/1448964 [ mac angle-metal ] ContextLost_MacWebGLCopyTexSubImage2DHighPowerSwitchDoesNotCrash [ Skip ]
crbug.com/1448964 [ mac angle-metal ] ContextLost_MacWebGLMultisamplingHighPowerSwitchDoesNotCrash [ Skip ]
crbug.com/1448964 [ mac angle-metal ] ContextLost_MacWebGLMultisamplingHighPowerSwitchLosesContext [ Skip ]
crbug.com/1448964 [ mac angle-metal ] ContextLost_MacWebGLPreserveDBHighPowerSwitchLosesContext [ Skip ]

# These tests use base::Process::TerminateCurrentProcessImmediately(0) on the
# GPU process and expect a normal exit code reported to the browser process.
# On Android, this returns a process killed exit code.
crbug.com/1078566 [ android ] GpuNormalTermination_OriginalWebGLNotBlocked [ Skip ]
crbug.com/1078566 [ android ] GpuNormalTermination_NewWebGLNotBlocked [ Skip ]

# Fuchsia cannot launch a new tab.
[ fuchsia ] ContextLost_WebGLContextLostInHiddenTab [ Skip ]
[ fuchsia ] ContextLost_WebGLContextRestoredInHiddenTab [ Skip ]

# Webgpu not fully supported on Linux, Android, ChromeOS, and Fuchsia
[ linux ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]
[ linux ] ContextLost_WebGPUBlockedAfterJSNavigation [ Skip ]
[ linux ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Skip ]
[ linux ] GpuNormalTermination_WebGPUNotBlocked [ Skip ]
[ fuchsia ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]
[ fuchsia ] ContextLost_WebGPUBlockedAfterJSNavigation [ Skip ]
[ fuchsia ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Skip ]
[ fuchsia ] GpuNormalTermination_WebGPUNotBlocked [ Skip ]
[ android ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]
[ android ] ContextLost_WebGPUBlockedAfterJSNavigation [ Skip ]
[ android ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Skip ]
[ android ] GpuNormalTermination_WebGPUNotBlocked [ Skip ]
[ chromeos ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]
[ chromeos ] ContextLost_WebGPUBlockedAfterJSNavigation [ Skip ]
[ chromeos ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Skip ]
[ chromeos ] GpuNormalTermination_WebGPUNotBlocked [ Skip ]

# GPU process fallback isn't supported on certain platforms.
crbug.com/1154047 [ chromeos ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1154047 [ chromeos ] GpuCrash_SoftwareFallbackDisabled [ Skip ]
crbug.com/1154047 [ android ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1154047 [ android ] GpuCrash_SoftwareFallbackDisabled [ Skip ]
crbug.com/1154047 [ fuchsia ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1154047 [ fuchsia ] GpuCrash_SoftwareFallbackDisabled [ Skip ]

# WebGPU tests hanging on multiple Mac FYI bots
crbug.com/1305020 [ mac asan intel-0x3e9b ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]

# Flaky hangs on Mac Debug NVIDIA, stalling the test suite for 40 minutes.
# This hardware configuration is effectively obsolete; this won't be investigated.
crbug.com/1161570 [ mac nvidia debug ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1161570 [ mac nvidia debug ] GpuCrash_SoftwareFallbackDisabled [ Skip ]
crbug.com/1161570 [ mac nvidia debug ] GpuCrash_InfoForDualHardwareGpus [ Skip ]

# Flaky hangs on Mac Debug Intel. Attempted to suppress with
# RetryOnFailure, but test was persistently flaky. Test is reliable in
# Release mode, and no root cause was obvious, so permanently skipping
# on this configuration.
crbug.com/1297151 [ mac intel debug ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1297151 [ mac intel debug ] GpuCrash_SoftwareFallbackDisabled [ Skip ]

# Flaky hangs on Mac Debug AMD, stalling the test suite for 60 minutes.
crbug.com/1327754 [ mac amd debug ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1327754 [ mac amd debug ] GpuCrash_SoftwareFallbackDisabled [ Skip ]
crbug.com/1327754 [ mac amd debug ] GpuCrash_InfoForDualHardwareGpus [ Skip ]

# Vulkan enabled on linux, the crash fallback logic is different.
crbug.com/1334650 [ linux ] GpuCrash_InfoForHardwareGpu [ Skip ]
crbug.com/1334650 [ linux ] GpuCrash_SoftwareFallbackDisabled [ Skip ]

# WebGpu is not enable on mac pro
[ mac amd-0x679e ] ContextLost_WebGPUBlockedAfterJSNavigation [ Skip ]
[ mac amd-0x679e ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]
[ mac amd-0x679e ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Skip ]
[ mac amd-0x679e ] GpuNormalTermination_WebGPUNotBlocked [ Skip ]

# WebGpu is not supported on x86 nvidia
crbug.com/42240193 [ win10 nvidia target-cpu-32 ] ContextLost_WebGPUBlockedAfterJSNavigation [ Skip ]
crbug.com/42240193 [ win10 nvidia target-cpu-32 ] ContextLost_WebGPUContextLostFromGPUProcessExit [ Skip ]
crbug.com/42240193 [ win10 nvidia target-cpu-32 ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Skip ]
crbug.com/42240193 [ win10 nvidia target-cpu-32 ] GpuNormalTermination_WebGPUNotBlocked [ Skip ]

###############################
# Temporary Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to be removable at some
# point. This is for things like tests that fail in a way that negatively and
# significantly impacts other tests, e.g. killing the test device.

# Was broken on Win8 Release and Debug NVIDIA bots. Can probably be removed
# since Windows 8 is no longer tested.
crbug.com/524808 [ win8 nvidia ] ContextLost_WebGLContextLostFromSelectElement [ Skip ]

###################
# Failures/Flakes #
###################
# Non-"Skip" expectations go here to suppress regular flakes/failures.

# Very flaky on Pixel 2 and Samsung A13 Android bots
crbug.com/444480419 [ android android-pixel-2 ] ContextLost_WebGLContextLostInHiddenTab [ Failure ]
crbug.com/444480419 [ android android-pixel-4 ] ContextLost_WebGLContextLostInHiddenTab [ Failure ]
crbug.com/444480419 [ android android-sm-a137f ] ContextLost_WebGLContextLostInHiddenTab [ Failure ]

# Fails with Graphite on Windows and Mac
crbug.com/329145823 [ win release amd ] GpuCrash_InfoForHardwareGpu [ Failure ]
crbug.com/329145823 [ win release amd ] GpuCrash_SoftwareFallbackDisabled [ Failure ]
crbug.com/329145823 [ win release intel ] GpuCrash_InfoForHardwareGpu [ Failure ]
crbug.com/329145823 [ win release intel ] GpuCrash_SoftwareFallbackDisabled [ Failure ]
crbug.com/329145823 [ win release nvidia ] GpuCrash_InfoForHardwareGpu [ Failure ]
crbug.com/329145823 [ win release nvidia ] GpuCrash_SoftwareFallbackDisabled [ Failure ]
crbug.com/329145823 [ angle-metal arch-x86_64 graphite-enabled mac memory_ge_16gb release ] GpuCrash_InfoForHardwareGpu [ Failure ]
crbug.com/329145823 [ angle-metal arch-x86_64 graphite-enabled mac memory_ge_16gb release ] GpuCrash_SoftwareFallbackDisabled [ Failure ]
crbug.com/329145823 [ graphite-disabled mac release ] GpuCrash_SoftwareFallbackDisabled [ Failure ]
crbug.com/329145823 [ asan graphite-disabled intel-0x3e9b arch-x86_64 no-clang-coverage release sonoma ] GpuCrash_InfoForHardwareGpu [ Failure ]
crbug.com/329145823 [ angle-metal graphite-enabled intel-gen-9 mac no-asan release ] GpuCrash_InfoForDualHardwareGpus [ Failure ]

# Flaky failure on Mac AMD - 3 GPU process crashes instead of 4
crbug.com/354748640 [ mac amd asan release ] GpuCrash_InfoForDualHardwareGpus [ Failure ]
crbug.com/354748640 [ mac amd no-asan graphite-disabled release ] GpuCrash_InfoForDualHardwareGpus [ Failure ]


# Flaky failure on Mac Intel ASAN - DevTools Serialization Crash
crbug.com/338574390 [ angle-metal asan intel mac ] ContextLost_WebGLContextRestoredInHiddenTab [ Failure ]

# Windows debug causes render process hangs due to slow gpu process restart.
crbug.com/1416920 [ win debug ] GpuCrash_InfoForHardwareGpu [ Failure ]
crbug.com/1416920 [ win debug ] GpuCrash_SoftwareFallbackDisabled [ Failure ]

# Flaky crash affects this test in particular for some reason
crbug.com/365565140 [ memory_lt_16gb qualcomm-0x41333430 win ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Failure ]

# Flaky Timed out while waiting 10s for IsJavaScriptExpressionTrue
crbug.com/384605105 [ amd-0x7340 angle-opengl debug graphite-disabled no-asan no-clang-coverage sonoma ] ContextLost_WebGLContextRestoredInHiddenTab [ RetryOnFailure ]
crbug.com/384605105 [ mac intel no-asan ] ContextLost_WebGLContextRestoredInHiddenTab [ RetryOnFailure ]

# Flaky Timed out while waiting 60s for IsJavaScriptExpressionTrue
crbug.com/365565140 [ amd-0x7340 debug arch-x86_64 no-asan no-clang-coverage sonoma ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Failure ]
crbug.com/365565140 [ angle-metal asan graphite-enabled intel-0x3e9b arch-x86_64 no-clang-coverage release sonoma ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Failure ]
crbug.com/365565140 [ angle-opengl debug graphite-disabled intel-0x3e9b arch-x86_64 no-asan no-clang-coverage sonoma ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Failure ]

# Renderer Hung Possibly just Slow
crbug.com/338574390 [ mac intel-0x3e9b angle-metal asan graphite-disabled ] ContextLost_WebGPUUnblockedAfterUserInitiatedReload [ Failure ]
crbug.com/338574390 [ angle-metal graphite-enabled amd-0x7340 mac ] ContextLost_WebGPUBlockedAfterJSNavigation [ Slow ]

# Failure since webgpu enabled via vulkan interop
crbug.com/457303654 [ linux nvidia-0x2184 debug ] ContextLost_WebGPUStressRequestDeviceAndRemoveLoop [ Failure ]



# WebGPU is currently not enabled on win11 qualcomm but it will be soon
[ win11 qualcomm ] ContextLost_WebGPU* [ Failure ]
[ memory_lt_16gb qualcomm-0x41333430 win11 ] GpuNormalTermination_WebGPUNotBlocked [ Failure ]

###############################
# Permanent Slow Expectations #
###############################

# Slow on DCHECK builds being used on fuchsia builders.
crbug.com/425745937 [ fuchsia web-engine-shell ] ContextLost_WebGLContextLostFromQuantity [ Slow ]
crbug.com/425745937 [ fuchsia web-engine-shell ] ContextLost_WebGLContextLostFromSelectElement [ Slow ]

#######################################################################
# Automated Entries After This Point - Do Not Manually Add Below Here #
#######################################################################
