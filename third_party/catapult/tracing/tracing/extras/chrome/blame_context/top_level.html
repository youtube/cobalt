<!DOCTYPE html>
<!--
Copyright 2016 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="/tracing/extras/chrome/blame_context/blame_context.html">

<script>
'use strict';

/**
 * @fileoverview Trace Viewer side's correspondence of Chrome's
 * content::TopLevelBlameContext class.
 *
 */
tr.exportTo('tr.e.chrome', function() {
  const BlameContextSnapshot = tr.e.chrome.BlameContextSnapshot;
  const BlameContextInstance = tr.e.chrome.BlameContextInstance;

  function TopLevelSnapshot() {
    BlameContextSnapshot.apply(this, arguments);
  }

  TopLevelSnapshot.prototype = {
    __proto__: BlameContextSnapshot.prototype,

    get userFriendlyName() {
      return 'TopLevel';
    }
  };

  tr.model.ObjectSnapshot.subTypes.register(
      TopLevelSnapshot,
      {typeName: 'TopLevel'});

  function TopLevelInstance() {
    BlameContextInstance.apply(this, arguments);
  }

  TopLevelInstance.prototype = {
    __proto__: BlameContextInstance.prototype,

    get blameContextType() {
      return 'TopLevel';
    }
  };

  tr.model.ObjectInstance.subTypes.register(
      TopLevelInstance,
      {typeName: 'TopLevel'});

  return {
    TopLevelSnapshot,
    TopLevelInstance,
  };
});
</script>
