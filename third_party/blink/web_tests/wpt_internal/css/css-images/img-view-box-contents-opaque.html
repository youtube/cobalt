<!DOCTYPE html>
<html class="reftest-wait">
<title>Image opaqueness with CSS object-view-box and object-position</title>
<link rel="author" href="mailto:szager@chromium.org">
<link rel="match" href="img-view-box-contents-opaque-ref.html">
<script src="/common/reftest-wait.js"></script>

<body>
<style>
.view_box_superset {
  object-view-box: inset(0px -50px 0px 0px);
  object-fit: fill;
  margin: 5px;
  background-color: grey;
}

.view_box_superset_with_scaling {
  object-view-box: inset(0px -50px 0px 0px);
  object-fit: fill;
  margin: 5px;
  background-color: grey;
  width: 50px;
  height: 50px;
}

.view_box_intersection {
  object-view-box: inset(-50px 25px 50px 0px);
  object-fit: fill;
  margin: 5px;
  background-color: grey;
  clip-path: inset(0px 0px 1px 0px);
}

.view_box_no_intersection {
  object-view-box: inset(-50px 25px 100px 0px);
  object-fit: fill;
  margin: 5px;
  background-color: grey;
}
</style>

<img class="view_box_superset"></img>
<img class="view_box_superset_with_scaling"></img>
<img class="view_box_intersection"></img>
<img class="view_box_no_intersection"></img>
</body>

<script>
let url = "support/exif-orientation-6-ru.jpg";
let decoder = document.createElement("img");
decoder.src = url;
decoder.decode().then(() => {
  decoder = null;
  let images = document.getElementsByTagName("img");
  for (let i = 0; i < images.length; i++) {
    images[i].src = url;
  }
  takeScreenshot();
});
</script>
