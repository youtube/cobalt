<!DOCTYPE html>
<html>
<head>
<style>
    ::-webkit-scrollbar {
        width: 0px;
        height: 0px;
    }
</style>
</head>
<body style="width: 4000px; height:10000px;background-image:url('../resources/grid.png')" onload="runTest();">
<script src="../../../resources/run-after-layout-and-paint.js"></script>
<script>
// Under-invalidation checking is too slow for this test.
if (window.internals)
    internals.runtimeFlags.paintUnderInvalidationCheckingEnabled = false;

function runTest() {
    if (window.testRunner)
        testRunner.waitUntilDone();
    runAfterLayoutAndPaint(function() {
        if (window.internals) {
            internals.setPageScaleFactorLimits(0.5, 0.5);
            internals.setPageScaleFactor(0.5);
        }
        if (window.testRunner)
            testRunner.notifyDone();
    });
}
</script>
<div style="transform:translateZ(0);"></div>
</body>
</html>
