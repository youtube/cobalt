<!doctype HTML>
<script src="resources/text-based-repaint.js" type="text/javascript"></script>
<div id=target style="will-change: transform; overflow:hidden; height: 10px; width: 100px;">
  <div>
    <!-- A grandchild stacking context. Should disappear if the test passes. -->
    <div style="isolation: isolate; width: 50px;  height: 50px; background: red">
    </div>
  </div>
</div>
<script>
    function repaintTest() {
       // Change the clip to be zero-height, and add a transparent border of the same height.
       // This results in a composited layer of exactly the same size but a chnaged clip
       // to apply to children.
       target.style.height = "0px";
       target.style.borderBottom = "10px solid transparent";
   }
   onload = runRepaintAndPixelTest();
</script>
