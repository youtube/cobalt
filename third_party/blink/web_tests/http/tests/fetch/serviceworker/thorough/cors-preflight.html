<!doctype html>
<head>
<meta name="timeout" content="long"></meta>
<script src = "/resources/testharness.js"></script>
<script src = "/resources/testharnessreport.js"></script>
<script src = "/resources/get-host-info.js?pipe=sub"></script>
<script src = "/fetch/resources/fetch-test-options.js"></script>
<script src = "/fetch/resources/thorough-util.js"></script>
<script src = "/serviceworker/resources/test-helpers.js"></script>
</head>
<body>
<script>
var options = get_thorough_test_options();
function start(t) {
  service_worker_test(
    '/fetch/script-tests/thorough/cors-preflight.js?',
    'cors-preflight-serviceworker');
  t.done();
}
function init(test) {
  return login(test, options['BASE_HTTP_ORIGIN'], options['OTHER_HTTP_ORIGIN'])
    .then(function() {
      return login(test, options['BASE_HTTPS_ORIGIN'],
        options['OTHER_HTTPS_ORIGIN']);
      });
}
</script>
<script src = "/fetch/resources/init.js"></script>
</body>
