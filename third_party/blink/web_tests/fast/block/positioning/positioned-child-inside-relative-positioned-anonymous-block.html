<!DOCTYPE html>
<style>
#square {
    width: 50px;
    height: 20px;
    background-color: green;
    display: inline-block;
}
#inline-container {
    display: inline;
    position: relative;
}
#abspos {
    position: absolute;
    background-color: green;
}
</style>
<p> crbug.com/548017: A positioned element inside a relatively positioned inline should use the width of the inline, rather than the anonymous block created to accommodate block-flow parents, when determining its own width. There should be a green square below</p>
<div id="inline-container">
    <div>
        <div id="abspos" data-expected-width=50><div id="square"></div><div id="square"></div></div>
    </div>
</div>
<script src="../../../resources/check-layout.js"></script>
<script type="text/javascript">
    window.checkLayout("#abspos");
</script>
