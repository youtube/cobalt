<!DOCTYPE html>
<html class="reftest-wait">
<link rel="author" title="Dominik RÃ¶ttsches" href="drott@chromium.org">
<link rel="help" href="https://drafts.csswg.org/css-fonts-4/#font-optical-sizing-def"/>
<meta name="assert" content="Ensures that optical size is automatically applied, including under zoom."/>
<link rel="match" href="variable-opsz-zoom-ref.html">
<meta charset="utf-8">
<style>
    @font-face {
    font-family: variabletest_box;
    src: url(resources/variabletest_box.ttf);
    }

    body {
    font-family: variabletest_box, sans-serif;
    }
    .columns {
    display: flex;
    gap: 20px;
    }
</style>
<!-- The variabletest_box font file contains a glyph for letter B which moves a
  horizontal bar up from the middle for opsz > 12 and moves it down for opsz >
  12 where the opsz axis ranges from 12 to 128. -->
<div class="columns">
<div>
<div style="font-size:   6px;">B</div>
<div style="font-size:  12px;">B</div>
<div style="font-size:  24px;">B</div>
</div>
<div>
<div style="font-size:  48px;">B</div>
<div style="font-size:  64px;">B</div>
<div style="font-size: 128px;">B</div>
</div>
<div>
<!-- Explicit value overrides auto. -->
<div style="font-size:  24px; font-variation-settings: 'opsz' 128;">B</div>
<div style="font-size:  48px; font-optical-sizing: none;">B</div>
</div>
</div>
  <script>
    matchMedia('(resolution: 2dppx)').addEventListener("change", zoomReached, { once: true })
    if (window.testRunner)
        testRunner.setPageZoomFactor(2);

  function zoomReached() {
      document.fonts.ready.then(
          () => { document.documentElement.classList.remove("reftest-wait"); });
  }
</script>
</html>
