<!DOCTYPE html>
<meta name=fuzzy content="maxDifference=0-3; totalPixels=0-100">
<script src="../../../resources/testdriver.js"></script>
<script src="../../../resources/testdriver-vendor.js"></script>
<script src="../resources/picker-common.js"></script>

<style>
  select:focus {
    outline-width: 0;
  }
  select {
    width: 200px;
    font: 10px Ahem;
    -webkit-appearance: none;
    background-color: white;
  }
  select::-webkit-scrollbar {
    width: 200px;
  }
  select::-webkit-scrollbar-track {
    background: orange;
  }
  select::-webkit-scrollbar-corner {
    background: yellow;
  }

  select::-webkit-scrollbar-thumb {
    background: gray;
  }
  select::-webkit-scrollbar-thumb:hover {
    background: green;
  }
  option:hover{
    background-color: green;
  }
</style>

<select>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
  <option>This is an option</option>
</select>

<script>
  function mouseMoveToScrollbar() {
    return new Promise(function(resolve, reject) {
      if (window.chrome && chrome.gpuBenchmarking) {
        let selectElement = internals.pagePopupWindow.global.picker.selectElement_;
        let innerSelectRect = selectElement.getBoundingClientRect();
        let scrollbarX = innerSelectRect.x + innerSelectRect.width - 10;
        let scrollbarY = innerSelectRect.y + 50;
        chrome.gpuBenchmarking.pointerActionSequence(
            [{
              source: 'mouse',
              actions: [{name: 'pointerMove', x: scrollbarX, y: scrollbarY}]
            }],
            resolve);
      } else {
        reject();
      }
    });
  }
  window.onload = openPickerAppearanceOnly(document.querySelector('select'),() => {
    return mouseMoveToScrollbar();
  });
</script>
