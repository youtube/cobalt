<!DOCTYPE html>
<script src="../../../resources/js-test.js"></script>
<style>
#container {
    float:right;
}
canvas {
    display: block;
};
</style>
<div id="container">
    <canvas></canvas>
</div>
<pre id="pre">
    <canvas></canvas>
</pre>
<script>
    document.body.offsetTop;
    pre.style.position = 'absolute';
    container.style.display = "table";
    // This applies the style changes above to the layout tree without doing a layout. Naughty.
    document.execCommand(false)
    document.body.style.zoom=0.50
    testPassed("crbug.com/537656: If a canvas has been marked for layout it may have floats in its float lists that have been removed and require layout to rebuild them, so don't try to pre-empt layout by calculating width on the canvas using stale and unsafe float lists.");
</script>
