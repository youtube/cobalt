# Copyright 2018 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/ios/rules.gni")

config("config") {
  include_dirs = [ "//ios/third_party/edo/src/" ]
}

source_set("edo") {
  testonly = true

  sources = [
    "src/Channel/Sources/EDOBlockingQueue.h",
    "src/Channel/Sources/EDOBlockingQueue.m",
    "src/Channel/Sources/EDOChannel.h",
    "src/Channel/Sources/EDOChannelErrors.h",
    "src/Channel/Sources/EDOChannelErrors.m",
    "src/Channel/Sources/EDOChannelForwarder.h",
    "src/Channel/Sources/EDOChannelForwarder.m",
    "src/Channel/Sources/EDOChannelMultiplexer.h",
    "src/Channel/Sources/EDOChannelMultiplexer.m",
    "src/Channel/Sources/EDOChannelPool.h",
    "src/Channel/Sources/EDOChannelPool.m",
    "src/Channel/Sources/EDOChannelUtil.h",
    "src/Channel/Sources/EDOChannelUtil.m",
    "src/Channel/Sources/EDOHostPort.h",
    "src/Channel/Sources/EDOHostPort.m",
    "src/Channel/Sources/EDOListenSocket.h",
    "src/Channel/Sources/EDOListenSocket.m",
    "src/Channel/Sources/EDOSocket.h",
    "src/Channel/Sources/EDOSocket.m",
    "src/Channel/Sources/EDOSocketChannel.h",
    "src/Channel/Sources/EDOSocketChannel.m",
    "src/Channel/Sources/EDOSocketPort.h",
    "src/Channel/Sources/EDOSocketPort.m",
    "src/Device/Sources/EDODeviceChannel.h",
    "src/Device/Sources/EDODeviceChannel.m",
    "src/Device/Sources/EDODeviceConnector.h",
    "src/Device/Sources/EDODeviceConnector.m",
    "src/Device/Sources/EDODeviceDetector.h",
    "src/Device/Sources/EDODeviceDetector.m",
    "src/Device/Sources/EDOUSBMuxUtil.h",
    "src/Device/Sources/EDOUSBMuxUtil.m",
    "src/DeviceForwarder/Sources/EDODeviceForwardersManager.h",
    "src/DeviceForwarder/Sources/EDODeviceForwardersManager.m",
    "src/Measure/Sources/EDONumericMeasure.h",
    "src/Measure/Sources/EDONumericMeasure.m",
    "src/Service/Sources/EDOBlockObject.h",
    "src/Service/Sources/EDOBlockObject.m",
    "src/Service/Sources/EDOClassMessage.h",
    "src/Service/Sources/EDOClassMessage.m",
    "src/Service/Sources/EDOClientService+Private.h",
    "src/Service/Sources/EDOClientService.h",
    "src/Service/Sources/EDOClientService.m",
    "src/Service/Sources/EDOClientServiceStatsCollector.h",
    "src/Service/Sources/EDOClientServiceStatsCollector.m",
    "src/Service/Sources/EDODeallocationTracker.h",
    "src/Service/Sources/EDODeallocationTracker.m",
    "src/Service/Sources/EDOExecutor.h",
    "src/Service/Sources/EDOExecutor.m",
    "src/Service/Sources/EDOExecutorMessage.h",
    "src/Service/Sources/EDOExecutorMessage.m",
    "src/Service/Sources/EDOHostNamingService+Private.h",
    "src/Service/Sources/EDOHostNamingService.h",
    "src/Service/Sources/EDOHostNamingService.m",
    "src/Service/Sources/EDOHostService+Handlers.h",
    "src/Service/Sources/EDOHostService+Handlers.m",
    "src/Service/Sources/EDOHostService+Private.h",
    "src/Service/Sources/EDOHostService.h",
    "src/Service/Sources/EDOHostService.m",
    "src/Service/Sources/EDOInvocationMessage.h",
    "src/Service/Sources/EDOInvocationMessage.m",
    "src/Service/Sources/EDOMessage.h",
    "src/Service/Sources/EDOMessage.m",
    "src/Service/Sources/EDOMethodSignatureMessage.h",
    "src/Service/Sources/EDOMethodSignatureMessage.m",
    "src/Service/Sources/EDOObject+EDOParameter.m",
    "src/Service/Sources/EDOObject+Invocation.m",
    "src/Service/Sources/EDOObject+Private.h",
    "src/Service/Sources/EDOObject.h",
    "src/Service/Sources/EDOObject.m",
    "src/Service/Sources/EDOObjectAliveMessage.h",
    "src/Service/Sources/EDOObjectAliveMessage.m",
    "src/Service/Sources/EDOObjectMessage.h",
    "src/Service/Sources/EDOObjectMessage.m",
    "src/Service/Sources/EDOObjectReleaseMessage.h",
    "src/Service/Sources/EDOObjectReleaseMessage.m",
    "src/Service/Sources/EDOParameter.h",
    "src/Service/Sources/EDOParameter.m",
    "src/Service/Sources/EDOProtocolObject.h",
    "src/Service/Sources/EDOProtocolObject.m",
    "src/Service/Sources/EDORemoteException.h",
    "src/Service/Sources/EDORemoteException.m",
    "src/Service/Sources/EDORemoteVariable.h",
    "src/Service/Sources/EDORemoteVariable.m",
    "src/Service/Sources/EDORuntimeUtils.h",
    "src/Service/Sources/EDORuntimeUtils.m",
    "src/Service/Sources/EDOServiceError.h",
    "src/Service/Sources/EDOServiceError.m",
    "src/Service/Sources/EDOServiceException.h",
    "src/Service/Sources/EDOServiceException.m",
    "src/Service/Sources/EDOServicePort.h",
    "src/Service/Sources/EDOServicePort.m",
    "src/Service/Sources/EDOServiceRequest.h",
    "src/Service/Sources/EDOServiceRequest.m",
    "src/Service/Sources/EDOTimingFunctions.h",
    "src/Service/Sources/EDOTimingFunctions.m",
    "src/Service/Sources/EDOValueObject+EDOParameter.m",
    "src/Service/Sources/EDOValueObject.h",
    "src/Service/Sources/EDOValueObject.m",
    "src/Service/Sources/EDOValueType.m",
    "src/Service/Sources/EDOWeakObject.h",
    "src/Service/Sources/EDOWeakObject.m",
    "src/Service/Sources/NSBlock+EDOInvocation.m",
    "src/Service/Sources/NSKeyedArchiver+EDOAdditions.h",
    "src/Service/Sources/NSKeyedArchiver+EDOAdditions.m",
    "src/Service/Sources/NSKeyedUnarchiver+EDOAdditions.h",
    "src/Service/Sources/NSKeyedUnarchiver+EDOAdditions.m",
    "src/Service/Sources/NSObject+EDOBlockedType.h",
    "src/Service/Sources/NSObject+EDOBlockedType.m",
    "src/Service/Sources/NSObject+EDOParameter.h",
    "src/Service/Sources/NSObject+EDOParameter.m",
    "src/Service/Sources/NSObject+EDOValue.h",
    "src/Service/Sources/NSObject+EDOValue.m",
    "src/Service/Sources/NSObject+EDOValueObject.h",
    "src/Service/Sources/NSObject+EDOValueObject.m",
    "src/Service/Sources/NSObject+EDOWeakObject.h",
    "src/Service/Sources/NSObject+EDOWeakObject.m",
    "src/Service/Sources/NSProxy+EDOParameter.h",
    "src/Service/Sources/NSProxy+EDOParameter.m",
  ]

  public_configs = [ ":config" ]

  configs -= [
    "//build/config/gcc:symbol_visibility_hidden",
    "//build/config/compiler:chromium_code",
  ]
  configs += [
    "//build/config/compiler:no_chromium_code",
    "//build/config/compiler:enable_arc",
    "//build/config/gcc:symbol_visibility_default",
  ]
}
