<!DOCTYPE html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../assert_selection.js"></script>
<script>
selection_test(
  [ '<div contenteditable>',
      '<table contenteditable="false">',
        '<tr>',
          '<td>foo</td>',
          '<td contenteditable>bar <span>^baz</span></td>',
          '<td>qux</td>',
        '</tr>',
      '</table>',
      'Editable <span>|content</span>',
    '</div>',
  ],
  'delete',
  [ '<div contenteditable>',
      '<table contenteditable="false">',
        '<tbody><tr>',
          '<td>foo</td>',
          '<td contenteditable>bar\u00A0|</td>',
          '<td>qux</td>',
        '</tr></tbody>',
      '</table>',
      'Editable <span>content</span>',
    '</div>',
  ],
  'This tests to see that selected non-editable nodes that are not in both the start'
+ ' and end editable root are preserved during a deletion.  You should see "foo" and'
+ ' "qux" on both sides of the editable piece. <radr://problem/5026848>'
);
</script>
