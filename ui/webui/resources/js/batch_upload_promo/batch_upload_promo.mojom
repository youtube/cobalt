// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

module batch_upload_promo.mojom;

// Used by the WebUI document to bootstrap bidirectional communication.
interface PageHandlerFactory {
  // The WebUI page's |BrowserProxy| singleton calls this method when the
  // document is first initialized.
  CreateBatchUploadPromoHandler(
      pending_remote<Page> page,
      pending_receiver<PageHandler> handler);
};

// Browser-side handler for requests from WebUI document.
interface PageHandler {
  // Gets an update from the batch upload service.
  GetBatchUploadPromoLocalDataCount() => (int32 local_data_count);
  // Opens the batch upload dialog.
  OnBatchUploadPromoClicked();
};

// WebUI-side handler for requests from the browser.
interface Page {
  // Sends the updated `local_data_count` to the UI.
  OnLocalDataCountChanged(int32 local_data_count);
};