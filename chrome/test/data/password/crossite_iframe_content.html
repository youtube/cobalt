<html>
<head>
  <meta charset="utf-8" />
  <title>Title</title>
</head>
<body id="inframe">
<script>
function receiveMessage(event){
  if (event.data == "fill_and_submit") {
    document.getElementById("username").value = "temp";
    document.getElementById("password").value = "pa55w0rd";
    document.getElementById("submit_button").click();
  } else if (event.data == "get_username") {
    event.source.postMessage(document.getElementById("username").value,
                             event.origin);
  } else if (event.data == "get_password") {
    event.source.postMessage(document.getElementById("password").value,
                             event.origin);
  }
}
window.addEventListener("message", receiveMessage, false);

</script>
<form method="POST" name="TestForm" action="/password/done.html">
  <input type="text" id="username"/>
  <input type="password" id="password"/>
  <input type="submit" id="submit_button" value="Log"/>
</form>
</body>
</html>

