<script>
var pipWindow;
async function createDocumentPipWindow({ width = 300, height = 300 } = {}) {
    pipWindow = await documentPictureInPicture.requestWindow({ width: width, height: height, });
    pipWindow.document.open();
    pipWindow.document.write("Hello, world.<a name='top'>top</a>");
    pipWindow.document.close();
    return true;
}

function navigateInDocumentPipWindow(url) {
    pipWindow.document.location.href = url;
    return true;
}

function addScriptToPictureInPictureWindow() {
    pipWindow.document.write("<script>document.testvalue = 123;<\/script>");
    return pipWindow.document.testvalue == 123;
}

function refreshInDocumentPipWindow() {
    pipWindow.location.reload();
    return true;
}

</script>
