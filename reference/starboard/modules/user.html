<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Starboard Module Reference: user.h</title>

            <!-- Webfont -->
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    
    <!-- Material Design Lite -->
    <link href="/cobalt/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/cobalt/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/cobalt/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/cobalt/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/cobalt/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/cobalt/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/cobalt/js/common.js" type="text/javascript" charset="utf-8"></script>

    <!-- metadata -->
    <meta name="og:title" content="Cobalt / "/>
    <meta name="og:image" content="/cobalt/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
  </head>
  <body class="" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>
    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/cobalt/">
        <img class="logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
      <li><a href="/cobalt/starboard/porting.html">Porters</a></li>
      <li><a href="/cobalt/development/setup-linux.html">Developers</a></li>
      <li><a href="/cobalt/contributors/index.html">Contributors</a></li>
      <li><a href="https://cobalt.googlesource.com/cobalt"><i class="fa fa-github"></i> Code Repo</a></li>
      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
  

<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>
    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: user.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu no-top-margin"><a href="/cobalt/overview.html">Overview</a></h4>
</li>
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>This module defines a user management API. Platforms that do not have users
must still implement this API, always reporting a single user that is
current and signed in.<br>
These APIs are NOT expected to be thread-safe, so either call them from a
single thread, or perform proper synchronization around all calls.</p>

<h2 id="enums">Enums</h2>

<h3 id="sbuserpropertyid">SbUserPropertyId</h3>

<p>A set of string properties that can be queried on a user.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbUserPropertyAvatarUrl</code> -  The URL to the avatar for a user. Avatars are not provided on all platforms.</li>
<li>  <code class="prettyprint">kSbUserPropertyHomeDirectory</code> - The path to a user&#39;s home directory, if supported on this platform.</li>
<li>  <code class="prettyprint">kSbUserPropertyUserName</code> - The username of a user, which may be the same as the User ID, or it may befriendlier.</li>
<li>  <code class="prettyprint">kSbUserPropertyUserId</code> - A unique user ID of a user.</li>
</ul>

<h2 id="structs">Structs</h2>

<h3 id="sbuserapplicationtokenresults">SbUserApplicationTokenResults</h3>

<p>Information about an application-specific authorization token.</p>

<p><strong>Members</strong></p>

<table class="responsive">
  <tr><th colspan="2">Members</th></tr>
  <tr>
    <td><code>size_t</code><br>        <code>token_buffer_size</code></td>    <td>The size of the buffer pointed to by <code>token_buffer</code>. Call
SbUserMaxAuthenticationTokenSizeInBytes() to get an appropriate size.
<code>token_buffer_size</code> must be set to a value greater than zero.</td>  </tr>
  <tr>
    <td><code>bool</code><br>        <code>has_expiry</code></td>    <td>If true, <code>expiry</code> will be set. If false, the token never expires.</td>  </tr>
  <tr>
    <td><code>SbTime</code><br>        <code>expiry</code></td>    <td>The absolute time that this token expires. It is valid to use the value of
<code>expiry</code> only if <code>has_expiry</code> is true.</td>  </tr>
</table>

<h3 id="sbuserprivate">SbUserPrivate</h3>

<p>Private structure representing a device user.</p>

<h2 id="functions">Functions</h2>

<h3 id="sbusergetcurrent">SbUserGetCurrent</h3>

<p><strong>Description</strong></p>

<p>Gets the current primary user, if one exists. This is the user that is
determined, in a platform-specific way, to be the primary user controlling
the application. For example, the determination might be made because that
user launched the app, though it should be made using whatever criteria are
appropriate for the platform.<br>
It is expected that there will be a unique SbUser per signed-in user, and
that the referenced objects will persist for the lifetime of the app.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbUserGetCurrent-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbUserGetCurrent-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbUserGetCurrent-declaration">
<pre>
SB_EXPORT SbUser SbUserGetCurrent();
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbUserGetCurrent-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/user.h&quot;

SbUser SbUserGetCurrent() {
  return kSbUserInvalid;
}
</code></pre></div>
<p></div>
</div></p>

<h3 id="sbusergetproperty">SbUserGetProperty</h3>

<p><strong>Description</strong></p>

<p>Retrieves the value of the specified property for the specified user and
places it in <code class="prettyprint">out_value</code>. The function returns:
<ul><li><code class="prettyprint">true</code> if the property value is retrieved successfully
</li><li><code class="prettyprint">false</code> if the <code class="prettyprint">user</code> is invalid; if the <code class="prettyprint">property_id</code> isn&#39;t recognized,
supported, or set for the <code class="prettyprint">user</code>; or if the <code class="prettyprint">value_size</code> is too small.</li></ul></p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbUserGetProperty-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbUserGetProperty-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbUserGetProperty-declaration">
<pre>
SB_EXPORT bool SbUserGetProperty(SbUser user,
                                 SbUserPropertyId property_id,
                                 char* out_value,
                                 int value_size);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbUserGetProperty-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/user.h&quot;

int SbUserGetPropertySize(SbUser /*user*/, SbUserPropertyId /*property_id*/) {
  return 0;
}

bool SbUserGetProperty(SbUser /*user*/,
                       SbUserPropertyId /*property_id*/,
                       char* /*out_value*/,
                       int /*value_size*/) {
  return false;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbUser</code><br>        <code>user</code></td>
    <td>The user for which property size data is being retrieved.</td>
  </tr>
  <tr>
    <td><code>SbUserPropertyId</code><br>        <code>property_id</code></td>
    <td>The property for which the data is requested.</td>
  </tr>
  <tr>
    <td><code>char*</code><br>        <code>out_value</code></td>
    <td>The retrieved property value.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>value_size</code></td>
    <td>The size of the retrieved property value.</td>
  </tr>
</table>

<h3 id="sbusergetpropertysize">SbUserGetPropertySize</h3>

<p><strong>Description</strong></p>

<p>Returns the size of the value of the specified property for the specified
user, INCLUDING the terminating null character. The function returns <code class="prettyprint">0</code>
if the <code class="prettyprint">user</code> is invalid or if the <code class="prettyprint">property_id</code> is not recognized,
supported, or set for the user.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SB_EXPORT int SbUserGetPropertySize(SbUser user, SbUserPropertyId property_id);
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbUser</code><br>        <code>user</code></td>
    <td>The user for which property size data is being retrieved.</td>
  </tr>
  <tr>
    <td><code>SbUserPropertyId</code><br>        <code>property_id</code></td>
    <td>The property for which the data is requested.</td>
  </tr>
</table>

<h3 id="sbusergetsignedin">SbUserGetSignedIn</h3>

<p><strong>Description</strong></p>

<p>Gets a list of signed-in users and places the results in <code class="prettyprint">out_users</code>.
The return value identifies the actual number of signed-in users, which may
be greater or less than <code class="prettyprint">users_size</code>.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbUserGetSignedIn-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbUserGetSignedIn-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbUserGetSignedIn-declaration">
<pre>
SB_EXPORT int SbUserGetSignedIn(SbUser* out_users, int users_size);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbUserGetSignedIn-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/user.h&quot;

int SbUserGetSignedIn(SbUser* /*out_users*/, int /*users_size*/) {
  return 0;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbUser*</code><br>        <code>out_users</code></td>
    <td>Handles for the retrieved users.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>users_size</code></td>
    <td>The maximum number of signed-in users to retrieve.</td>
  </tr>
</table>

<h3 id="sbuserisvalid">SbUserIsValid</h3>

<p><strong>Description</strong></p>

<p>Returns whether the given user handle is valid.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE bool SbUserIsValid(SbUser user) {
  return user != kSbUserInvalid;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbUser</code></td>
    <td><code>user</code></td>
  </tr>
</table>

        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    

<footer>
<div class="container">
    <div class="row">
        <div class="col-md-5 column-left">
    <span class="copyright-text">Â© Google 2016</span>
        </div>
        <div class="col-md-2 column-middle">
  <img class="footer-logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt"/>
        </div>
        <div class="col-md-5 column-right">&nbsp;</div>
            </div>
</div>
</footer>

    
  </body>
</html>
