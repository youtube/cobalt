# Copyright 2025 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

source_set("coordinator") {
  sources = [
    "base_grid_coordinator+subclassing.h",
    "base_grid_coordinator.h",
    "base_grid_coordinator.mm",
  ]
  deps = [
    ":mediator",
    "//base",
    "//components/collaboration/public",
    "//components/feature_engagement/public",
    "//components/feature_engagement/public:feature_constants",
    "//components/strings",
    "//ios/chrome/app/strings",
    "//ios/chrome/browser/collaboration/model",
    "//ios/chrome/browser/collaboration/model:collaboration_delegate",
    "//ios/chrome/browser/feature_engagement/model",
    "//ios/chrome/browser/menu/ui_bundled:tab_context_menu_delegate",
    "//ios/chrome/browser/shared/coordinator/chrome_coordinator",
    "//ios/chrome/browser/shared/model/browser",
    "//ios/chrome/browser/shared/model/profile",
    "//ios/chrome/browser/shared/model/web_state_list",
    "//ios/chrome/browser/shared/public/commands",
    "//ios/chrome/browser/shared/public/features",
    "//ios/chrome/browser/shared/public/snackbar",
    "//ios/chrome/browser/tab_switcher/tab_grid/base_grid/ui",
    "//ios/chrome/browser/tab_switcher/tab_grid/base_grid/ui:grid_mediator_item_provider",
    "//ios/chrome/browser/tab_switcher/ui_bundled:tab_group_confirmation",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_item_identifier",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_ui",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:tab_group_grid_ui",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/tab_groups",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/tab_groups:tab_group_creation",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/tab_groups:tab_groups_ui",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/transitions",
    "//ios/web/public",
    "//ui/base",
  ]
}

source_set("mediator") {
  sources = [
    "base_grid_mediator.h",
    "base_grid_mediator.mm",
  ]
  deps = [
    "//base",
    "//components/bookmarks/common",
    "//components/collaboration/public",
    "//components/prefs",
    "//components/saved_tab_groups/public",
    "//components/tab_groups",
    "//ios/chrome/browser/bubble/model",
    "//ios/chrome/browser/collaboration/model",
    "//ios/chrome/browser/collaboration/model:features",
    "//ios/chrome/browser/commerce/model",
    "//ios/chrome/browser/default_browser/model:utils",
    "//ios/chrome/browser/drag_and_drop/model",
    "//ios/chrome/browser/favicon/model",
    "//ios/chrome/browser/menu/ui_bundled",
    "//ios/chrome/browser/reading_list/model",
    "//ios/chrome/browser/saved_tab_groups/model",
    "//ios/chrome/browser/saved_tab_groups/model:tab_group_service",
    "//ios/chrome/browser/shared/coordinator/scene:scene_state_header",
    "//ios/chrome/browser/shared/model/browser",
    "//ios/chrome/browser/shared/model/profile",
    "//ios/chrome/browser/shared/model/url",
    "//ios/chrome/browser/shared/model/url:constants",
    "//ios/chrome/browser/shared/model/web_state_list",
    "//ios/chrome/browser/shared/model/web_state_list:utils",
    "//ios/chrome/browser/shared/public/commands",
    "//ios/chrome/browser/shared/public/commands:shared_group_last_tab_commands",
    "//ios/chrome/browser/shared/public/features",
    "//ios/chrome/browser/shared/public/features:system_flags",
    "//ios/chrome/browser/shared/ui/util:url_with_title",
    "//ios/chrome/browser/snapshots/model",
    "//ios/chrome/browser/snapshots/model:model_common",
    "//ios/chrome/browser/snapshots/model:model_swift",
    "//ios/chrome/browser/tab_switcher/tab_grid/base_grid/suggested_actions",
    "//ios/chrome/browser/tab_switcher/tab_grid/base_grid/ui:grid_mediator_item_provider",
    "//ios/chrome/browser/tab_switcher/ui_bundled",
    "//ios/chrome/browser/tab_switcher/ui_bundled:items",
    "//ios/chrome/browser/tab_switcher/ui_bundled:tab_group_confirmation",
    "//ios/chrome/browser/tab_switcher/ui_bundled:utils",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid:tab_grid_idle_status_handler",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid:tab_grid_metrics",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid:tab_grid_mode",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid:tab_grid_page_mutator",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid:tab_grid_paging",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_consumer",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_item_identifier",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_mediator_delegate",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_toolbars_mutator",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_ui",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_utils",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_view_controller_mutator",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:selected_grid_items",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/tab_context_menu:tab_item",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/toolbars",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/toolbars:toolbars_ui",
    "//ios/chrome/browser/tabs_search/model",
    "//ios/chrome/browser/tabs_search/model:model_factory",
    "//ios/chrome/browser/url_loading/model",
    "//ios/chrome/browser/url_loading/model:url_loading_params_header",
    "//ios/web/public",
    "//net",
    "//ui/gfx",
  ]
}

source_set("scene_agent") {
  sources = [
    "tab_grid_observing.h",
    "tab_grid_scene_agent.h",
    "tab_grid_scene_agent.mm",
  ]
  deps = [
    "//ios/chrome/browser/shared/coordinator/scene:observing_scene_agent",
    "//ui/base",
  ]
}

source_set("unit_tests") {
  testonly = true
  sources = [ "base_grid_mediator_unittest.mm" ]
  deps = [
    ":coordinator",
    ":mediator",
    "//base/test:test_support",
    "//components/commerce/core:feature_list",
    "//components/saved_tab_groups/public",
    "//components/saved_tab_groups/test_support",
    "//components/tab_groups",
    "//ios/chrome/app/strings",
    "//ios/chrome/browser/commerce/model",
    "//ios/chrome/browser/drag_and_drop/model",
    "//ios/chrome/browser/main/model",
    "//ios/chrome/browser/saved_tab_groups/model",
    "//ios/chrome/browser/saved_tab_groups/model:tab_group_service",
    "//ios/chrome/browser/share_kit/model:test_support",
    "//ios/chrome/browser/shared/model/browser",
    "//ios/chrome/browser/shared/model/browser/test:test_support",
    "//ios/chrome/browser/shared/model/profile/test",
    "//ios/chrome/browser/shared/model/web_state_list",
    "//ios/chrome/browser/shared/model/web_state_list:utils",
    "//ios/chrome/browser/shared/model/web_state_list/test:test_support",
    "//ios/chrome/browser/shared/public/features",
    "//ios/chrome/browser/snapshots/model",
    "//ios/chrome/browser/tab_switcher/ui_bundled",
    "//ios/chrome/browser/tab_switcher/ui_bundled:items",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid:tab_grid_mode",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:grid_item_identifier",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid:test_fixture",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid/incognito",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/grid/regular",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/toolbars",
    "//ios/chrome/browser/tab_switcher/ui_bundled/tab_grid/toolbars/test:fakes",
    "//ios/chrome/browser/tab_switcher/ui_bundled/test:fakes",
    "//ios/web/public",
    "//ios/web/public/navigation",
    "//ios/web/public/test/fakes",
    "//ui/base",
    "//url",
  ]
}
