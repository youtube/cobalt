<!DOCTYPE html>
<html>
<head>
  <style>
    .composited {
      will-change: transform;
    }

    .box {
      position: absolute;
      top: 360px;
      left: 50px;
      background-color: cyan;
      width: 300px;
      height: 100px;
    }

    #iframe1 {
      position: absolute;
      top: 30px;
      left: 10px;
      width: 150px;
      height: 150px;
    }

    #iframe2 {
      position: absolute;
      top: 200px;
      left: 10px;
      width: 150px;
      height: 150px;
    }

    #iframe3 {
      position: absolute;
      top: 380px;
      left: 10px;
      width: 150px;
      height: 150px;
    }

  </style>

  <script type="text/javascript">
    if (window.internals) {
      internals.settings.setPreferCompositingToLCDTextEnabled(true);
    }

    if (window.testRunner) {
      testRunner.dumpAsText();

      window.addEventListener("load", function() {
        document.getElementById("layertree").innerText = internals.layerTreeAsText(document);
      }, false);
    }
  </script>

</head>
<body style="height: 4000px;">
  <div>In all iframes, the green fixed-position element should not be composited.
    <pre id="layertree"></pre>
  </div>
  <div class="composited box"> Composited box underneath iframe. </div>
  <iframe id="iframe1" src="resources/fixed-position-nonscrollable-body.html"></iframe>
  <iframe id="iframe2" class="composited" src="resources/fixed-position-nonscrollable-body.html"></iframe>
  <iframe id="iframe3" src="resources/fixed-position-nonscrollable-body.html"></iframe>
</body>
</html>
