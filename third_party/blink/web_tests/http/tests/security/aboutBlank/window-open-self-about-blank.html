<!-- https://bugs.webkit.org/show_bug.cgi?id=24067 -->
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
    testRunner.setPopupBlockingEnabled(false);
    window.open("javascript:'<script>console.log(opener.document.domain ? \"PASS\" : \"FAIL: Domain is undefined.\"); setTimeout(\"testRunner.notifyDone();\", 200)</scr" + "ipt>'");
} else
    console.log("This test should redirect to about:blank without crashing. When run in automated mode, it also checks that the resulting document domain is correct.");

window.open("about:blank", "_self");
</script>
<p>FAIL: This document should be replaced with about:blank.</p>
