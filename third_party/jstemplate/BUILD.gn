# Copyright 2017 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//tools/typescript/ts_library.gni")
import("//ui/webui/resources/tools/generate_grd.gni")

generate_grd("build_grdp") {
  grd_prefix = "jstemplate"
  out_grd = "$target_gen_dir/resources.grdp"
  input_files_base_dir = rebase_path(".", "//")
  input_files = [ "jstemplate_compiled.js" ]
  resource_path_prefix = "js"
}

ts_library("library") {
  # Don't add new entries in the list below. jstemplate should be avoided since
  # it requires unsafe-eval CSP header to work. Use Lit templates instead.
  # TODO(crbug.com/40433145): Replace remaining usages with alternatives.
  visibility = [
    "//components/sync/service/resources:build_ts",
    "//content/browser/resources/service_worker:build_ts",
  ]
  composite = true
  definitions = [ "jstemplate.d.ts" ]
}
