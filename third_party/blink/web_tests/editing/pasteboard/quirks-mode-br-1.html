<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../assert_selection.js"></script>
<script>
// This is a test to make sure that the final <br> in an incoming fragment is
// interpretted strictly in quirks mode (where <br>s at the end of blocks are
// collapsed). This test used to fail because of unrendered content to the left
// of the collapsed <br>
selection_test(
    [
        '<div contenteditable>',
            '<div>abc.|<span></span><br></div>',
        '</div>',
    ],
    'InsertHTML <br>',
    [
        '<div contenteditable>',
            '<div>abc.<span></span><br></div>',
            '|<br>',
        '</div>',
    ]);
</script>
