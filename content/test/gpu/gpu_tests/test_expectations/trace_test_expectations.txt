# BEGIN TAG HEADER (autogenerated, see validate_tag_consistency.py)
# OS
# tags: [ android android-oreo android-pie android-r android-s android-t
#             android-14
#         chromeos
#         fuchsia
#         linux ubuntu
#         mac highsierra mojave catalina bigsur monterey ventura sonoma sequoia
#         win win8 win10 win11 ]
# Devices
# tags: [ android-nexus-5x android-pixel-2 android-pixel-4
#             android-pixel-6 android-shield-android-tv android-sm-a135m
#             android-sm-a235m android-sm-s911u1 android-moto-g-power-5g---2023
#         chromeos-board-amd64-generic chromeos-board-eve chromeos-board-jacuzzi
#             chromeos-board-octopus chromeos-board-volteer
#         fuchsia-board-astro fuchsia-board-nelson fuchsia-board-sherlock
#             fuchsia-board-qemu-x64 ]
# Platform
# tags: [ desktop
#         mobile ]
# Browser
# tags: [ android-chromium
#         android-webview-instrumentation
#         debug debug-x64
#         release release-x64
#         fuchsia-chrome
#         web-engine-shell
#         lacros-chrome
#         cros-chrome ]
# GPU
# tags: [ amd amd-0x6613 amd-0x679e amd-0x67ef amd-0x6821 amd-0x7340
#         apple apple-apple-m1 apple-apple-m2
#             apple-angle-metal-renderer:-apple-m1
#             apple-angle-metal-renderer:-apple-m2
#         arm
#         google google-0xffff google-0xc0de
#         imagination
#         intel intel-gen-9 intel-gen-12 intel-0xa2e intel-0xd26 intel-0xa011
#             intel-0x3e92 intel-0x3e9b intel-0x4680 intel-0x5912 intel-0x9bc5
#         nvidia nvidia-0xfe9 nvidia-0x1cb3 nvidia-0x2184 nvidia-0x2783
#         qualcomm qualcomm-0x41333430 qualcomm-0x36333630 qualcomm-0x36334330 ]
# Architecture
# tags: [ mac-arm64 mac-x86_64 ]
# Decoder
# tags: [ passthrough no-passthrough ]
# Browser Target CPU
# tags: [ target-cpu-64 target-cpu-32 target-cpu-31 ]
# ANGLE Backend
# tags: [ angle-disabled
#         angle-d3d9 angle-d3d11
#         angle-metal
#         angle-opengl angle-opengles
#         angle-swiftshader
#         angle-vulkan ]
# Skia Renderer
# tags: [ renderer-skia-gl
#         renderer-skia-vulkan
#         renderer-software ]
# Driver
# tags: [ mesa_lt_19.1
#         mesa_ge_21.0
#         mesa_ge_23.2
#         nvidia_ge_31.0.15.4601 nvidia_lt_31.0.15.4601
#         nvidia_ge_535.183.01 nvidia_lt_535.183.01 ]
# ASan
# tags: [ asan no-asan ]
# Display Server
# tags: [ display-server-wayland display-server-x ]
# OOP-Canvas
# tags: [ oop-c no-oop-c ]
# WebGPU Backend Validation
# tags: [ dawn-backend-validation dawn-no-backend-validation ]
# WebGPU Adapter
# tags: [ webgpu-adapter-default webgpu-adapter-swiftshader ]
# WebGPU DXC
# tags: [ webgpu-dxc-enabled webgpu-dxc-disabled ]
# WebGPU worker usage
# tags: [ webgpu-no-worker
#         webgpu-service-worker
#         webgpu-dedicated-worker
#         webgpu-shared-worker ]
# Clang coverage
# tags: [ clang-coverage no-clang-coverage ]
# Skia Graphite
# tags: [ graphite-enabled graphite-disabled ]
# results: [ Failure RetryOnFailure Skip Slow ]
# END TAG HEADER

###############################
# Permanent Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to never be removed.
# This is for things like tests that will never be supported on a particular
# platform/configuration.

# Require page actions - which are only supported in pixel tests.
crbug.com/1048892 TraceTest_OffscreenCanvasIBRCWebGLMain [ Skip ]
crbug.com/1048892 TraceTest_OffscreenCanvasIBRCWebGLWorker [ Skip ]

# The TraceTest versions of the pixel tests' Video_Context_Loss tests
# appear flaky on multiple platforms. These are mainly meant to run as
# pixel tests so they're being skipped in this test suite.
crbug.com/974077 TraceTest_Video_Context_Loss_MP4 [ Skip ]
crbug.com/974077 TraceTest_Video_Context_Loss_VP9 [ Skip ]

# Playing videos not supported in Fuchsia emulators.
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video* [ Skip ]

# Skip unaccelerated canvas test since we don't use swap chains without GPU compositing.
crbug.com/1009860 [ win ] SwapChainTraceTest_CanvasUnacceleratedLowLatency2D [ Skip ]

# Software compositing is not supported on Android/ChromeOS/Fuchsia: we skip the
# tests that disable GPU compositing (--disable-gpu-compositing).
[ android ] TraceTest_RepeatedWebGLTo2D_SoftwareCompositing [ Skip ]
[ android ] TraceTest_Canvas2DTabSwitch_SoftwareCompositing [ Skip ]
[ android ] TraceTest_WebGLReadPixelsTabSwitch_SoftwareCompositing [ Skip ]
[ chromeos ] TraceTest_RepeatedWebGLTo2D_SoftwareCompositing [ Skip ]
[ chromeos ] TraceTest_Canvas2DTabSwitch_SoftwareCompositing [ Skip ]
[ chromeos ] TraceTest_WebGLReadPixelsTabSwitch_SoftwareCompositing [ Skip ]
[ fuchsia ] TraceTest_RepeatedWebGLTo2D_SoftwareCompositing [ Skip ]
[ fuchsia ] TraceTest_Canvas2DTabSwitch_SoftwareCompositing [ Skip ]
[ fuchsia ] TraceTest_WebGLReadPixelsTabSwitch_SoftwareCompositing [ Skip ]

# Cannot use file in Chromium checkout for fake video capture device on Android,
# ChromeOS, or Fuchsia.
crbug.com/1129879 [ android ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]
crbug.com/1129879 [ chromeos ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]
crbug.com/1129879 [ fuchsia ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]

# WebGPU canvas capture hang on mac ASAN bot (also see crbug.com/1213170)
crbug.com/1345767 [ mac asan ] WebGPUTraceTest_WebGPUCanvasOneCopyCapture [ Skip ]
crbug.com/1345767 [ mac asan ] WebGPUTraceTest_WebGPUCanvasDisableOneCopyCapture* [ Skip ]

# Test is very slow and there's no point in running it as a trace test.
crbug.com/1356246 TraceTest_SVGHuge [ Skip ]

# This test was mainly meant to run as a pixel test, so skipping in this test suite.
OverlayModeTraceTest_MediaFoundationClearDirectComposition [ Skip ]
VideoPathTraceTest_MediaFoundationClearDirectComposition [ Skip ]

# WebGPU is only supported on Win10, Mac, and Linux+SkiaRenderer+Vulkan.
crbug.com/852089 [ linux ] WebGPUTraceTest_* [ Skip ]
crbug.com/852089 [ chromeos ] WebGPUTraceTest_* [ Skip ]
crbug.com/852089 [ fuchsia ] WebGPUTraceTest_* [ Skip ]
crbug.com/dawn/549 [ chromeos ] WebGPUCachingTraceTest_* [ Skip ]
crbug.com/dawn/549 [ fuchsia ] WebGPUCachingTraceTest_* [ Skip ]

# Linux, macOS < 11, and ChromeOS generic don't support HEVC decoding.
[ linux ] TraceTest_Video_HEVC [ Skip ]
[ highsierra ] TraceTest_Video_HEVC [ Skip ]
[ mojave ] TraceTest_Video_HEVC [ Skip ]
[ catalina ] TraceTest_Video_HEVC [ Skip ]
[ chromeos chromeos-board-amd64-generic ] TraceTest_Video_HEVC [ Skip ]

# Fuchsia astro doesn't support AV1 or HEVC.
[ fuchsia fuchsia-board-astro ] TraceTest_Video_AV1 [ Skip ]
[ fuchsia fuchsia-board-astro ] TraceTest_Video_HEVC [ Skip ]

###############################
# Temporary Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to be removable at some
# point. This is for things like tests that fail in a way that negatively and
# significantly impacts other tests, e.g. killing the test device.

crbug.com/1345777 [ android ] WebGLCanvasCaptureTraceTest_VideoStreamFromWebGLCanvas* [ Skip ]

crbug.com/852089 [ android ] WebGPUTraceTest_* [ Skip ]

# WebGPU caching is currently only supporting Win10 and Linux (without
# SkiaRenderer GL). (D3D12 and Vulkan). Android WebGPU support is a work in
# progress.
crbug.com/dawn/549 [ android ] WebGPUCachingTraceTest_* [ Skip ]
crbug.com/dawn/549 [ linux renderer-skia-gl ] WebGPUCachingTraceTest_* [ Skip ]
crbug.com/dawn/549 [ mac ] WebGPUCachingTraceTest_* [ Skip ]

# TODO(crbug.com/40145992): Remove these as the necessary driver is available on
# more hardware configs.
crbug.com/40145992 [ win intel-0x4680 ] TraceTest_MediaFoundationD3D11VideoCapture [ Skip ]
crbug.com/40145992 [ win nvidia ] TraceTest_MediaFoundationD3D11VideoCapture [ Skip ]
crbug.com/40145992 [ win qualcomm ] TraceTest_MediaFoundationD3D11VideoCapture [ Skip ]

crbug.com/364179193 [ linux ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]

###################
# Failures/Flakes #
###################
# Non-"Skip" expectations go here to suppress regular flakes/failures.

# WebGL's accelerated canvas capture is currently only supported on Win, Mac, ChromeOS.
crbug.com/1201009 [ linux ] WebGLCanvasCaptureTraceTest_VideoStreamFromWebGLCanvas_OneCopy [ Failure ]
crbug.com/1201009 [ linux ] WebGLCanvasCaptureTraceTest_VideoStreamFromWebGLCanvas_TwoCopy_Accelerated [ Failure ]
crbug.com/1201009 [ fuchsia ] WebGLCanvasCaptureTraceTest_VideoStreamFromWebGLCanvas_OneCopy [ Failure ]
crbug.com/1201009 [ fuchsia ] WebGLCanvasCaptureTraceTest_VideoStreamFromWebGLCanvas_TwoCopy_Accelerated [ Failure ]

# VP9 zero copy appears to be broken on newer driver versions.
crbug.com/329691945 [ win amd-0x7340 ] VideoPathTraceTest_DirectComposition_Video_VP9 [ Failure ]
crbug.com/329691945 [ win amd-0x7340 ] VideoPathTraceTest_DirectComposition_Video_VP9_Fullsize [ Failure ]
crbug.com/329691945 [ win amd-0x7340 ] VideoPathTraceTest_DirectComposition_Video_VP9_NV12 [ Failure ]

# Failures with SkiaGraphite
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatency2D [ Failure ]
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatency2DDrawImage [ Failure ]
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatency2DImageData [ Failure ]
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatencyWebGL [ Failure ]
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatencyWebGLAlphaFalse [ Failure ]
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatencyWebGLDrawImage [ Failure ]
crbug.com/329138770 [ win graphite-enabled ] SwapChainTraceTest_CanvasLowLatencyWebGLRoundedCorners [ Failure ]
crbug.com/329138770 [ graphite-enabled release-x64 win10 ] WebGPUCachingTraceTest_ComputePipelineCrossOriginsCacheMisses [ Failure ]
crbug.com/329138770 [ graphite-enabled release-x64 win10 ] WebGPUCachingTraceTest_ComputePipelineDifferentOrigins [ Failure ]
crbug.com/329138770 [ graphite-enabled release-x64 win10 ] WebGPUCachingTraceTest_ComputePipelineIncognito [ Failure ]
crbug.com/329138770 [ graphite-enabled release-x64 win10 ] WebGPUCachingTraceTest_RenderPipelineCrossOriginsCacheMisses [ Failure ]
crbug.com/329138770 [ graphite-enabled release-x64 win10 ] WebGPUCachingTraceTest_RenderPipelineDifferentOrigins [ Failure ]
crbug.com/329138770 [ graphite-enabled release-x64 win10 ] WebGPUCachingTraceTest_RenderPipelineIncognito [ Failure ]

# Fail or flaky on Windows and Linux. Flaky timeout on Mac.
crbug.com/371949935 [ graphite-disabled win10 ] TraceTest_ViewTransitionsCapture [ Failure ]
crbug.com/371949935 [ graphite-enabled intel-0x4680 no-clang-coverage release-x64 target-cpu-64 win10 ] TraceTest_ViewTransitionsCapture [ Failure ]
crbug.com/371949935 [ graphite-enabled no-clang-coverage qualcomm-0x41333430 release target-cpu-64 win11 ] TraceTest_ViewTransitionsCapture [ Failure ]
crbug.com/371949935 [ linux renderer-skia-gl ] TraceTest_ViewTransitionsCapture [ Failure ]
crbug.com/371949935 [ mac ] TraceTest_ViewTransitionsCapture [ Failure ]

#######################################################################
# Automated Entries After This Point - Do Not Manually Add Below Here #
#######################################################################
