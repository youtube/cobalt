<!doctype html>
<style>
body, table, tbody {
  contain: size layout;
}
</style>
<script src="../../resources/check-layout.js"></script>
<script src="../../resources/run-after-layout-and-paint.js"></script>
<script type="text/javascript">
    function reparentRow() {
        document.getElementById("table2").appendChild(document.getElementById("row"));
        checkLayout("#table2");
    }
    runAfterLayoutAndPaint(reparentRow, true);
</script>
<p>This shouldn't crash and there should be a green square.</p>
<table>
  <tr id="row"><td style="height:50px;width:50px;background:green" data-expected-width=16 data-expected-height=16></td></tr>
</table>
<table id="table2" style="height:20px;width:20px">
</table>
