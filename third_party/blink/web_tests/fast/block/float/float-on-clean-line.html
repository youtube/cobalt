<!DOCTYPE html>
<style>
    img { padding-right: 100%; height: 20px; }
    source { padding-right: 1px; }
    img:nth-child(odd) { width: 5px; }
    #area { float: right; width: 10px; }
</style>
<script src="../../../resources/check-layout.js"></script>
<script>
function boom() {
    firstdiv = document.createElement('div');
    document.body.appendChild(firstdiv);
    firstdiv.setAttribute("id", "first");
    firstdiv.setAttribute("data-expected-height", "0");

    seconddiv = document.createElement('div');
    document.body.appendChild(seconddiv);

    img = document.createElement('img');
    document.body.appendChild(img);

    div = document.createElement('div');
    div.setAttribute('id', 'area');
    document.body.appendChild(div);

    source = document.createElement('source');
    document.body.appendChild(source);

    document.body.offsetTop;
    document.body.removeChild(seconddiv);
    checkLayout('#first')
}
window.onload = boom;
</script>
<!-- crbug.com/492918 : Floats on clean lines should stay with them. -->
