<!DOCTYPE html>
<html>
<script src="../resources/text-based-repaint.js"></script>
<body onload="runRepaintAndPixelTest()">
  You should see the text 'after' in the inner box with no mangled pixels.
  <div id="parent" style="position:absolute; width:300px; height:300px; overflow:hidden; border: solid 1px red">
    <div style="position:absolute; width:100px; height:100px; left:100px; top:100px; border:solid 1px green; overflow:hidden">
      <div id="target" style="width:50px; height:50px">before</div>
    </div>
    <div style="width:1000px; height:1000px;"></div>
  </div>
</body>
<script>
  parent = document.getElementById('parent');
  parent.scrollTop = 10;
  parent.scrollLeft = 10;

  function repaintTest() {
    document.getElementById('target').firstChild.data = 'after';
  }
</script>
</html>
