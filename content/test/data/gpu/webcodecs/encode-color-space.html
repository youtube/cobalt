<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!--
Encodes two I420 frames and checks that output color space is changed to Rec709.
Then encodes two RGBA frame w/ Rec601 colors and checks that the output color
space is changed to Rec601, and that a key frame is generated alongside the
change. It then verifies the decoded bitstream has the proper color information.

The spec doesn't mandate any particular output color space, so this just checks
that our internal behavior is surfaced correctly. A key frame is expected when
color space changes to mirror the our decoder requirement to provide a key frame
whenever VideoDecoderConfig changes.
-->
<html>

<head>
  <title>Encode color space test</title>
  <script src="webcodecs_common.js"></script>
  <script src="encode-color-space.js"></script>
  <script type="text/javascript">
    addManualTestButton([
      {'codec': 'avc1.42001E', 'acceleration':'prefer-software'},
      {'codec': 'avc1.42001E', 'acceleration':'prefer-hardware'},
    ]);
  </script>
  <textarea style="width: 100%; height: 300px;" readonly></textarea>
</head>

<body>
</body>

</html>
