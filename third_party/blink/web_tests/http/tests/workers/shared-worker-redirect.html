<body>
<p>Test that loading the shared worker's script does not allow a cross origin redirect (<a href="https://bugs.webkit.org/show_bug.cgi?id=26146">bug 26146</a>)</p>
<div id=result></div>
<script>
function createWorker(url)
{
    var worker = new SharedWorker(url, url);
    worker.port.onmessage = function(evt) { worker.onmessage(evt); };
    worker.postMessage = function(msg, port) { worker.port.postMessage(msg, port); };
    return worker;
}
</script>
<script src="resources/worker-redirect.js"></script>
</body>
