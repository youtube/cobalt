<style include="settings-shared"></style>

<os-settings-animated-pages id="pages" section="crostini"
    focus-config="[[focusConfig_]]">
  <div route-path="default">
    <div id="crostini" class="settings-box two-line first"
        actionable$="[[prefs.crostini.enabled.value]]"
        on-click="onSubpageClick_">
      <div class="start">
        $i18n{crostiniPageLabel}
        <div class="secondary" id="secondaryText">
          <template is="dom-if" if="[[showCrostini]]" restamp>
            <localized-link
                localized-string="[[i18nAdvanced('crostiniSubtext')]]">
            </localized-link>
          </template>
          <template is="dom-if" if="[[!showCrostini]]" restamp>
            <localized-link localized-string="[[i18nAdvanced(
                'crostiniSubtextNotSupported')]]">
            </localized-link>
          </template>
        </div>
      </div>
      <template is="dom-if" if="[[showCrostini]]" restamp>
        <template is="dom-if" if="[[!allowCrostini]]" restamp>
          <cr-policy-indicator indicator-type="userPolicy">
          </cr-policy-indicator>
        </template>
      </template>
      <template is="dom-if" if="[[prefs.crostini.enabled.value]]">
        <cr-icon-button class="subpage-arrow"
            aria-label="$i18n{crostiniPageTitle}"
            aria-describedby="secondaryText"
            aria-roledescription="$i18n{subpageArrowRoleDescription}">
        </cr-icon-button>
      </template>
      <template is="dom-if" if="[[!prefs.crostini.enabled.value]]">
        <div class="separator"></div>
        <cr-button id="enable"
            disabled$="[[disableCrostiniInstall_]]"
            on-click="onEnableClick_"
            aria-describedby="secondaryText"
            deep-link-focus-id$="[[Setting.kSetUpCrostini]]">
          $i18n{crostiniEnable}
        </cr-button>
      </template>
    </div>

    <template is="dom-if" if="[[showBruschetta_]]">
      <div id="bruschetta" class="settings-box two-line"
          actionable$="[[prefs.bruschetta.installed.value]]"
          on-click="onBruschettaSubpageClick_">
        <div class="start">
          $i18n{bruschettaPageLabel}
          <div class="secondary" id="secondaryText">
            <localized-link
                localized-string="[[i18nAdvanced('bruschettaSubtext')]]">
            </localized-link>
          </div>
        </div>
        <template is="dom-if" if="[[prefs.bruschetta.installed.value]]">
          <cr-icon-button class="subpage-arrow"
              aria-label="$i18n{bruschettaPageLabel}"
              aria-describedby="secondaryText"
              aria-roledescription="$i18n{subpageArrowRoleDescription}">
          </cr-icon-button>
        </template>
        <template is="dom-if" if="[[!prefs.bruschetta.installed.value]]">
          <div class="separator"></div>
          <cr-button id="enable"
              on-click="onBruschettaEnableClick_"
              aria-describedby="secondaryText">
            $i18n{bruschettaEnable}
          </cr-button>
        </template>
      </div>
    </template>
  </div>

  <template is="dom-if" route-path="/crostini/details">
    <os-settings-subpage page-title="$i18n{crostiniPageLabel}">
      <settings-crostini-subpage prefs="{{prefs}}">
      </settings-crostini-subpage>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/crostini/androidAdb">
    <os-settings-subpage page-title="$i18n{crostiniArcAdbTitle}">
      <settings-crostini-arc-adb prefs="{{prefs}}">
      </settings-crostini-arc-adb>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/crostini/portForwarding">
    <os-settings-subpage page-title="$i18n{crostiniPortForwarding}">
      <settings-crostini-port-forwarding prefs="{{prefs}}">
      </settings-crostini-port-forwarding>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/crostini/exportImport">
    <os-settings-subpage page-title="$i18n{crostiniExportImportTitle}">
      <settings-crostini-export-import prefs="{{prefs}}">
      </settings-crostini-export-import>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/crostini/sharedPaths">
    <os-settings-subpage page-title="$i18n{guestOsSharedPaths}">
      <settings-guest-os-shared-paths
          guest-os-type="crostini" prefs="{{prefs}}">
      </settings-guest-os-shared-paths>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/crostini/sharedUsbDevices">
    <os-settings-subpage page-title="$i18n{guestOsSharedUsbDevicesLabel}">
      <settings-crostini-shared-usb-devices>
      </settings-crostini-shared-usb-devices>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/crostini/extraContainers">
    <os-settings-subpage page-title="$i18n{crostiniExtraContainersLabel}">
      <settings-crostini-extra-containers guest-os-type="crostini">
      </settings-crostini-extra-containers>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/bruschetta/details">
    <os-settings-subpage page-title="$i18n{bruschettaPageLabel}">
      <settings-bruschetta-subpage prefs="[[prefs]]">
      </settings-bruschetta-subpage>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/bruschetta/sharedUsbDevices">
    <os-settings-subpage page-title="$i18n{guestOsSharedUsbDevicesLabel}">
      <settings-guest-os-shared-usb-devices guest-os-type="bruschetta">
      </settings-guest-os-shared-usb-devices>
    </os-settings-subpage>
  </template>

  <template is="dom-if" route-path="/bruschetta/sharedPaths">
    <os-settings-subpage page-title="$i18n{guestOsSharedPaths}">
      <settings-guest-os-shared-paths
          guest-os-type="bruschetta" prefs="[[prefs]]">
      </settings-guest-os-shared-paths>
    </os-settings-subpage>
  </template>
</os-settings-animated-pages>

