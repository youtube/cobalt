<html>
<head>
<script src="resources/navigator-plugins.js"></script>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

function log(s) {
    document.getElementById("console").appendChild(document.createTextNode(s + "\n"));
}

window.onmessage = function(event) {
    if (pluginDataAsString() !== event.data)
        log("FAIL: mismatch in plugin data.  The frame's data is " + event.data + " but the parent's data is " + pluginDataAsString());
    else
        log("PASS");
    if (window.testRunner)
        testRunner.notifyDone();
}

</script>
<body>
    This test checks whether navigator.plugins and navigator.mimeTypes work from a cross-site iframe.
    <iframe name="child" src="http://localhost:8000/plugins/resources/navigator-plugins-frame.html"></iframe>
    <div id="console"></div>
</body>
</html>
