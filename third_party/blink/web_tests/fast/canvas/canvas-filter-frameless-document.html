<script>
if (window.testRunner)
    testRunner.dumpAsText();

var canvas1 = document.createElement('canvas');
var ctx1 = canvas1.getContext('2d');
var htmlDoc = document.implementation.createHTMLDocument('', '', null);
htmlDoc.adoptNode(canvas1);
var canvas2 = htmlDoc.createElement('canvas');
var ctx2 = canvas2.getContext('2d');

ctx1.filter = 'drop-shadow(1em 0.5em black)';
ctx2.filter = 'drop-shadow(1em 0.5em black)';
ctx1.fillRect(25, 25, 50, 40);
ctx2.fillRect(25, 25, 50, 40);
</script>
This test passes if it doesn't crash.
