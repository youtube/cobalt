<!DOCTYPE HTML>
<html>
<script src="../resources/text-based-repaint.js"></script>
<script>
window.testIsAsync = true;
window.onload = runRepaintAndPixelTest;

function repaintTest() {
  setTimeout(function() {
   document.getElementById('t').setAttribute("stroke", "blue");
   document.getElementById('t').setAttribute("vector-effect", "non-scaling-stroke");
   document.getElementById('t').setAttribute("stroke-width", "8");
    requestAnimationFrame(function() {
      if (window.testRunner)
        finishRepaintTest();
    });
  }, 0);
};
</script>
<body>
<svg>
    <g transform="scale(0.5 0.5)">
       <text id="t" x="10" y="50" stroke="none" stroke-width="2" fill="none" font-size="36" vector-effect="none" text-decoration="underline">Hello</text>
    </g>
</svg>
</body>
</html>
