# Copyright 2021 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//ui/webui/resources/tools/build_webui.gni")

build_webui("build") {
  grd_prefix = "attribution_internals"

  static_files = [
    "attribution_internals.html",
    "attribution_internals.css",
  ]

  non_web_component_files = [
    "attribution_internals.ts",
    "table_model.ts",
  ]

  web_component_files = [ "attribution_internals_table.ts" ]

  ts_deps = [
    "//ui/webui/resources/cr_elements:build_ts",
    "//ui/webui/resources/js:build_ts",
    "//ui/webui/resources/mojo:build_ts",
  ]

  attribution_reporting_component_folder = "components/attribution_reporting"
  attribution_reporting_content_folder = "content/browser/attribution_reporting"
  network_folder = "services/network/public/mojom"
  aggregation_service_folder = "components/aggregation_service"

  mojo_files = [
    "$root_gen_dir/$aggregation_service_folder/aggregation_service.mojom-webui.ts",
    "$root_gen_dir/$attribution_reporting_component_folder/registration.mojom-webui.ts",
    "$root_gen_dir/$attribution_reporting_component_folder/source_registration_error.mojom-webui.ts",
    "$root_gen_dir/$attribution_reporting_component_folder/source_type.mojom-webui.ts",
    "$root_gen_dir/$attribution_reporting_content_folder/attribution_internals.mojom-webui.ts",
    "$root_gen_dir/$attribution_reporting_content_folder/attribution_reporting.mojom-webui.ts",
    "$root_gen_dir/$attribution_reporting_content_folder/store_source_result.mojom-webui.ts",
    "$root_gen_dir/$network_folder/schemeful_site.mojom-webui.ts",
    "$root_gen_dir/$network_folder/attribution.mojom-webui.ts",
  ]

  mojo_files_deps = [
    "//$aggregation_service_folder:mojom_ts__generator",
    "//$attribution_reporting_component_folder:mojom_ts__generator",
    "//$attribution_reporting_component_folder:registration_mojom_ts__generator",
    "//$attribution_reporting_component_folder:source_type_mojom_ts__generator",
    "//$attribution_reporting_content_folder:internals_mojo_bindings_ts__generator",
    "//$attribution_reporting_content_folder:mojo_bindings_ts__generator",
    "//$attribution_reporting_content_folder:store_source_result_mojom_ts__generator",
    "//$network_folder:mojom_attribution_ts__generator",
    "//$network_folder:mojom_schemeful_site_ts__generator",
  ]

  grit_output_dir = "$root_gen_dir/content"
  html_to_wrapper_template = "native"
}
