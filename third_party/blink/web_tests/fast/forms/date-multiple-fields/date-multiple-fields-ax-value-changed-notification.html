<!DOCTYPE html>
<html>
<head>
  <script src="../../../resources/testharness.js"></script>
  <script src="../../../resources/testharnessreport.js"></script>
  <script src="../resources/multiple-fields-ax-value-changed-notification-helper.js"></script>
</head>
<body>
<input id="test" type="date" value="2012-10-09">
<script>

async_test((t) => {
    var testInput = document.getElementById("test");

    var listener = new TestAccessibilityControllerNotificationListener(t);
    listener.queueExpectedNotification("Focus", "Month", "10", "\t");
    listener.queueExpectedNotification("Focus", "Day", "09", "4");
    listener.queueExpectedNotification("Focus", "Year", "2012", "ArrowUp");
    listener.queueExpectedNotification("ValueChanged", "Day", "04");
    listener.queueExpectedNotification("ValueChanged", "Year", "2013");

    testInput.focus();

    window.setTimeout(function() {
        assert_unreached("Did not receive all accessibility notifications");
        t.done();
    }, 500);
}, 'This test checks value changed accessibility notifications.');

</script>
</body>
</html>
