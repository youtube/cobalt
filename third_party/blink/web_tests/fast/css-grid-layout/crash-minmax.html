<!DOCTYPE html>
<title>Test for grid crash with side effects</title>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="resources/grid-definitions-parsing-utils.js"></script>

<div style="display: flex; font-size: 100px;">
  <div style="display: grid; grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);" id="item">
    <iframe style="width: 100%; height: 100%;"></iframe>
    <div style="display: flex;">
      <div style="overflow-y: auto;">
        <div style="height: 100%; width: 800px;">
          <div style="height: 100%; padding: 100px;">Text</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
 test(function() {
     testGridPositionDefinitionsValues(document.getElementById("item"), "auto", "auto", "auto", "auto");
 }, "Test that setting and getting grid-template-columns with side effects does not make the renderer crash.");
</script>
