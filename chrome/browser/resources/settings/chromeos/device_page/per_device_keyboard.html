<style include="settings-shared"></style>
<template is="dom-if" if="[[!hasKeyboards(keyboards.length)]]">
  <div id="noKeyboardsConnectedContainer">
    <div class="settings-box first">
      <div class="start">
        <span id="noKeyboardsConnectedMessage">
          $i18n{noKeyboardsConnected}
        </span>
      </div>
    </div>
  </div>
</template>
<template is="dom-if" if="[[hasKeyboards(keyboards.length)]]">
  <template is="dom-repeat" items="[[keyboards]]"
      as="keyboard" index-as="index" restamp>
    <settings-per-device-keyboard-subsection
        keyboard="[[keyboard]]"
        keyboard-policies="[[keyboardPolicies]]"
        keyboard-index="[[index]]">
    </settings-per-device-keyboard-subsection>
  </template>
</template>
<settings-toggle-button class="hr"
    pref="{{prefs.settings.language.xkb_auto_repeat_enabled_r2}}"
    label="$i18n{keyboardEnableAutoRepeat}"
    deep-link-focus-id$="[[Setting.kKeyboardAutoRepeat]]">
</settings-toggle-button>
<iron-collapse
    opened="[[prefs.settings.language.xkb_auto_repeat_enabled_r2.value]]">
  <div class="settings-box continuation embedded">
    <div class="start" id="repeatDelayLabel" aria-hidden="true">
      $i18n{keyRepeatDelay}
    </div>
    <settings-slider id="delaySlider"
        pref="{{prefs.settings.language.xkb_auto_repeat_delay_r2}}"
        ticks="[[autoRepeatDelays]]"
        disabled="[[!prefs.settings.language.xkb_auto_repeat_enabled_r2.value]]"
        label-aria="$i18n{keyRepeatDelay}"
        label-min="$i18n{keyRepeatDelayLong}"
        label-max="$i18n{keyRepeatDelayShort}">
    </settings-slider>
  </div>
  <div class="settings-box continuation embedded">
    <div class="start" id="repeatRateLabel" aria-hidden="true">
      $i18n{keyRepeatRate}
    </div>
    <settings-slider id="repeatRateSlider"
        pref="{{prefs.settings.language.xkb_auto_repeat_interval_r2}}"
        ticks="[[autoRepeatIntervals]]"
        disabled="[[!prefs.settings.language.xkb_auto_repeat_enabled_r2.value]]"
        label-aria="$i18n{keyRepeatRate}"
        label-min="$i18n{keyRepeatRateSlow}"
        label-max="$i18n{keyRepeatRateFast}">
    </settings-slider>
  </div>
</iron-collapse>
<cr-link-row id="keyboardShortcutViewer" class="hr"
    on-click="onShowKeyboardShortcutViewerTap"
    label="$i18n{showKeyboardShortcutViewer}"
    external
    deep-link-focus-id$="[[Setting.kKeyboardShortcuts]]">
</cr-link-row>
<cr-link-row id="showLanguagesInput"
    class="hr" on-click="onShowInputSettingsTap"
    label="$i18n{keyboardShowInputSettings}"
    role-description="$i18n{subpageArrowRoleDescription}">
</cr-link-row>
