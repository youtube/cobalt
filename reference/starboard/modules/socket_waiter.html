<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Starboard Module Reference: socket_waiter.h</title>

            <!-- Webfont -->
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    
    <!-- Material Design Lite -->
    <link href="/cobalt/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/cobalt/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/cobalt/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/cobalt/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/cobalt/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/cobalt/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/cobalt/js/common.js" type="text/javascript" charset="utf-8"></script>

    <!-- metadata -->
    <meta name="og:title" content="Cobalt / "/>
    <meta name="og:image" content="/cobalt/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
  </head>
  <body class="" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>
    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">
        <img class="logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
      <li><a href="/cobalt/starboard/porting.html">Porters</a></li>
      <li><a href="/cobalt/development/quick-start.html">Developers</a></li>
      <li><a href="/cobalt/contributors/index.html">Contributors</a></li>
      <li><a href="https://cobalt.googlesource.com/cobalt"><i class="fa fa-github"></i> Code Repo</a></li>
      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
  

<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>
    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: socket_waiter.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>This module allows a thread to wait on many sockets at once. The standard
usage pattern would be for a single I/O thread to:
<ol><li>Create its own SbSocketWaiter.
</li><li>Wait on the SbSocketWaiter, indefinitely if no scheduled tasks, or timed
if there are scheduled future tasks.
</li><li>While waiting, the SbSocketWaiter will call back to service ready
SbSockets.
</li><li>Wake up, if signaled to do so.
</li><li>If ready to exit, go to 7.
</li><li>Add and remove SbSockets to and from the SbSocketWaiter, and go to 2.
</li><li>Destroy its SbSocketWaiter and exit.</li></ol>
If another thread wants to queue immediate or schedule future work on the I/O
thread, it needs to call SbSocketWaiterWakeUp() on the SbSocketWaiter after
queuing the work item, or the SbSocketWaiter is not otherwise guaranteed to
wake up.</p>

<h2 id="enums">Enums</h2>

<h3 id="sbsocketwaiterinterest">SbSocketWaiterInterest</h3>

<p>All the interests that a socket may register for on a waiter.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbSocketWaiterInterestNone</code> -  No interests whatsoever.</li>
<li>  <code class="prettyprint">kSbSocketWaiterInterestRead</code> - An interest in or readiness to read from a socket without blocking.</li>
<li>  <code class="prettyprint">kSbSocketWaiterInterestWrite</code> - An interest in or readiness to write to a socket without blocking.</li>
</ul>

<h3 id="sbsocketwaiterresult">SbSocketWaiterResult</h3>

<p>Possible reasons why a call to SbSocketWaiterWaitTimed returned.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbSocketWaiterResultInvalid</code> -  The wait didn&#39;t block because the waiter was invalid.</li>
<li>  <code class="prettyprint">kSbSocketWaiterResultTimedOut</code> - The wait stopped because the timeout expired.</li>
<li>  <code class="prettyprint">kSbSocketWaiterResultWokenUp</code> - The wait stopped because a call to SbSocketWaiterWakeUp was consumed.</li>
</ul>

<h2 id="structs">Structs</h2>

<h3 id="sbsocketwaiterprivate">SbSocketWaiterPrivate</h3>

<p>Private structure representing a waiter that can wait for many sockets at
once on a single thread.</p>

<h2 id="functions">Functions</h2>

<h3 id="sbsocketwaiteradd">SbSocketWaiterAdd</h3>

<p><strong>Description</strong></p>

<p>Adds a new socket to be waited on by the <code class="prettyprint">waiter</code> with a bitfield of
<code class="prettyprint">interests</code>. This function should only be called on the thread that
waits on this waiter.<br>
If <code class="prettyprint">socket</code> is already registered with this or another waiter, the function
does nothing and returns <code class="prettyprint">false</code>. The client must remove the socket and then
add it back with the new <code class="prettyprint">interests</code>.<br>
If the <code class="prettyprint">socket</code> is already ready for one or more of the operations set
in the <code class="prettyprint">interests</code> mask, then the callback will be called on the next call
to either <code><a href="#sbsocketwaiterwait">SbSocketWaiterWait()</a></code> or <code><a href="#sbsocketwaiterwait">SbSocketWaiterWait</a></code>Timed().<br></li></ul></p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterAdd-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterAdd-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterAdd-declaration">
<pre>
SB_EXPORT bool SbSocketWaiterAdd(SbSocketWaiter waiter,
                                 SbSocket socket,
                                 void* context,
                                 SbSocketWaiterCallback callback,
                                 int interests,
                                 bool persistent);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterAdd-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

bool SbSocketWaiterAdd(SbSocketWaiter /*waiter*/,
                       SbSocket /*socket*/,
                       void* /*context*/,
                       SbSocketWaiterCallback /*callback*/,
                       int /*interests*/,
                       bool /*persistent*/) {
  return false;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code><br>        <code>waiter</code></td>
    <td>An SbSocketWaiter that waits on the socket for the specified set
of operations (<code>interests</code>).</td>
  </tr>
  <tr>
    <td><code>SbSocket</code><br>        <code>socket</code></td>
    <td>The socket on which the waiter waits.</td>
  </tr>
  <tr>
    <td><code>void*</code><br>        <code>context</code></td>
    <td></td>
  </tr>
  <tr>
    <td><code>SbSocketWaiterCallback</code><br>        <code>callback</code></td>
    <td>The function that is called when the event fires. The <code>waiter</code>,
<code>socket</code>, <code>context</code> are all passed to the callback, along with a bitfield
of <code>interests</code> that the socket is actually ready for.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>interests</code></td>
    <td>A bitfield that identifies operations for which the socket is
waiting.</td>
  </tr>
  <tr>
    <td><code>bool</code><br>        <code>persistent</code></td>
    <td>Identifies the procedure that will be followed for removing
the socket:
<ul><li>If <code>persistent</code> is <code>true</code>, then <code>socket</code> stays registered with <code>waiter</code>
until <code><a href="#sbsocketwaiterremove">SbSocketWaiterRemove()</a></code> is called with <code>waiter</code> and <code>socket</code>.
</li><li>If <code>persistent</code> is <code>false</code>, then <code>socket</code> is removed after the next call
to <code>callback</code>, even if not all registered <code>interests</code> became ready.</td>
  </tr>
</table>

<h3 id="sbsocketwaitercreate">SbSocketWaiterCreate</h3>

<p><strong>Description</strong></p>

<p>The results of two threads waiting on the same waiter is undefined and will
not work. Except for the <code><a href="#sbsocketwaiterwakeup">SbSocketWaiterWakeUp()</a></code> function, SbSocketWaiters
are not thread-safe and don&#39;t expect to be modified concurrently.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterCreate-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterCreate-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterCreate-declaration">
<pre>
SB_EXPORT SbSocketWaiter SbSocketWaiterCreate();
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterCreate-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

SbSocketWaiter SbSocketWaiterCreate() {
  return kSbSocketWaiterInvalid;
}
</code></pre></div>
<p></div>
</div></p>

<h3 id="sbsocketwaiterdestroy">SbSocketWaiterDestroy</h3>

<p><strong>Description</strong></p>

<p>Destroys a socket waiter and removes all sockets still registered by way of
SbSocketWaiterAdd. This function may be called on any thread as long as
there is no risk of concurrent access to the waiter.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterDestroy-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterDestroy-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterDestroy-declaration">
<pre>
SB_EXPORT bool SbSocketWaiterDestroy(SbSocketWaiter waiter);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterDestroy-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

bool SbSocketWaiterDestroy(SbSocketWaiter /*waiter*/) {
  return false;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code><br>        <code>waiter</code></td>
    <td>The SbSocketWaiter to be destroyed.</td>
  </tr>
</table>

<h3 id="sbsocketwaiterisvalid">SbSocketWaiterIsValid</h3>

<p><strong>Description</strong></p>

<p>Returns whether the given socket handle is valid.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">static SB_C_INLINE bool SbSocketWaiterIsValid(SbSocketWaiter watcher) {
  return watcher != kSbSocketWaiterInvalid;
}
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code></td>
    <td><code>watcher</code></td>
  </tr>
</table>

<h3 id="sbsocketwaiterremove">SbSocketWaiterRemove</h3>

<p><strong>Description</strong></p>

<p>Removes a socket, previously added with <code><a href="#sbsocketwaiteradd">SbSocketWaiterAdd()</a></code> from a waiter.
This function should only be called on the thread that waits on this waiter.<br>
The return value indicates whether the waiter still waits on the socket.
If <code class="prettyprint">socket</code> wasn&#39;t registered with <code class="prettyprint">waiter</code>, then the function is a no-op
and returns <code class="prettyprint">true</code>.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterRemove-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterRemove-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterRemove-declaration">
<pre>
SB_EXPORT bool SbSocketWaiterRemove(SbSocketWaiter waiter, SbSocket socket);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterRemove-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

bool SbSocketWaiterRemove(SbSocketWaiter /*waiter*/, SbSocket /*socket*/) {
  return false;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code><br>        <code>waiter</code></td>
    <td>The waiter from which the socket is removed.</td>
  </tr>
  <tr>
    <td><code>SbSocket</code><br>        <code>socket</code></td>
    <td>The socket to remove from the waiter.</td>
  </tr>
</table>

<h3 id="sbsocketwaiterwait">SbSocketWaiterWait</h3>

<p><strong>Description</strong></p>

<p>Waits on all registered sockets, calling the registered callbacks if and when
the corresponding sockets become ready for an interested operation. This
version exits only after <code><a href="#sbsocketwaiterwakeup">SbSocketWaiterWakeUp()</a></code> is called. This function
should only be called on the thread that waits on this waiter.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterWait-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterWait-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterWait-declaration">
<pre>
SB_EXPORT void SbSocketWaiterWait(SbSocketWaiter waiter);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterWait-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

void SbSocketWaiterWait(SbSocketWaiter /*waiter*/) {
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code><br>        <code>waiter</code></td>
    <td></td>
  </tr>
</table>

<h3 id="sbsocketwaiterwaittimed">SbSocketWaiterWaitTimed</h3>

<p><strong>Description</strong></p>

<p>Behaves similarly to <code><a href="#sbsocketwaiterwait">SbSocketWaiterWait()</a></code>, but this function also causes the
<code class="prettyprint">waiter</code> to exit on its own after at least <code class="prettyprint">duration</code> has passed if
SbSocketWaiterWakeUp() it not called by that time.<br>
The return value indicates the reason that the socket waiter exited.
This function should only be called on the thread that waits on this waiter.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterWaitTimed-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterWaitTimed-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterWaitTimed-declaration">
<pre>
SB_EXPORT SbSocketWaiterResult SbSocketWaiterWaitTimed(SbSocketWaiter waiter,
                                                       SbTime duration);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterWaitTimed-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

SbSocketWaiterResult SbSocketWaiterWaitTimed(SbSocketWaiter /*waiter*/,
                                             SbTime /*duration*/) {
  return kSbSocketWaiterResultInvalid;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code><br>        <code>waiter</code></td>
    <td></td>
  </tr>
  <tr>
    <td><code>SbTime</code><br>        <code>duration</code></td>
    <td>The minimum amount of time after which the socket waiter should
exit if it is not woken up before then. As with SbThreadSleep() (see
thread.h), this function may wait longer than <code>duration</code>, such as if the
timeout expires while a callback is being fired.</td>
  </tr>
</table>

<h3 id="sbsocketwaiterwakeup">SbSocketWaiterWakeUp</h3>

<p><strong>Description</strong></p>

<p>Wakes up <code class="prettyprint">waiter</code> once. This is the only thread-safe waiter function.
It can can be called from a SbSocketWaiterCallback to wake up its own waiter,
and it can also be called from another thread at any time. In either case,
the waiter will exit the next wait gracefully, first completing any
in-progress callback.<br>
Each time this function is called, it causes the waiter to wake up once,
regardless of whether the waiter is currently waiting. If the waiter is not
waiting, the function takes effect immediately the next time the waiter
waits. The number of wake-ups accumulates, and the queue is only consumed
as the waiter waits and then is subsequently woken up again. For example,
if you call this function 7 times, then <code><a href="#sbsocketwaiterwait">SbSocketWaiterWait()</a></code> and WaitTimed()
will not block the next 7 times they are called.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbSocketWaiterWakeUp-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbSocketWaiterWakeUp-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbSocketWaiterWakeUp-declaration">
<pre>
SB_EXPORT void SbSocketWaiterWakeUp(SbSocketWaiter waiter);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbSocketWaiterWakeUp-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/socket_waiter.h&quot;

void SbSocketWaiterWakeUp(SbSocketWaiter /*waiter*/) {
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbSocketWaiter</code><br>        <code>waiter</code></td>
    <td>The socket waiter to be woken up.</td>
  </tr>
</table>

        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    

<footer>
<div class="container">
    <div class="row">
        <div class="col-md-5 column-left">
    <span class="copyright-text">Â© Cobalt Team 2016</span>
        </div>
        <div class="col-md-2 column-middle">
  <img class="footer-logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt"/>
        </div>
        <div class="col-md-5 column-right">&nbsp;</div>
            </div>
</div>
</footer>

    
  </body>
</html>
