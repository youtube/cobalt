<!doctype html>
<script>
function test()
{
    if (window.testRunner) {
        testRunner.dumpAsText();
        testRunner.dumpNavigationPolicy();
        testRunner.waitUntilDone();

        var isMac = navigator.userAgent.search(/\bMac OS X\b/) != -1;
        var a = document.querySelector("#link");
        var evt = new MouseEvent("click", isMac ? { metaKey: true } : { ctrlKey: true });
        a.dispatchEvent(evt);
    }
}
</script>
<body onload="test()">
<p>Tests that synthesizing ctrl-click does not result in a new background tab.</p>
<a href="resources/notify-done.html" id="link">link</a>
</body>
