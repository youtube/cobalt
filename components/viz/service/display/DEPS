# Please consult components/viz/README.md about allowable dependencies.

include_rules = [
  "+base",
  "+cc/base",
  "+cc/benchmarks",
  "+cc/output",
  "+cc/resources",
  "+cc/scheduler",
  "+components/viz/service/performance_hint",
  "+components/viz/service/surfaces",
  "+components/viz/service/display_embedder/buffer_queue.h",
  "+components/viz/service/display_embedder/overlay_candidate_validator_android.h",
  "+components/viz/service/display_embedder/overlay_candidate_validator_mac.h",
  "+components/viz/service/display_embedder/overlay_candidate_validator_ozone.h",
  "+components/viz/service/display_embedder/overlay_candidate_validator_surface_control.h",
  "+components/viz/service/display_embedder/overlay_candidate_validator_win.h",
  "+components/viz/service/display_embedder/skia_output_surface_dependency.h",
  "+components/viz/common",
  "+gpu/command_buffer/client/client_shared_image.h",
  "+gpu/command_buffer/client/raster_interface.h",
  "+gpu/command_buffer/client/shared_image_interface.h",
  "+gpu/command_buffer/common",
  "+gpu/command_buffer/service",
  "+gpu/GLES2",
  "+gpu/config/gpu_finch_features.h",
  "+gpu/ipc/client/client_shared_image_interface.h",
  "+gpu/vulkan",
  "+media/base",
  "+media/filters/video_cadence_estimator.h",
  "+media/gpu/buildflags.h",
  "+mojo/public/cpp/system",
  "+skia",
  "+third_party/khronos",
  "+third_party/libyuv",
  "+third_party/skia",
  "+third_party/perfetto/protos/perfetto/trace/track_event",
  "+ui/display/display_features.h",
  "+ui/latency",
  "+ui/gfx/android/android_surface_control_compat.h",
  "+ui/gfx/hdr_metadata.h",
  "+ui/gfx/video_types.h",
  "+ui/gl/ca_renderer_layer_params.h",
  "+ui/gl/dc_layer_overlay_params.h",
  "+ui/gl/direct_composition_support.h",
  "+ui/gl/gl_fence.h",
  "+ui/gl/gl_utils.h",
  "+ui/gl/gl_surface.h",
  "+ui/gl/gpu_switching_manager.h",
  "+ui/gl/gpu_switching_observer.h",
  "+ui/gl/trace_util.h",
  "+gpu/ipc/common/vulkan_ycbcr_info.h",
  "+gpu/command_buffer/service/gpu_task_scheduler_helper.h",
  "+gpu/command_buffer/service/display_compositor_memory_and_task_controller_on_gpu.h",
  "+gpu/command_buffer/service/scheduler_sequence.h",
  "+gpu/command_buffer/service/shared_image_interface_in_process.h",
  "+gpu/command_buffer/service/shared_image_factory.h",
  "+gpu/command_buffer/service/shared_image_manager.h",
  "+gpu/config/gpu_driver_bug_workaround_type.h",
]

specific_include_rules = {
  # TODO(b/233667677): remove the overlay_processor_ozone.cc dependency on
  # ui/gl/gl_switches.h when the GL path can distinguish between BT.601 and
  # BT.709 YUV resources.
  "overlay_processor_ozone.cc": [
    # TODO(danakj): gl_switches.h brings runtime flags into the compositor which
    # makes testing coverage harder/less clear, it should not be here.
    "+ui/gl/gl_switches.h",
  ],
  "overlay_strategy_underlay_cast\.*" : [
    "+chromecast/media/service/mojom/video_geometry_setter.mojom.h",
    "+mojo/public",
  ],
  ".*_(unit|pixel|perf)test\.cc": [
    "+cc/test",
    "+components/viz/client",
    "+components/viz/service/display_embedder",
    "+components/viz/service/frame_sinks",
    "+components/viz/test",
    "+gpu/GLES2",
    "+media",
    "+third_party/libyuv",
    "+ui/gl/gl_implementation.h",
    "+third_party/zlib/google",
  ],
  "delegated_ink_point_renderer\.*" : [
    "+mojo/public/cpp/bindings",
  ],
  "viz_pixel_test\.(cc|h)": [
    "+components/viz/test",
  ],
  "output_surface\.h": [
    "+mojo/public/cpp/bindings/pending_receiver.h",
  ]
}
