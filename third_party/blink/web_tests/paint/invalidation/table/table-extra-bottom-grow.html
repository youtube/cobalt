<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http:/html4/strict.dtd">
<html lang="en">
<head>
<script src="../resources/text-based-repaint.js"></script>
<script>
    function repaintTest()
    {
        document.getElementById("t").style.height='100px';
    }
</script>
</head>
<body onload="runRepaintAndPixelTest();">
<p><b>BUG ID:</b> <a href="https://bugs.webkit.org/show_bug.cgi?id=6769">Bugzilla bug 6769</a> REGRESSION: Incomplete repaint when a cell's extra bottom margin grows</p>

<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b>
There should be only a green square below, and no red.
</p>

<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b> 
The lower-right quarter of the square will be red.
</p>

<table style="height: 100px; background: green;" cellspacing="0" cellpadding="0">
    <tr>
        <td style="height: 50px; width: 50px;" rowspan="2">
        </td>
        <td style="width: 50px; vertical-align: top; background: green; height: 50px;" id="t">
        </td>
    </tr>
    <tr>
        <td style="background: red;"></td>
    </tr>
</table>

</body>
</html>

