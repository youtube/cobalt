This is a testharness.js-based test.
FAIL Ensures depth data is not available when cleared in the controller, `gpu-optimized` - webgl promise_test: Unhandled rejection with value: "Session with params \"immersive-ar\" was rejected on device {\"supportedModes\":[\"immersive-ar\"],\"views\":[{\"eye\":\"left\",\"projectionMatrix\":[1,0,0,0,0,1,0,0,3,2,-1,-1,0,0,-0.2,0],\"viewOffset\":{\"position\":[-0.1,0,0],\"orientation\":[0,0,0,1]},\"resolution\":{\"width\":200,\"height\":200}},{\"eye\":\"right\",\"projectionMatrix\":[1,0,0,0,0,1,0,0,3,2,-1,-1,0,0,-0.2,0],\"viewOffset\":{\"position\":[0.1,0,0],\"orientation\":[0,0,0,1]},\"resolution\":{\"width\":200,\"height\":200}}],\"supportedFeatures\":[\"viewer\",\"local\",\"local-floor\",\"bounded-floor\",\"unbounded\",\"hit-test\",\"dom-overlay\",\"light-estimation\",\"anchors\",\"depth-sensing\",\"secondary-views\",\"camera-access\",\"layers\"],\"depthSensingData\":{\"depthData\":{\"0\":1,\"1\":0,\"2\":1,\"3\":0,\"4\":1,\"5\":0,\"6\":1,\"7\":0,\"8\":1,\"9\":0,\"10\":1,\"11\":0,\"12\":1,\"13\":0,\"14\":1,\"15\":0,\"16\":2,\"17\":0,\"18\":3,\"19\":0,\"20\":4,\"21\":0,\"22\":5,\"23\":0,\"24\":6,\"25\":0,\"26\":7,\"27\":0,\"28\":1,\"29\":0,\"30\":4,\"31\":0,\"32\":9,\"33\":0,\"34\":16,\"35\":0,\"36\":25,\"37\":0,\"38\":36,\"39\":0,\"40\":49,\"41\":0,\"42\":1,\"43\":0,\"44\":8,\"45\":0,\"46\":27,\"47\":0,\"48\":64,\"49\":0,\"50\":125,\"51\":0,\"52\":216,\"53\":0,\"54\":87,\"55\":1,\"56\":1,\"57\":0,\"58\":16,\"59\":0,\"60\":81,\"61\":0,\"62\":0,\"63\":1,\"64\":113,\"65\":2,\"66\":16,\"67\":5,\"68\":97,\"69\":9},\"width\":7,\"height\":5,\"normDepthBufferFromNormView\":{\"position\":[1,1,0],\"orientation\":[0,0,1,0]},\"rawValueToMeters\":0.01}} with error: NotSupportedError: The specified session configuration is not supported."
FAIL Ensures depth data is not available when cleared in the controller, `gpu-optimized` - webgl2 promise_test: Unhandled rejection with value: "Session with params \"immersive-ar\" was rejected on device {\"supportedModes\":[\"immersive-ar\"],\"views\":[{\"eye\":\"left\",\"projectionMatrix\":[1,0,0,0,0,1,0,0,3,2,-1,-1,0,0,-0.2,0],\"viewOffset\":{\"position\":[-0.1,0,0],\"orientation\":[0,0,0,1]},\"resolution\":{\"width\":200,\"height\":200}},{\"eye\":\"right\",\"projectionMatrix\":[1,0,0,0,0,1,0,0,3,2,-1,-1,0,0,-0.2,0],\"viewOffset\":{\"position\":[0.1,0,0],\"orientation\":[0,0,0,1]},\"resolution\":{\"width\":200,\"height\":200}}],\"supportedFeatures\":[\"viewer\",\"local\",\"local-floor\",\"bounded-floor\",\"unbounded\",\"hit-test\",\"dom-overlay\",\"light-estimation\",\"anchors\",\"depth-sensing\",\"secondary-views\",\"camera-access\",\"layers\"],\"depthSensingData\":{\"depthData\":{\"0\":1,\"1\":0,\"2\":1,\"3\":0,\"4\":1,\"5\":0,\"6\":1,\"7\":0,\"8\":1,\"9\":0,\"10\":1,\"11\":0,\"12\":1,\"13\":0,\"14\":1,\"15\":0,\"16\":2,\"17\":0,\"18\":3,\"19\":0,\"20\":4,\"21\":0,\"22\":5,\"23\":0,\"24\":6,\"25\":0,\"26\":7,\"27\":0,\"28\":1,\"29\":0,\"30\":4,\"31\":0,\"32\":9,\"33\":0,\"34\":16,\"35\":0,\"36\":25,\"37\":0,\"38\":36,\"39\":0,\"40\":49,\"41\":0,\"42\":1,\"43\":0,\"44\":8,\"45\":0,\"46\":27,\"47\":0,\"48\":64,\"49\":0,\"50\":125,\"51\":0,\"52\":216,\"53\":0,\"54\":87,\"55\":1,\"56\":1,\"57\":0,\"58\":16,\"59\":0,\"60\":81,\"61\":0,\"62\":0,\"63\":1,\"64\":113,\"65\":2,\"66\":16,\"67\":5,\"68\":97,\"69\":9},\"width\":7,\"height\":5,\"normDepthBufferFromNormView\":{\"position\":[1,1,0],\"orientation\":[0,0,1,0]},\"rawValueToMeters\":0.01}} with error: NotSupportedError: The specified session configuration is not supported."
Harness: the test ran to completion.

