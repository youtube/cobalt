<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Charsets and submitting forms</title>
</head>
<body>
<form action="?" name="f">
 <!-- This example comes from page 9 of the SBL Hebrew Font User Manual http://www.sbl-site.org/Fonts/SBLHebrewManualv1.5.pdf
      "The final four characters of this word are correctly encoded in the order lamed + patah + hiriq + final mem,
      and the word is correctly displayed ...; however,the faulty canonical combining classes
      for patah and hiriq in Unicode cause hiriq to always precede patah when reordering due to
      normalisation is applied. The resulting sequence lamed + hiriq + patah + final mem is both
      textually incorrect and cannot be correctly displayed by the SBL Hebrew font" -->
 <input type="hidden" name="q" value="&#1497;&#1456;&#1512;&#1493;&#1468;&#1513;&#1464;&#1473;&#1500;&#1463;&#1460;&#1501;" style="font: 40pt 'SBL Hebrew';"><br>
</form>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

if (document.URL.substring(0, 4) == "file") {

    if (document.URL.indexOf('?') == -1) {
        document.f.submit();

    } else {
        if (unescape(document.URL.substring(document.URL.indexOf('?') + 1, document.URL.length)) == unescape("q=%D7%99%D6%B0%D7%A8%D7%95%D6%BC%D7%A9%D6%B8%D7%81%D7%9C%D6%B7%D6%B4%D7%9D"))
            document.write("<p>Success</p>");
        else
            document.write("<p>Failure</p>");

        if (window.testRunner)
            testRunner.notifyDone();
    }

} else {

    document.write("<p>This test doesn't work directly from bugzilla, please save it to a local file first.</p>");
}
</script>
</body>
</html>
