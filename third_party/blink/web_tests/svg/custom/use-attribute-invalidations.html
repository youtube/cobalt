<!DOCTYPE HTML>
<html>
<body>
This test passes if there are three green squares below:<br>
<svg width="300" height="300">
  <defs>
    <symbol id="symbol" width="100">
      <rect width="100%" height="100%" fill="green"/>
    </symbol>
  </defs>
  <svg x="0" y="0" width="100" height="100">
    <use id="use1" xlink:href="#symbol"/>
  </svg>
  <use id="use2" xlink:href="#symbol" x="100" y="100" width="10" height="100"/>
  <use id="use3" xlink:href="#symbol" x="200" y="200" width="100" height="10"/>
</svg>
<script>
  onload = function() {
    // Wait until first layout is finished.
    window.requestAnimationFrame(function() {
      document.getElementById('use2').setAttribute('width', '100');
      document.getElementById('use3').removeAttribute('height');
    });
  }
</script>
</body>
</html>
