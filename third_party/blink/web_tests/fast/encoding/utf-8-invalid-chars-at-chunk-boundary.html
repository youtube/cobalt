<html>
<head>
<meta charset="UTF-8">
<script language="javascript" src="resources/utf-8-invalid-chars-at-chunk-boundary.js">
</script>
</head>

<body>
<p>Regression test for https://bugs.chromium.org/p/chromium/issues/detail?id=773320 - invalid byte sequences split between two chunks.</p>
<script>
  if (window.testRunner)
    testRunner.dumpAsText();

  document.write("Length: " + string_with_invalid_chars.length);
  for (let i = 0; i < string_with_invalid_chars.length; ++i) {
    document.write(" char: " + string_with_invalid_chars.charCodeAt(i));
  }
  document.write("<br>");
  document.write("Length: " + the_same_string_again.length);
  for (let i = 0; i < the_same_string_again.length; ++i) {
    document.write(" char: " + the_same_string_again.charCodeAt(i));
  }

</script>
</body>
</html>
