<!DOCTYPE html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<div id="outer">
  <div style="display: none">
    <span id=inner></span>
  </div>
</div>
<script>
test(() => {
    let style = getComputedStyle(inner);
    style.color;
    outer.style.display = 'inline';
    // Don't crash:
    outer.offsetTop;
}, 'Nodes with styles in display:none subtrees should not cause crash on reattach');
</script>
