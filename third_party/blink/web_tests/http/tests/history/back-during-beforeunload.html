<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
    testRunner.dumpBackForwardList();
}

window.onbeforeunload = function() {
    history.back();
    if (window.testRunner)
        testRunner.notifyDone();
};

scheduleTimeout = function() {
    setTimeout(function() {
        history.pushState("", "", "#");
        location = "we-wont-actually-go-here.html";
    }, 1);
};
</script>
<body onload="scheduleTimeout();">
Ensure we ignore back/forward navigations during beforeunload.
</body>
