<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<img class="img" src="">
<script>
promise_test(() => {
  return new Promise(resolve => {
    window.addEventListener('load', resolve);
  }).then(() => {
    document.cloneNode(true);
  });
}, 'document.cloneNode with non-existing img should not cause memory leak.');
</script>
