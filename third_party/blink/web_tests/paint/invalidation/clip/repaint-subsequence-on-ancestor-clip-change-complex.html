<!DOCTYPE html>
<script src="../../../resources/run-after-layout-and-paint.js"></script>
<script>
onload = function() {
  runAfterLayoutAndPaint(function() {
    container.style.width = '200px';
  }, true);
};
</script>
Tests repaint of subsequences when a non-stacking-context ancestor's clip changes.
Passes if the text is clipped at the yellow background.
<div id="container" style="overflow: hidden; background-color: yellow">
  <div style="display: inline-block;">
    <div style="width: 500px">
      <div style="z-index: 2; position: relative">
        <span style="display: inline-block; visibility: hidden; opacity: .6; width: 10px"></span>
        Should be clipped: ABCDEFGHIJKLMNOPQRSTUVWXYZ
      </div>
    </div>
  </div>
</div>
