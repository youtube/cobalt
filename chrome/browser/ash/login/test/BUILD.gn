# Copyright 2024 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chromeos/ui_mode.gni")

assert(is_chromeos_ash)

static_library("test_support") {
  testonly = true

  sources = [
    "auth_ui_utils.cc",
    "auth_ui_utils.h",
    "composite_waiter.cc",
    "composite_waiter.h",
    "cryptohome_mixin.cc",
    "cryptohome_mixin.h",
    "device_state_mixin.cc",
    "device_state_mixin.h",
    "dialog_window_waiter.cc",
    "dialog_window_waiter.h",
    "embedded_test_server_setup_mixin.cc",
    "embedded_test_server_setup_mixin.h",
    "enrollment_helper_mixin.cc",
    "enrollment_helper_mixin.h",
    "enrollment_ui_mixin.cc",
    "enrollment_ui_mixin.h",
    "fake_arc_tos_mixin.cc",
    "fake_arc_tos_mixin.h",
    "fake_eula_mixin.cc",
    "fake_eula_mixin.h",
    "fake_recovery_service_mixin.cc",
    "fake_recovery_service_mixin.h",
    "feature_parameter_interface.h",
    "gaia_page_event_waiter.cc",
    "gaia_page_event_waiter.h",
    "guest_session_mixin.cc",
    "guest_session_mixin.h",
    "js_checker.cc",
    "js_checker.h",
    "local_state_mixin.cc",
    "local_state_mixin.h",
    "logged_in_user_mixin.cc",
    "logged_in_user_mixin.h",
    "login_manager_mixin.cc",
    "login_manager_mixin.h",
    "login_or_lock_screen_visible_waiter.cc",
    "login_or_lock_screen_visible_waiter.h",
    "network_portal_detector_mixin.cc",
    "network_portal_detector_mixin.h",
    "offline_login_test_mixin.cc",
    "offline_login_test_mixin.h",
    "oobe_auth_page_waiter.cc",
    "oobe_auth_page_waiter.h",
    "oobe_base_test.cc",
    "oobe_base_test.h",
    "oobe_configuration_waiter.cc",
    "oobe_configuration_waiter.h",
    "oobe_screen_exit_waiter.cc",
    "oobe_screen_exit_waiter.h",
    "oobe_screen_waiter.cc",
    "oobe_screen_waiter.h",
    "oobe_screens_utils.cc",
    "oobe_screens_utils.h",
    "oobe_window_visibility_waiter.cc",
    "oobe_window_visibility_waiter.h",
    "profile_prepared_waiter.cc",
    "profile_prepared_waiter.h",
    "scoped_help_app_for_test.cc",
    "scoped_help_app_for_test.h",
    "scoped_policy_update.cc",
    "scoped_policy_update.h",
    "session_flags_manager.cc",
    "session_flags_manager.h",
    "session_manager_state_waiter.cc",
    "session_manager_state_waiter.h",
    "test_condition_waiter.h",
    "test_predicate_waiter.cc",
    "test_predicate_waiter.h",
    "user_adding_screen_utils.cc",
    "user_adding_screen_utils.h",
    "user_auth_config.cc",
    "user_auth_config.h",
    "user_policy_mixin.cc",
    "user_policy_mixin.h",
    "webview_content_extractor.cc",
    "webview_content_extractor.h",
    "wizard_controller_screen_exit_waiter.cc",
    "wizard_controller_screen_exit_waiter.h",
  ]

  public_deps = [
    "//ash/constants",
    "//base",
    "//base/test:test_support",
    "//chrome/browser/ash/login/demo_mode",
    "//chrome/browser/ash/login/enrollment",
    "//chrome/browser/ash/login/enrollment:test_support",
    "//chrome/browser/ash/login/screens",
    "//chrome/browser/ui",
    "//chrome/browser/ui/webui/ash/login",
    "//chrome/test:test_support_ui",
    "//chromeos/ash/components/dbus/cryptohome:cryptohome_proto",
    "//chromeos/ash/components/dbus/userdataauth",
    "//chromeos/ash/components/login/auth",
    "//chromeos/ash/components/login/auth/public:authpublic",
    "//chromeos/ash/components/network/portal_detector",
    "//chromeos/ash/components/osauth/public",
    "//components/account_id",
    "//components/policy/core/common:test_support",
    "//components/session_manager/core",
    "//components/user_manager",
    "//components/user_manager:common",
    "//content/test:test_support",
    "//net:test_support",
    "//testing/gmock",
    "//testing/gtest",
    "//ui/aura",
  ]

  deps = [
    "//ash",
    "//ash/public/cpp",
    "//base",
    "//base/test:test_config",
    "//build:branding_buildflags",
    "//chrome/browser",
    "//chrome/browser:browser_process",
    "//chrome/browser:main_extra_parts",
    "//chrome/browser/ash/extensions",
    "//chrome/browser/ash/login/session",
    "//chrome/browser/ash/login/session:test_support",
    "//chrome/browser/ash/net",
    "//chrome/browser/ash/policy/core:test_support",
    "//chrome/browser/ash/policy/enrollment",
    "//chrome/browser/ash/policy/test_support",
    "//chrome/browser/ash/profiles",
    "//chrome/browser/ash/settings",
    "//chrome/browser/extensions:test_support",
    "//chrome/browser/profiles:profile",
    "//chrome/browser/ui/ash/login",
    "//chrome/browser/ui/webui/ash/login/osauth",
    "//chrome/browser/ui/webui/signin",
    "//chrome/browser/ui/webui/signin:signin_utils",
    "//chrome/common:constants",
    "//chrome/common:non_code_constants",
    "//chromeos/ash/components/cryptohome",
    "//chromeos/ash/components/dbus",
    "//chromeos/ash/components/dbus/session_manager",
    "//chromeos/ash/components/dbus/shill",
    "//chromeos/ash/components/dbus/update_engine",
    "//chromeos/ash/components/install_attributes",
    "//chromeos/ash/components/network",
    "//chromeos/ash/components/network:test_support",
    "//chromeos/ash/components/settings",
    "//chromeos/components/onc",
    "//chromeos/dbus/constants",
    "//components/policy/core/common:common_constants",
    "//components/policy/proto",
    "//components/prefs",
    "//components/user_manager:test_support",
    "//content/public/browser",
    "//content/public/common",
    "//dbus",
    "//extensions/browser",
    "//google_apis",
    "//net:test_support",
    "//ui/base",
    "//ui/events/devices",
    "//ui/gfx",
    "//ui/views",
    "//ui/views/controls/webview",
    "//url",
  ]

  allow_circular_includes_from =
      [ "//chrome/browser/ash/policy/core:test_support" ]
}
