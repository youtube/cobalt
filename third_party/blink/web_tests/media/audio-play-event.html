<!DOCTYPE HTML>
<title>Test that a 'play' event is fired by a new audio element on playing.</title>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script>
async_test(function(t) {
    var audio = new Audio();
    audio.onplay = t.step_func(function() {});
    audio.onloadedmetadata = t.step_func(function() {});
    audio.oncanplay = t.step_func(function() {});
    audio.onplaying = t.step_func_done();
    audio.onerror = t.unreached_func("Should not fire 'error' event");
    audio.src = "content/test.oga";
    audio.play();
});
</script>