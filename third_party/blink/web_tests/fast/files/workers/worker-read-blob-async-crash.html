<!DOCTYPE html>
<html>
<body>
    <p>Test for crash bug in WorkerThreadableLoader::MainThreadBridge::mainThreadCreateLoader when FileReader is running in the worker thread and the page location is changed.</p>
    <p>This test PASSED if it did not crash.</p>
    <script src="../../../resources/js-test.js"></script>
    <script>
        var frame = document.createElement('iframe');
        document.body.appendChild(frame);
        frame.onload = function() {
            frame.onload = function() {
                finishJSTest();
                return true;
            };
            return true;
        };
        frame.src = 'resources/worker-read-blob-async-crash-iframe.html';
        jsTestIsAsync = true;
    </script>
</body>
</html>
