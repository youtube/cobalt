
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script>
function runTest() {
  var canvas = document.createElement("canvas");
  var ctx = canvas.getContext('2d');
  ctx.beginLayer();
  ctx.globalAlpha = 0.5;
  ctx.filter = 'sepia(0.5)';
  ctx.shadowOffsetX = -10;
  ctx.shadowOffsetY = 10;
  ctx.shadowColor = 'orange';
  ctx.reset();
  ctx.endLayer();
}

async_test(t => {
    window.onload = function() {
        t.step(runTest);
        t.done();
    }
}, 'Verify that using reset and attributes will not crash.');

</script>