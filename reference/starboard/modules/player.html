<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Starboard Module Reference: player.h</title>

            <!-- Webfont -->
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    
    <!-- Material Design Lite -->
    <link href="/cobalt/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/cobalt/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/cobalt/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/cobalt/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/cobalt/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/cobalt/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/cobalt/js/common.js" type="text/javascript" charset="utf-8"></script>

    <!-- metadata -->
    <meta name="og:title" content="Cobalt / "/>
    <meta name="og:image" content="/cobalt/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
    <link rel="shortcut icon" type="image/png" href="/cobalt/favicon.ico">
  </head>
  <body class="" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>
    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/cobalt/">
        <img class="logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
      <li><a href="/cobalt/starboard/porting.html">Porters</a></li>
      <li><a href="/cobalt/development/setup-linux.html">Developers</a></li>
      <li><a href="/cobalt/contributors/index.html">Contributors</a></li>
      <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
  

<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>
    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Starboard Module Reference: player.h</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu no-top-margin"><a href="/cobalt/overview.html">Overview</a></h4>
</li>
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>This module defines an interface for controlling playback of media elementary
streams.</p>

<h2 id="enums">Enums</h2>

<h3 id="sbplayerdecoderstate">SbPlayerDecoderState</h3>

<p>An indicator of whether the decoder can accept more samples.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbPlayerDecoderStateNeedsData</code> -  The decoder is ready for and eager to receive more samples.  Note that once the decoder notifies the user with |kSbPlayerDecoderStateNeedsData|, it cannot enter |kSbPlayerDecoderStateBufferFull| before SbPlayerWriteSample // SbPlayerWriteEndOfStream is called.</li>
<li>  <code class="prettyprint">kSbPlayerDecoderStateBufferFull</code> - The decoder is not ready for any more samples, so do not send them.Note that this enum value has been deprecated and the SbPlayerimplementation should no longer use this value.</li>
<li>  <code class="prettyprint">kSbPlayerDecoderStateDestroyed</code> - The player has been destroyed, and will send no more callbacks.</li>
</ul>

<h3 id="sbplayerstate">SbPlayerState</h3>

<p>An indicator of the general playback state.</p>

<p><strong>Values</strong></p>

<ul>
<li>  <code class="prettyprint">kSbPlayerStateInitialized</code> -  The player has just been initialized. It is expecting an SbPlayerSeek() call to enter the prerolling state.</li>
<li>  <code class="prettyprint">kSbPlayerStatePrerolling</code> - The player is prerolling, collecting enough data to fill the pipelinebefore presentation starts. After the first preroll is completed, thereshould always be a video frame to render, even if the player goes back toPrerolling after a Seek.</li>
<li>  <code class="prettyprint">kSbPlayerStatePresenting</code> - The player is presenting media, and it is either paused or activelyplaying in real-time. Note that the implementation should use thisstate to signal that the preroll has been finished.</li>
<li>  <code class="prettyprint">kSbPlayerStateEndOfStream</code> - The player is presenting media, but it is paused at the end of the stream.</li>
<li>  <code class="prettyprint">kSbPlayerStateDestroyed</code> - The player has been destroyed, and will send no more callbacks.</li>
<li>  <code class="prettyprint">kSbPlayerStateError</code> - The player encountered an error. It is expecting an SbPlayerDestroy() callto tear down the player. Calls to other functions may be ignored andcallbacks may not be triggered.</li>
</ul>

<h2 id="macros">Macros</h2>

<div id="macro-documentation-section">

<h3 id="sb_player_initial_ticket" class="small-h3">SB_PLAYER_INITIAL_TICKET</h3>

The value of the initial ticket held by the player before the first seek.
The player will use this ticket value to make the first call to
SbPlayerStatusFunc with kSbPlayerStateInitialized.

<h3 id="sb_player_no_duration" class="small-h3">SB_PLAYER_NO_DURATION</h3>

The value to pass into SbPlayerCreate's `duration_ptr` argument for cases
where the duration is unknown, such as for live streams.

</div>

<h2 id="structs">Structs</h2>

<h3 id="sbplayerinfo">SbPlayerInfo</h3>

<p>Information about the current media playback state.</p>

<p><strong>Members</strong></p>

<table class="responsive">
  <tr><th colspan="2">Members</th></tr>
  <tr>
    <td><code>SbMediaTime</code><br>        <code>current_media_pts</code></td>    <td>The position of the playback head, as precisely as possible, in 90KHz ticks
(PTS).</td>  </tr>
  <tr>
    <td><code>SbMediaTime</code><br>        <code>duration_pts</code></td>    <td>The known duration of the currently playing media stream, in 90KHz ticks
(PTS).</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>frame_width</code></td>    <td>The width of the currently displayed frame, in pixels, or 0 if not provided
by this player.</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>frame_height</code></td>    <td>The height of the currently displayed frame, in pixels, or 0 if not
provided by this player.</td>  </tr>
  <tr>
    <td><code>bool</code><br>        <code>is_paused</code></td>    <td>Whether playback is currently paused.</td>  </tr>
  <tr>
    <td><code>double</code><br>        <code>volume</code></td>    <td>The current player volume in [0, 1].</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>total_video_frames</code></td>    <td>The number of video frames sent to the player since the creation of the
player.</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>dropped_video_frames</code></td>    <td>The number of video frames decoded but not displayed since the creation of
the player.</td>  </tr>
  <tr>
    <td><code>int</code><br>        <code>corrupted_video_frames</code></td>    <td>The number of video frames that failed to be decoded since the creation of
the player.</td>  </tr>
</table>

<h3 id="sbplayer">SbPlayer</h3>

<p>An opaque handle to an implementation-private structure representing a
player.</p>

<h2 id="functions">Functions</h2>

<h3 id="sbplayercreate">SbPlayerCreate</h3>

<p><strong>Description</strong></p>

<p>Creates a player that will be displayed on <code class="prettyprint">window</code> for the specified
<code class="prettyprint">video_codec</code> and <code class="prettyprint">audio_codec</code>, acquiring all resources needed to operate
it, and returning an opaque handle to it. The expectation is that a new
player will be created and destroyed for every playback.<br>
This function returns the created player. Note the following:
<ul><li>The associated decoder of the returned player should be assumed to not be
in <code class="prettyprint">kSbPlayerDecoderStateNeedsData</code> until <code><a href="#sbplayerseek">SbPlayerSeek()</a></code> has been called
on it.
</li><li>It is expected either that the thread that calls <code>SbPlayerCreate</code> is the same
thread that calls the other <code class="prettyprint">SbPlayer</code> functions for that player, or that
there is a mutex guarding calls into each <code class="prettyprint">SbPlayer</code> instance.
</li><li>If there is a platform limitation on how many players can coexist
simultaneously, then calls made to this function that attempt to exceed
that limit will return <code class="prettyprint">kSbPlayerInvalid</code>.</li></ul></p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerCreate-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerCreate-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerCreate-declaration">
<pre>
SB_EXPORT SbPlayer
SbPlayerCreate(SbWindow window,
               SbMediaVideoCodec video_codec,
               SbMediaAudioCodec audio_codec,
               SbMediaTime duration_pts,
               SbDrmSystem drm_system,
               const SbMediaAudioHeader* audio_header,
               SbPlayerDeallocateSampleFunc sample_deallocate_func,
               SbPlayerDecoderStatusFunc decoder_status_func,
               SbPlayerStatusFunc player_status_func,
               void* context);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerCreate-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

SbPlayer SbPlayerCreate(SbWindow /*window*/,
                        SbMediaVideoCodec /*video_codec*/,
                        SbMediaAudioCodec /*audio_codec*/,
                        SbMediaTime /*duration_pts*/,
                        SbDrmSystem /*drm_system*/,
                        const SbMediaAudioHeader* /*audio_header*/,
                        SbPlayerDeallocateSampleFunc /*sample_deallocate_func*/,
                        SbPlayerDecoderStatusFunc /*decoder_status_func*/,
                        SbPlayerStatusFunc /*player_status_func*/,
                        void* /*context*/) {
  return kSbPlayerInvalid;
}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbWindow</code><br>        <code>window</code></td>
    <td>The window that will display the player. <code>window</code> can be
<code>kSbWindowInvalid</code> for platforms where video will be only displayed on a
particular window that the underlying implementation already has access to.</td>
  </tr>
  <tr>
    <td><code>SbMediaVideoCodec</code><br>        <code>video_codec</code></td>
    <td>The video codec used for the player. If <code>video_codec</code> is
<code>kSbMediaVideoCodecNone</code>, the player is an audio-only player. If
<code>video_codec</code> is any other value, the player is an audio/video decoder.</td>
  </tr>
  <tr>
    <td><code>SbMediaAudioCodec</code><br>        <code>audio_codec</code></td>
    <td>The audio codec used for the player. The value should never
be <code>kSbMediaAudioCodecNone</code>. In addition, the caller must provide a
populated <code>audio_header</code> if the audio codec is <code>kSbMediaAudioCodecAac</code>.</td>
  </tr>
  <tr>
    <td><code>SbMediaTime</code><br>        <code>duration_pts</code></td>
    <td>The expected media duration in 90KHz ticks (PTS). It may be
set to <code>SB_PLAYER_NO_DURATION</code> for live streams.</td>
  </tr>
  <tr>
    <td><code>SbDrmSystem</code><br>        <code>drm_system</code></td>
    <td>If the media stream has encrypted portions, then this
parameter provides an appropriate DRM system, created with
<code>SbDrmCreateSystem()</code>. If the stream does not have encrypted portions,
then <code>drm_system</code> may be <code>kSbDrmSystemInvalid</code>.</td>
  </tr>
  <tr>
    <td><code>const SbMediaAudioHeader*</code><br>        <code>audio_header</code></td>
    <td>Note that the caller must provide a populated <code>audio_header</code>
if the audio codec is <code>kSbMediaAudioCodecAac</code>. Otherwise, <code>audio_header</code>
can be NULL. See media.h for the format of the <code>SbMediaAudioHeader</code> struct.</td>
  </tr>
  <tr>
    <td><code>SbPlayerDeallocateSampleFunc</code><br>        <code>sample_deallocate_func</code></td>
    <td> </td>  </tr>
  <tr>
    <td><code>SbPlayerDecoderStatusFunc</code><br>        <code>decoder_status_func</code></td>
    <td>If not <code>NULL</code>, the decoder calls this function on an
internal thread to provide an update on the decoder's status. No work
should be done on this thread. Rather, it should just signal the client
thread interacting with the decoder.</td>
  </tr>
  <tr>
    <td><code>SbPlayerStatusFunc</code><br>        <code>player_status_func</code></td>
    <td>If not <code>NULL</code>, the player calls this function on an
internal thread to provide an update on the playback status. No work
should be done on this thread. Rather, it should just signal the client
thread interacting with the decoder.</td>
  </tr>
  <tr>
    <td><code>void*</code><br>        <code>context</code></td>
    <td>This is passed to all callbacks and is generally used to point
at a class or struct that contains state associated with the player.</td>
  </tr>
</table>

<h3 id="sbplayerdestroy">SbPlayerDestroy</h3>

<p><strong>Description</strong></p>

<p>Destroys <code class="prettyprint">player</code>, freeing all associated resources. Each callback must
receive one more callback to say that the player was destroyed. Callbacks
may be in-flight when <code>SbPlayerDestroy</code> is called, and should be ignored once
this function is called.<br>
It is not allowed to pass <code class="prettyprint">player</code> into any other <code class="prettyprint">SbPlayer</code> function once
SbPlayerDestroy has been called on that player.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerDestroy-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerDestroy-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerDestroy-declaration">
<pre>
SB_EXPORT void SbPlayerDestroy(SbPlayer player);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerDestroy-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerDestroy(SbPlayer /*player*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player to be destroyed.</td>
  </tr>
</table>

<h3 id="sbplayergetcompositionhandle">SbPlayerGetCompositionHandle</h3>

<p><strong>Description</strong></p>

<p>Gets a handle that represents the player&#39;s video output, for the purpose of
composing with <code class="prettyprint">SbCompositor</code>, which is currently undefined.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SB_EXPORT SbPlayerCompositionHandle
SbPlayerGetCompositionHandle(SbPlayer player);
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player for which the video output handle is retrieved.</td>
  </tr>
</table>

<h3 id="sbplayergetinfo">SbPlayerGetInfo</h3>

<p><strong>Description</strong></p>

<p>Gets a snapshot of the current player state and writes it to
<code class="prettyprint">out_player_info</code>. This function may be called very frequently and is
expected to be inexpensive.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerGetInfo-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerGetInfo-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerGetInfo-declaration">
<pre>
SB_EXPORT void SbPlayerGetInfo(SbPlayer player, SbPlayerInfo* out_player_info);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerGetInfo-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerGetInfo(SbPlayer /*player*/, SbPlayerInfo* /*out_player_info*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player about which information is being retrieved.</td>
  </tr>
  <tr>
    <td><code>SbPlayerInfo*</code><br>        <code>out_player_info</code></td>
    <td>The information retrieved for the player.</td>
  </tr>
</table>

<h3 id="sbplayergettextureid">SbPlayerGetTextureId</h3>

<p><strong>Description</strong></p>

<p>Gets an OpenGL texture ID that points to the player&#39;s video output frame at
the time it was called. This function can be called once, and the texture ID
will be appropriately remapped to the current video frame when it is drawn.</p>

<p><strong>Declaration</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SB_EXPORT uint32_t SbPlayerGetTextureId(SbPlayer player);
</code></pre></div>
<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player for which the texture ID is retrieved.</td>
  </tr>
</table>

<h3 id="sbplayerseek">SbPlayerSeek</h3>

<p><strong>Description</strong></p>

<p>Tells the player to freeze playback (if playback has already started),
reset or flush the decoder pipeline, and go back to the Prerolling state.
The player should restart playback once it can display the frame at
<code class="prettyprint">seek_to_pts</code>, or the closest it can get. (Some players can only seek to
I-Frames, for example.)<br>
<ul><li>Seek must be called before samples are sent when starting playback for
the first time, or the client never receives the
<code class="prettyprint">kSbPlayerDecoderStateNeedsData</code> signal.
</li><li>A call to seek may interrupt another seek.
</li><li>After this function is called, the client should not send any more audio
or video samples until <code class="prettyprint">SbPlayerDecoderStatusFunc</code> is called back with
<code class="prettyprint">kSbPlayerDecoderStateNeedsData</code> for each required media type.
<code class="prettyprint">SbPlayerDecoderStatusFunc</code> is the <code class="prettyprint">decoder_status_func</code> callback function
that was specified when the player was created (SbPlayerCreate).</li></ul><br>
The <code class="prettyprint">ticket</code> value is used to filter calls that may have been in flight
when <code>SbPlayerSeek</code> was called. To be very specific, once <code>SbPlayerSeek</code> has
been called with ticket X, a client should ignore all
<code class="prettyprint">SbPlayerDecoderStatusFunc</code> calls that do not pass in ticket X.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerSeek-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerSeek-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerSeek-declaration">
<pre>
SB_EXPORT void SbPlayerSeek(SbPlayer player,
                            SbMediaTime seek_to_pts,
                            int ticket);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerSeek-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerSeek(SbPlayer /*player*/,
                  SbMediaTime /*seek_to_pts*/,
                  int /*ticket*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player in which the seek operation is being performed.</td>
  </tr>
  <tr>
    <td><code>SbMediaTime</code><br>        <code>seek_to_pts</code></td>
    <td>The frame at which playback should begin.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>ticket</code></td>
    <td>A user-supplied unique ID that is be passed to all subsequent
<code>SbPlayerDecoderStatusFunc</code> calls. (That is the <code>decoder_status_func</code>
callback function specified when calling <code><a href="#sbplayercreate">SbPlayerCreate</a></code>.)</td>
  </tr>
</table>

<h3 id="sbplayersetbounds">SbPlayerSetBounds</h3>

<p><strong>Description</strong></p>

<p>Sets the player bounds to the given graphics plane coordinates. The changes
do not take effect until the next graphics frame buffer swap. The default
bounds for a player is the full screen. This function should be expected to
be called up to once per frame, so implementors should take care to avoid
related performance concerns with such frequent calls.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerSetBounds-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerSetBounds-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerSetBounds-declaration">
<pre>
SB_EXPORT void SbPlayerSetBounds(SbPlayer player,
                                 int x,
                                 int y,
                                 int width,
                                 int height);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerSetBounds-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

#if SB_IS(PLAYER_PUNCHED_OUT)

void SbPlayerSetBounds(SbPlayer /*player*/,
                       int /*x*/,
                       int /*y*/,
                       int /*width*/,
                       int /*height*/) {}

#endif  // SB_IS(PLAYER_PUNCHED_OUT)
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player that is being resized.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>x</code></td>
    <td>The x-coordinate of the upper-left corner of the player.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>y</code></td>
    <td>The y-coordinate of the upper-left corner of the player.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>width</code></td>
    <td>The width of the player, in pixels.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>height</code></td>
    <td>The height of the player, in pixels.</td>
  </tr>
</table>

<h3 id="sbplayersetpause">SbPlayerSetPause</h3>

<p><strong>Description</strong></p>

<p>Pauses or unpauses the <code class="prettyprint">player</code>. If the <code class="prettyprint">player</code>&#39;s state is
<code class="prettyprint">kPlayerStatePrerolling</code>, this function sets the initial pause state for
the current seek target.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerSetPause-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerSetPause-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerSetPause-declaration">
<pre>
SB_EXPORT void SbPlayerSetPause(SbPlayer player, bool pause);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerSetPause-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerSetPause(SbPlayer /*player*/, bool /*pause*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code></td>
    <td><code>player</code></td>
  </tr>
  <tr>
    <td><code>bool</code></td>
    <td><code>pause</code></td>
  </tr>
</table>

<h3 id="sbplayersetvolume">SbPlayerSetVolume</h3>

<p><strong>Description</strong></p>

<p>Sets the player&#39;s volume.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerSetVolume-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerSetVolume-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerSetVolume-declaration">
<pre>
SB_EXPORT void SbPlayerSetVolume(SbPlayer player, double volume);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerSetVolume-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerSetVolume(SbPlayer /*player*/, double /*volume*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player in which the volume is being adjusted.</td>
  </tr>
  <tr>
    <td><code>double</code><br>        <code>volume</code></td>
    <td>The new player volume. The value must be between <code>0.0</code> and <code>1.0</code>,
inclusive. A value of <code>0.0</code> means that the audio should be muted, and a
value of <code>1.0</code> means that it should be played at full volume.</td>
  </tr>
</table>

<h3 id="sbplayerwriteendofstream">SbPlayerWriteEndOfStream</h3>

<p><strong>Description</strong></p>

<p>Writes a marker to <code class="prettyprint">player</code>&#39;s input stream of <code class="prettyprint">stream_type</code> indicating that
there are no more samples for that media type for the remainder of this
media stream. This marker is invalidated, along with the rest of the stream&#39;s
contents, after a call to <code><a href="#sbplayerseek">SbPlayerSeek</a></code>.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerWriteEndOfStream-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerWriteEndOfStream-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerWriteEndOfStream-declaration">
<pre>
SB_EXPORT void SbPlayerWriteEndOfStream(SbPlayer player,
                                        SbMediaType stream_type);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerWriteEndOfStream-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerWriteEndOfStream(SbPlayer /*player*/,
                              SbMediaType /*stream_type*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player to which the marker is written.</td>
  </tr>
  <tr>
    <td><code>SbMediaType</code><br>        <code>stream_type</code></td>
    <td>The type of stream for which the marker is written.</td>
  </tr>
</table>

<h3 id="sbplayerwritesample">SbPlayerWriteSample</h3>

<p><strong>Description</strong></p>

<p>Writes a sample of the given media type to <code class="prettyprint">player</code>&#39;s input stream. The
lifetime of <code class="prettyprint">video_sample_info</code> and <code class="prettyprint">sample_drm_info</code> (as well as member
<code class="prettyprint">subsample_mapping</code> contained inside it) are not guaranteed past the call
to <code>SbPlayerWriteSample</code>. That means that before returning, the implementation
must synchronously copy any information it wants to retain from those
structures.</p>

<p><strong>Declaration and definitions</strong></p>

<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
    <a href="#SbPlayerWriteSample-declaration" class="mdl-tabs__tab is-active">Declaration</a>
    <a href="#SbPlayerWriteSample-stub" class="mdl-tabs__tab">stub</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="SbPlayerWriteSample-declaration">
<pre>
SB_EXPORT void SbPlayerWriteSample(
    SbPlayer player,
    SbMediaType sample_type,
    const void* sample_buffer,
    int sample_buffer_size,
    SbMediaTime sample_pts,
    const SbMediaVideoSampleInfo* video_sample_info,
    const SbDrmSampleInfo* sample_drm_info);
</pre>
</div>

<p><div class="mdl-tabs__panel" id="SbPlayerWriteSample-stub"></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#include &quot;starboard/player.h&quot;

void SbPlayerWriteSample(SbPlayer /*player*/,
                         SbMediaType /*sample_type*/,
                         const void* /*sample_buffer*/,
                         int /*sample_buffer_size*/,
                         SbMediaTime /*sample_pts*/,
                         const SbMediaVideoSampleInfo* /*video_sample_info*/,
                         const SbDrmSampleInfo* /*sample_drm_info*/) {}
</code></pre></div>
<p></div>
</div></p>

<p><strong>Parameters</strong></p>

<table class="responsive">
  <tr><th colspan="2">Parameters</th></tr>
  <tr>
    <td><code>SbPlayer</code><br>        <code>player</code></td>
    <td>The player to which the sample is written.</td>
  </tr>
  <tr>
    <td><code>SbMediaType</code><br>        <code>sample_type</code></td>
    <td>The type of sample being written. See the <code>SbMediaType</code>
enum in media.h.</td>
  </tr>
  <tr>
    <td><code>const void*</code><br>        <code>sample_buffer</code></td>
    <td>A pointer to a buffer with the data for this sample. The
buffer is expected to be a portion of a H.264 bytestream, containing a
sequence of whole NAL Units for video, or a complete audio frame.</td>
  </tr>
  <tr>
    <td><code>int</code><br>        <code>sample_buffer_size</code></td>
    <td>The number of bytes in the given sample.</td>
  </tr>
  <tr>
    <td><code>SbMediaTime</code><br>        <code>sample_pts</code></td>
    <td>The timestamp of the sample in 90KHz ticks (PTS). Note that
samples MAY be written "slightly" out of order.</td>
  </tr>
  <tr>
    <td><code>const SbMediaVideoSampleInfo*</code><br>        <code>video_sample_info</code></td>
    <td>Information about a video sample. This value is
required if <code>sample_type</code> is <code>kSbMediaTypeVideo</code>. Otherwise, it must be
<code>NULL</code>.</td>
  </tr>
  <tr>
    <td><code>const SbDrmSampleInfo*</code><br>        <code>sample_drm_info</code></td>
    <td>The DRM system for the media sample. This value is
required for encrypted samples. Otherwise, it must be <code>NULL</code>.</td>
  </tr>
</table>

        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    

<footer>
<div class="container">
    <div class="row">
        <div class="col-md-5 column-left">
    <span class="copyright-text">Â© Google 2016</span>
        </div>
        <div class="col-md-2 column-middle">
  <img class="footer-logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt"/>
        </div>
        <div class="col-md-5 column-right">&nbsp;</div>
            </div>
</div>
</footer>

    
  </body>
</html>
