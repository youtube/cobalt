<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cobalt / Set up your environment - Linux</title>

            <!-- Webfont -->
    <link href='http://fonts.googleapis.com/css?family=Kavoon|Material+Icons' rel='stylesheet' type='text/css'>
    
    <!-- Material Design Lite -->
    <link href="/cobalt/assets/material-design-lite/material.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link href="/cobalt/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="/cobalt/css/site.css" />

    <!-- Font Awesome icons -->
    <link href="/cobalt/assets/font-awesome-4.4.0/css/font-awesome.min.css"
          rel="stylesheet"
          type="text/css">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/cobalt/assets/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <!-- material design lite -->
    <script src="/cobalt/assets/material-design-lite/material.min.js"></script>

    <!-- Include the common site javascript -->
    <script src="/cobalt/js/common.js" type="text/javascript" charset="utf-8"></script>

    <!-- metadata -->
    <meta name="og:title" content="Cobalt / "/>
    <meta name="og:image" content="/cobalt/images/cobalt-logo.png"/>
    <meta name="og:description" content="A high-performance, small-footprint platform that implements a subset of HTML5/CSS/JS to run applications, including the YouTube TV app."/>
    <link rel="shortcut icon" type="image/png" href="/cobalt/favicon.ico">
  </head>
  <body class="" id="top_of_page">

    <span id="toc-depth" data-toc-depth="h2,h3"></span>
    <nav id="common-nav" class="navbar navbar-fixed-top inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/cobalt/">
        <img class="logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt">
      </a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right" id="standard-menu-links">
      <li><a href="/cobalt/starboard/porting.html">Porters</a></li>
      <li><a href="/cobalt/development/setup-linux.html">Developers</a></li>
      <li><a href="/cobalt/contributors/index.html">Contributors</a></li>
      <li><a href="https://cobalt.googlesource.com/cobalt">Code Repo</a></li>
      </ul>
      <ul class="nav nav-stacked mobile-left-nav-menu" id="collapsed-left-menu">
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
  

<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>
    
<div id="masthead">
  <div class="container">
    <div class="row">
      <div class="col-md-11">
        <h1>Set up your environment - Linux</h1>
      </div>
    </div>
  </div>
</div>


<div class="container">
    <div class="row scroll-margin" id="toc-content-row">
    <div class="col-md-2" id="leftCol">
      <ul class="nav nav-stacked mobile-left-nav-menu" id="sidebar">
        
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu no-top-margin"><a href="/cobalt/overview.html">Overview</a></h4>
</li>
        
  
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu no-top-margin">Porters</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/starboard/porting.html">Port Cobalt to your platform</a></li>
        <li><a href="/cobalt/starboard/testing.html">Testing with NPLB</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/reference/starboard/configuration-public.html">configuration_public.h</a></li>
        <li><a href="/cobalt/reference/starboard/gyp-configuration.html">gyp_configuration.gypi</a></li>
                <li><b>Starboard modules</b>
          <ul>
                      <li><a href="/cobalt/reference/starboard/modules/atomic.html">atomic.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/audio_sink.html">audio_sink.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/blitter.html">blitter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/byte_swap.html">byte_swap.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/character.html">character.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/condition_variable.html">condition_variable.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/configuration.html">configuration.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/directory.html">directory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/double.html">double.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/drm.html">drm.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/event.html">event.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/export.html">export.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/file.html">file.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/input.html">input.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/key.html">key.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/log.html">log.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/media.html">media.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/memory.html">memory.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/mutex.html">mutex.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/once.html">once.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/player.html">player.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/queue.html">queue.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket.html">socket.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/socket_waiter.html">socket_waiter.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/spin_lock.html">spin_lock.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/storage.html">storage.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/string.html">string.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/system.html">system.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread.html">thread.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/thread_types.html">thread_types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time.html">time.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/time_zone.html">time_zone.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/types.html">types.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/user.html">user.h</a></li>
                      <li><a href="/cobalt/reference/starboard/modules/window.html">window.h</a></li>
          </ul>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
          <h4 class="submenu">Developers</h4>
  <ul class="content">
    <li><b>Guides</b>
      <ul>
        <li><a href="/cobalt/development/setup-linux.html">Setup - Linux</a></li>
        <li><a href="/cobalt/development/setup-raspi.html">Setup - RasPi</a></li>
      </ul>
    </li>
    <li><b>Reference</b>
      <ul>
        <li><a href="/cobalt/development/reference/supported-features.html">Cobalt support</a></li>
      </ul>
    </li>
  </ul>
</li>
<li class="expand-container" data-expander-target-search="relative">
<h4 class="no-submenu"><a href="/cobalt/contributors/index.html">Contributors</a></h4>
</li>
      </ul>
    </div>
    <div class="col-md-3 show-share-buttons-bottom" id="rightCol">
      <div class="nav nav-stacked" id="tocSidebar">
        
        <div id="toc"></div>
        
        
      </div>
    </div>
    <div class="col-md-7" id="centerCol">
      <div id="content">
        <p>These instructions explain how Linux users set up their Cobalt development
environment, fetch a copy of the Cobalt code repository, and build a Cobalt
binary. Note that the binary has a graphical client and must be run locally
on the machine that you are using to view the client. For example, you cannot
SSH into another machine and run the binary on that machine.</p>

<ol>
<li><p>Choose where you want to put the <code class="prettyprint">depot_tools</code> directory, which is used
by the Cobalt code. An easy option is to put them in <code class="prettyprint">~/depot_tools</code>.
Clone the tools by running the following command:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ cd ~/
$ git clone https://cobalt.googlesource.com/depot_tools
</code></pre></div></li>
<li><p>Add your <code class="prettyprint">depot_tools</code> directory to the end of your <code class="prettyprint">PATH</code> variable.
We recommend adding something like this to your <code class="prettyprint">.bashrc</code> or <code class="prettyprint">.profile</code>
file:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ PATH=${PATH}:/path/to/depot_tools
</code></pre></div></li>
<li><p>Run the following command to install packages needed to build and run
Cobalt on Linux:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ sudo apt-get install build-essential coreutils git gperf \
       libasound2-dev libavformat-dev libavresample-dev \
       libdirectfb-dev libdirectfb-extra libpulse-dev \
       libgl1-mesa-dev libgles2-mesa-dev libx11-dev \
       libxcomposite-dev libxcomposite1 libxrender-dev libxrender1 \
       libxpm-dev m4 ruby tar xserver-xephyr xz-utils yasm
</code></pre></div></li>
<li><p>Install the latest version of the standard C++ header files (<code class="prettyprint">libstdc++</code>).
For example:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">sudo apt-get install libstdc++-4.8-dev
</code></pre></div></li>
<li><p>Install <code class="prettyprint">bison-2.7</code>. Note that this series of commands uninstalls any
version of <code class="prettyprint">bison</code> that you already have installed to ensure that the
desired version is installed.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ sudo apt-get remove bison
$ cd /tmp
$ wget http://ftp.gnu.org/gnu/bison/bison-2.7.1.tar.gz
$ tar zxf bison-2.7.1.tar.gz
$ cd bison-2.7.1
$ sh configure &amp;&amp; make &amp;&amp; sudo make install
$ which bison
/usr/local/bin/bison
$ bison --version
bison (GNU Bison) 2.7.12-4996
</code></pre></div></li>
<li><p>Clone the Cobalt code repository. The following <code class="prettyprint">git</code> command creates a
<code class="prettyprint">cobalt</code> directory that contains the repository:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ git clone https://cobalt.googlesource.com/cobalt
</code></pre></div></li>
<li><p>Modify your path to include the version of Clang that is downloaded
in the next step of the instructions. The next step will return an
error if this version of Clang is not in your path before it runs.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$PATH=&quot;/path/to/cobalt/src/third_party/llvm-build/Release+Asserts/bin:${PATH}&quot;
</code></pre></div></li>
<li><p>Build the code by navigating to the <code class="prettyprint">src</code> directory in your new
<code class="prettyprint">cobalt</code> directory and running the following command. You must
specify a platform when running this command. On goobuntu, the
canonical platform is <code class="prettyprint">linux-x64x11</code>.</p>

<p>You can also use the <code class="prettyprint">-C</code> command-line flag to specify a <code class="prettyprint">build_type</code>.
Valid build types are <code class="prettyprint">debug</code>, <code class="prettyprint">devel</code>, <code class="prettyprint">qa</code>, and <code class="prettyprint">gold</code>. If you
specify a build type, the command finishes sooner. Otherwise, all types
are built.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ cobalt/build/gyp_cobalt [-C &lt;build_type&gt;] &lt;platform&gt;
</code></pre></div>
<aside class="note"><b>Important:</b> You need to rerun gyp_cobalt every
time a change is made to a `.gyp` file.</aside></li>
<li><p>Compile the code from the <code class="prettyprint">src/</code> directory:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ ninja -C out/&lt;platform&gt;_&lt;build_type&gt; &lt;target_name&gt;
</code></pre></div>
<p>The previous command contains three variables:</p>

<ol>
<li> <code class="prettyprint">&lt;platform&gt;</code> is the <a href="/starboard/porting.html#1-enumerate-and-name-your-platform-configurations">platform
configuration</a>
that identifies the platform. As described in the Starboard porting
guide, it contains a <code class="prettyprint">family name</code> (like <code class="prettyprint">linux</code>) and a
<code class="prettyprint">binary variant</code> (like <code class="prettyprint">x64x11</code>), separated by a hyphen.</li>
<li> <code class="prettyprint">&lt;build_type&gt;</code> is the build you are compiling. Possible values are
<code class="prettyprint">debug</code>, <code class="prettyprint">devel</code>, <code class="prettyprint">qa</code>, and <code class="prettyprint">gold</code>. These values are also described in
the Starboard porting guide under the <a href="/starboard/porting.html#4-make-required-file-modifications">required file modifications</a> for the
<code class="prettyprint">gyp_configuration.gypi</code> file.</li>
<li> <code class="prettyprint">&lt;target_name&gt;</code> is the name assigned to the compiled code and it is
used to run the code compiled in this step. The most common names are
<code class="prettyprint">cobalt</code>, <code class="prettyprint">nplb</code>, and <code class="prettyprint">all</code>:

<ul>
<li>  <code class="prettyprint">cobalt</code> builds the Cobalt app.</li>
<li>  <code class="prettyprint">nplb</code> builds Starboard&#39;s platform verification test suite to
ensure that your platform&#39;s code passes all tests for running
Cobalt.</li>
<li>  <code class="prettyprint">all</code> builds all targets.</li>
</ul></li>
</ol>

<p>For example:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ninja -C out/linux-x64x11_debug cobalt
</code></pre></div>
<p>This command compiles the Cobalt <code class="prettyprint">debug</code> configuration for the
<code class="prettyprint">linux-x64x11</code> platform and creates a target named <code class="prettyprint">cobalt</code> that
you can then use to run the compiled code.</p></li>
<li><p>Run the compiled code to launch the Cobalt client:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"># Note that &#39;cobalt&#39; was the &lt;target_name&gt; from the previous step.
$ out/linux-x64x11_debug/cobalt [--url=&lt;url&gt;]
</code></pre></div>
<p>The flags in the following table are frequently used, and the full set
of flags that this command supports are in <code><a
href="https://cobalt.googlesource.com/cobalt/+/master/src/cobalt/browser/switches.cc">cobalt/browser/switches.cc</a></code>.</p>

<table class="details responsive">
  <tr>
    <th colspan="2">Flags</th>
  </tr>
  <tr>
    <td><code>allow_http</code></td>
    <td>Indicates that you want to use `http` instead of `https`.</td>
  </tr>
  <tr>
    <td><code>ignore_certificate_errors</code></td>
    <td>Indicates that you want to connect to an <code>https</code> host
        that doesn't have a certificate that can be validated by our set
        of root CAs.</td>
  </tr>
  <tr>
    <td><code>url</code></td>
    <td>Defines the startup URL that Cobalt will use. If no value is set,
        then Cobalt uses a default URL. This option lets you point at a
        different app than the YouTube app.</td>
  </tr>
</table></li>
</ol>

<!--
<aside class="note">
<b>Note:</b> If you plan to upload reviews to the Cobalt repository, you
also need to <a href="/development/setup-gitcookies.html">follow these
instructions</a> to set up a <code>.gitcookies</code> file.
</aside>
-->

        
          
            
          
        
      </div>
    </div>
  </div>

</div>


    

<footer>
<div class="container">
    <div class="row">
        <div class="col-md-5 column-left">
    <span class="copyright-text">Â© Google 2016</span>
        </div>
        <div class="col-md-2 column-middle">
  <img class="footer-logo" src="/cobalt/images/cobalt-logo.png" alt="Cobalt"/>
        </div>
        <div class="col-md-5 column-right">&nbsp;</div>
            </div>
</div>
</footer>

    
  </body>
</html>
