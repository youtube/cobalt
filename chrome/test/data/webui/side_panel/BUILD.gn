# Copyright 2021 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("../build_webui_tests.gni")

build_webui_tests("build") {
  resource_path_prefix = "side_panel"

  files = [
    "bookmarks/bookmark_folder_test.ts",
    "bookmarks/bookmarks_drag_manager_test.ts",
    "bookmarks/bookmarks_list_interactive_ui_test.ts",
    "bookmarks/bookmarks_list_test.ts",
    "bookmarks/power_bookmarks_context_menu_test.ts",
    "bookmarks/power_bookmarks_edit_dialog_test.ts",
    "bookmarks/power_bookmarks_list_test.ts",
    "bookmarks/power_bookmarks_service_test.ts",
    "bookmarks/test_bookmarks_api_proxy.ts",
    "bookmarks/test_power_bookmarks_delegate.ts",
    "bookmarks/commerce/shopping_list_test.ts",
    "bookmarks/commerce/test_shopping_list_api_proxy.ts",
    "reading_list/reading_list_app_test.ts",
    "reading_list/test_reading_list_api_proxy.ts",
    "user_notes/app_test.ts",
    "user_notes/test_user_notes_api_proxy.ts",
    "user_notes/user_note_overviews_list_test.ts",
    "user_notes/user_notes_list_test.ts",
  ]

  ts_path_mappings = [
    "chrome://bookmarks-side-panel.top-chrome/*|" +
        rebase_path(
            "$root_gen_dir/chrome/browser/resources/side_panel/bookmarks/tsc/*",
            target_gen_dir),
    "chrome://read-later.top-chrome/*|" + rebase_path(
            "$root_gen_dir/chrome/browser/resources/side_panel/reading_list/tsc/*",
            target_gen_dir),
    "chrome://user-notes-side-panel.top-chrome/*|" + rebase_path(
            "$root_gen_dir/chrome/browser/resources/side_panel/user_notes/tsc/*",
            target_gen_dir),
  ]
  ts_definitions = [
    "//tools/typescript/definitions/bookmarks.d.ts",
    "//tools/typescript/definitions/bookmark_manager_private.d.ts",
    "//tools/typescript/definitions/metrics_private.d.ts",
    "//tools/typescript/definitions/pending.d.ts",
  ]
  ts_deps = [
    "//chrome/browser/resources/side_panel/bookmarks:build_ts",
    "//chrome/browser/resources/side_panel/reading_list:build_ts",
    "//chrome/browser/resources/side_panel/user_notes:build_ts",
    "//third_party/polymer/v3_0:library",
    "//ui/webui/resources/cr_components/page_image_service:build_ts",
    "//ui/webui/resources/cr_elements:build_ts",
    "//ui/webui/resources/js:build_ts",
    "//ui/webui/resources/mojo:build_ts",
  ]
}
