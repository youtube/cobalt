<!DOCTYPE html>
<style>
#container {
    position: relative;
    width: 200px;
    height: 200px;
    background: red;
}
#parent {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border: solid green;
    border-width: 50px 50px;
}
#parent div {
    position: absolute;
    left: 0px;
    top: 0px;
    right: 0px;
    bottom: 0px;
    background-color:green;
}
</style>
<script src="../../../resources/check-layout.js"></script>
<p>crbug.com/581612: Changing block-direction border width on a positioned element with auto height should flex the height of its descendants. There should be no red.</p>
<div id="console"></div>
<div id="container">
    <div id="parent">
        <div id="child" data-expected-height=140></div>
    </div>
</div>
<script>
    document.body.offsetTop;
    document.getElementById('parent').style.borderTopWidth = '10px';
    checkLayout('#child', document.getElementById('console'));
</script>
