<html>
  <head>
    <title>DeviceOrientation all-null event test</title>
  </head>
  <body>
    <div id="status">FAIL</div>
  </body>
  <script type="text/javascript">
    function checkOrientationEvent(event) {
      return event.alpha == null &&
             event.beta == null &&
             event.gamma == null;
    }

    function onOrientation(event) {
      window.removeEventListener('deviceorientation', onOrientation);
      checkOrientationEvent(event) ? pass() : fail();
    }

    function pass() {
      document.getElementById('status').innerHTML = 'PASS';
      document.location = '#pass';
    }

    function fail() {
      document.location = '#fail';
    }

    window.addEventListener('deviceorientation', onOrientation);
  </script>
</html>
